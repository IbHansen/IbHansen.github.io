

<!DOCTYPE html>


<html >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>1. Model stability, some background &#8212; Some additional draft (very) material on The World Bank&#39;s MFMod Framework in Python with Modelflow</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "light";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../../_static/styles/theme.css?digest=e353d410970836974a52" rel="stylesheet" />
<link href="../../_static/styles/bootstrap.css?digest=e353d410970836974a52" rel="stylesheet" />
<link href="../../_static/styles/pydata-sphinx-theme.css?digest=e353d410970836974a52" rel="stylesheet" />

  
  <link href="../../_static/vendor/fontawesome/6.1.2/css/all.min.css?digest=e353d410970836974a52" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../../_static/vendor/fontawesome/6.1.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../../_static/vendor/fontawesome/6.1.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../../_static/vendor/fontawesome/6.1.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css" />
    <link rel="stylesheet" href="../../_static/styles/sphinx-book-theme.css?digest=14f4ca6b54d191a8c7657f6c759bf11a5fb86285" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/design-style.4045f2051d55cab465a707391d5b2007.min.css" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../../_static/scripts/bootstrap.js?digest=e353d410970836974a52" />
<link rel="preload" as="script" href="../../_static/scripts/pydata-sphinx-theme.js?digest=e353d410970836974a52" />

    <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/doctools.js"></script>
    <script src="../../_static/clipboard.min.js"></script>
    <script src="../../_static/copybutton.js"></script>
    <script src="../../_static/scripts/sphinx-book-theme.js?digest=5a5c038af52cf7bc1a1ec88eea08e6366ee68824"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../../_static/togglebutton.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="../../_static/design-tabs.js"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"
const thebe_selector = ".thebe,.cell"
const thebe_selector_input = "pre"
const thebe_selector_output = ".output, .cell_output"
</script>
    <script async="async" src="../../_static/sphinx-thebe.js"></script>
    <script>window.MathJax = {"options": {"processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
    <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'content/stability/stability introduction';</script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="2. Model eigenvalues" href="EigenValues.html" />
    <link rel="prev" title="Foreword" href="../introduction.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="None"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <a class="skip-link" href="#main-content">Skip to main content</a>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__primary"
          id="__primary"/>
  <label class="overlay overlay-primary" for="__primary"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__secondary"
          id="__secondary"/>
  <label class="overlay overlay-secondary" for="__secondary"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="../../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search this book..."
         aria-label="Search this book..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>
  
    <nav class="bd-header navbar navbar-expand-lg bd-navbar">
    </nav>
  
  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">
  

<a class="navbar-brand logo" href="../introduction.html">
  
  
  
  
  
    <p class="title logo__title">Some additional draft (very) material on The World Bank's MFMod Framework in Python with Modelflow</p>
  
</a></div>
        <div class="sidebar-primary-item"><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="../introduction.html">
                    Foreword
                </a>
            </li>
        </ul>
        <p aria-level="2" class="caption" role="heading"><span class="caption-text">Stability</span></p>
<ul class="current nav bd-sidenav">
<li class="toctree-l1 current active"><a class="current reference internal" href="#">1. Model stability, some background</a></li>
<li class="toctree-l1"><a class="reference internal" href="EigenValues.html">2. Model eigenvalues</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Onboard model from excel</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../onboard%20Excel/Onboard%20excel.html">Transform an Excel workbook to a Modelflow model</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Tips</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../tips/Jupyter%20book%20tests%20and%20tips.html">1. Some jupyter book examples and tests</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../genindex.html">2. Index</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Reference.html">3. Reference</a></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><label class="sidebar-toggle primary-toggle btn btn-sm" for="__primary" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</label></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-launch-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Launch interactive content">
    <i class="fas fa-rocket"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://colab.research.google.com/github/IbHansen/modelflow-manual/blob/main/papers/addbook/content/stability/stability introduction.ipynb" target="_blank"
   class="btn btn-sm dropdown-item"
   title="Launch onColab"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  
    <img src="../../_static/images/logo_colab.png">
  </span>
<span class="btn__text-container">Colab</span>
</a>
</li>
      
  </ul>
</div>



<a href="https://github.com/IbHansen/modelflow-manual" target="_blank"
   class="btn btn-sm btn-source-repository-button"
   title="Source repository"
   data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fab fa-github"></i>
  </span>

</a>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="../../_sources/content/stability/stability introduction.ipynb" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.ipynb</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>


<script>
document.write(`
  <button class="theme-switch-button btn btn-sm btn-outline-primary navbar-btn rounded-circle" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch" data-mode="light"><i class="fa-solid fa-sun"></i></span>
    <span class="theme-switch" data-mode="dark"><i class="fa-solid fa-moon"></i></span>
    <span class="theme-switch" data-mode="auto"><i class="fa-solid fa-circle-half-stroke"></i></span>
  </button>
`);
</script>

<script>
document.write(`
  <button class="btn btn-sm navbar-btn search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
  </button>
`);
</script>
<label class="sidebar-toggle secondary-toggle btn btn-sm" for="__secondary"title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</label>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>Model stability, some background</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#a-model">1.1. A model:</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#normalized-form">1.1.1. normalized form</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#the-derivatives">1.2. The derivatives</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#the-companion-matrix">1.3. The companion matrix</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#stability-and-the-eignvalues-of-the-companion-matrix">1.4. Stability and the eignvalues of the companion matrix</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#calculating-eigenvalues-and-eigenvectors-using-modelflow">1.5. Calculating Eigenvalues and eigenvectors using modelflow</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#first-create-a-model-a-samuleson-multiplier-accelerator-model">1.6. First create a model (A Samuleson multiplier accelerator model)</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#a-function-which-generates-a-dataframe-with-values">1.7. A function which generates a dataframe with values</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#a-function-which-simulate-the-model-and-calculates-eigenvalues">1.8. A function which simulate the model and calculates eigenvalues</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#explosion">1.9. Explosion</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#exploding-oscillations">1.10. Exploding oscillations</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#perpetual-oscillations">1.11. Perpetual oscillations</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#dampened-oscillations">1.12. Dampened oscillations</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#jackknife-experiments-to-identify-identify-impact-from-each-equation">1.13. Jackknife experiments  to identify identify impact from each equation.</a></li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article" role="main">
                  
  <section class="tex2jax_ignore mathjax_ignore" id="model-stability-some-background">
<h1><span class="section-number">1. </span>Model stability, some background<a class="headerlink" href="#model-stability-some-background" title="Permalink to this headline">#</a></h1>
<div class="admonition warning" id="index-0">
<p class="admonition-title">Warning</p>
<p>This chapter is both unfinished and unpolished. Suggestions are very welcome.</p>
</div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Terminology varies very much between fields of study.</p>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">from</span> <span class="nn">IPython.display</span> <span class="kn">import</span> <span class="n">display</span><span class="p">,</span> <span class="n">HTML</span><span class="p">,</span> <span class="n">Markdown</span>


<span class="kn">from</span> <span class="nn">modelclass</span> <span class="kn">import</span> <span class="n">model</span> 
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">latex</span><span class="o">=</span><span class="mi">1</span>
</pre></div>
</div>
</div>
</div>
<section id="a-model">
<h2><span class="section-number">1.1. </span>A model:<a class="headerlink" href="#a-model" title="Permalink to this headline">#</a></h2>
<p>A model with:</p>
<ul class="simple">
<li><p><span class="math notranslate nohighlight">\(\textbf n\)</span> number of endogeneous variables</p></li>
<li><p><span class="math notranslate nohighlight">\(\textbf k\)</span> number of exogeneous variables</p></li>
<li><p><span class="math notranslate nohighlight">\(\textbf r\)</span> max lag of endogeneous variables</p></li>
<li><p><span class="math notranslate nohighlight">\(\textbf s\)</span> max lag of exogeneous variables</p></li>
<li><p><span class="math notranslate nohighlight">\(t\)</span> time frame (year, quarter, day second or another another unit)</p></li>
</ul>
<p>can be written in two ways, normalized or un-normalized form</p>
<section id="normalized-form">
<h3><span class="section-number">1.1.1. </span>normalized form<a class="headerlink" href="#normalized-form" title="Permalink to this headline">#</a></h3>
<div class="amsmath math notranslate nohighlight" id="equation-69e00b0d-4e25-42d6-aa41-eb2e085b3199">
<span class="eqno">(1.1)<a class="headerlink" href="#equation-69e00b0d-4e25-42d6-aa41-eb2e085b3199" title="Permalink to this equation">#</a></span>\[\begin{eqnarray}
y_t^1 &amp; = &amp; y_t^2...,y_{t}^n...y_{t-r}^1...,y_{t-r}^n,x_t^1...x_{t}^k,...x_{t-s}^1...,x_{t-s}^k) \\
y_t^2 &amp; = &amp; y_t^1...,y_{t}^n...y_{t-r}^1...,y_{t-r}^n,x_t^1...x_{t}^k,...x_{t-s}^1...,x_{t-s}^k) \\
\vdots \\
y_t^n &amp; = &amp; y_t^1...,y_{t}^{n-1}...y_{t-r}^1...,y_{t-r}^n,x_t^1...x_{t}^r,x..._{t-s}^1...,x_{t-s}^k)
\end{eqnarray}\]</div>
<p>Written in matrix notation where  <span class="math notranslate nohighlight">\(\textbf{y}_t\)</span> and <span class="math notranslate nohighlight">\(\textbf{x}_t\)</span> are vectors of endogenous/exogenous  variables for time t</p>
<div class="amsmath math notranslate nohighlight" id="equation-f85083bd-6886-4b54-81ff-7eb1ca01330a">
<span class="eqno">(1.2)<a class="headerlink" href="#equation-f85083bd-6886-4b54-81ff-7eb1ca01330a" title="Permalink to this equation">#</a></span>\[\begin{eqnarray}  
\textbf{y}_t &amp; = &amp; \textbf{F}( \textbf{y}_t \cdots \textbf{y}_{t-r},\textbf{x}_t \cdots \textbf{x}_{t-s})
\end{eqnarray}\]</div>
<p>The functions are normalized, meaning:</p>
<ul class="simple">
<li><p>Each endogenous variable is on the left hand side one time - and only one time.</p></li>
<li><p>An endogenous variable without lags can <strong>not</strong> be on the right hand side in an equation, which has the variable on the left hand side.</p></li>
</ul>
</section>
</section>
<section id="the-derivatives">
<h2><span class="section-number">1.2. </span>The derivatives<a class="headerlink" href="#the-derivatives" title="Permalink to this headline">#</a></h2>
<p>We can express the matrices of derivatives with respect to the endogenous and exogenous variables like this:</p>
<div class="amsmath math notranslate nohighlight">
\[\begin{eqnarray*}
A &amp; = &amp; \frac{\partial F}{\partial y_t^T} \\ \\
E_i &amp; = &amp; \frac{\partial F}{\partial y_{t-i}^T } \hspace{5 mm} i=1, \cdots , r\\  \\
F_j &amp; = &amp; \frac{\partial F}{\partial x_{t-j} ^T} \hspace{5 mm} j=0, \cdots , s\\  \\
\end{eqnarray*}\]</div>
</section>
<section id="the-companion-matrix">
<span id="index-1"></span><h2><span class="section-number">1.3. </span>The companion matrix<a class="headerlink" href="#the-companion-matrix" title="Permalink to this headline">#</a></h2>
<p>To calculate the effect of small perturbations around a solution the derivative matrices can be used.</p>
<p>For simplicity a system with <span class="math notranslate nohighlight">\(r\)</span> (max lag of endogenous variables) of 2 and <span class="math notranslate nohighlight">\(s\)</span> (max lag of exogenous variables)  of 1 we have the linearized model:</p>
<p><span class="math notranslate nohighlight">\(\Delta \textbf{y}_t = \textbf{A}\Delta  \textbf{y}_{t} + \Delta E_1 \textbf{y}_{t-1} + \Delta E_2 \textbf{y}_{t-2} +  E_3 \Delta  \textbf{y}_{t-3} + F_0 \Delta x_t + F_1 \Delta x_{t-1}\)</span></p>
<p>Rearranging the equation to isolate <span class="math notranslate nohighlight">\(\Delta \textbf{y}_{t}\)</span> on the left side:</p>
<p><span class="math notranslate nohighlight">\(
(  \mathbb{I}-\textbf{A}) \Delta \textbf{y}_{t} = E_1 \Delta \textbf{y}_{t-1} + \Delta E_2 \textbf{y}_{t-2} + \Delta E_3 \textbf{y}_{t-3} + F_0 \Delta x_t + F_1 \Delta x_{t-1}
\)</span></p>
<p><span class="math notranslate nohighlight">\(
\Delta \textbf{y}_{t} = (\mathbb{I}-\textbf{A})^{-1} E_1 \Delta \textbf{y}_{t-1} + (\mathbb{I}-\textbf{A})^{-1} \Delta E_2 \textbf{y}_{t-2} + (\mathbb{I}-\textbf{A})^{-1} \Delta E_3 \textbf{y}_{t-3} + (\mathbb{I}-\textbf{A})^{-1} F_0 \Delta x_t +  (\mathbb{I}-\textbf{A})^{-1} F_1 \Delta x_{t-1}
\)</span></p>
<p>This is a 3th order system of difference equations. In order to be able to find the gain stability of the system it has to be rewritten as 1st order system of difference equations. That is a system with only one lag. Fortunately there is
a standard way to do this. It runs as follow:</p>
<p>Using the state vector:
<span class="math notranslate nohighlight">\(
\textbf{z}_t = \begin{bmatrix} \textbf{y}_t \\ \textbf{y}_{t-1} \\ \textbf{y}_{t-2} \end{bmatrix}\)</span> and <span class="math notranslate nohighlight">\(\textbf{w}_t = \begin{bmatrix} \textbf{x}_t \\ \textbf{x}_{t-1} \end{bmatrix}
\)</span></p>
<p>The system can be expressed as:</p>
<p><span class="math notranslate nohighlight">\(
\Delta \textbf{z}_{t} = \underbrace{\begin{bmatrix} (\mathbb{I}-\textbf{A})^{-1}E_1 &amp; (\mathbb{I}-\textbf{A})^{-1}E_2 &amp; (\mathbb{I}-\textbf{A})^{-1}E_3 \\ \textbf{I} &amp; \textbf{0} &amp; \textbf{0} \\ \textbf{0} &amp; \textbf{I} &amp; \textbf{0} \end{bmatrix}}_{\textbf{C}} \Delta \textbf{z}_{t-1} +
\left[\begin{matrix}(\mathbb{I}-\textbf{A})^{-1} F_{0} &amp; (\mathbb{I}-\textbf{A})^{-1} F_{1}  \\{0} &amp; {0}  \\{0} &amp; {0} \\\end{matrix}\right]
\Delta \textbf{w}_t\)</span></p>
<p>This system is a first order system - and the stability can be evaluated using the matrix:</p>
<p><span class="math notranslate nohighlight">\(
\textbf{C} = \begin{bmatrix} (\mathbb{I}-\textbf{A})^{-1}E_1 &amp; (\mathbb{I}-\textbf{A})^{-1}E_2 &amp; (\mathbb{I}-\textbf{A})^{-1}E_3 \\ \textbf{I} &amp; \textbf{0} &amp; \textbf{0} \\ \textbf{0} &amp; \textbf{I} &amp; \textbf{0} \end{bmatrix}
\)</span></p>
<p>also known as <strong>the companion matrix</strong></p>
<p>If the systematic in construction the companion matrix with max lag endogenous variable of 2 can be extended to any numbers of lags.</p>
</section>
<section id="stability-and-the-eignvalues-of-the-companion-matrix">
<h2><span class="section-number">1.4. </span>Stability and the eignvalues of the companion matrix<a class="headerlink" href="#stability-and-the-eignvalues-of-the-companion-matrix" title="Permalink to this headline">#</a></h2>
<p>The dynamic behavior can be
evaluated by looking at the eigenvalues <span class="math notranslate nohighlight">\(\textbf{e}_{t}\)</span> of the companion matrix <span class="math notranslate nohighlight">\(((I-\bar A)^{-1}\bar E )\)</span>. Note that <span class="math notranslate nohighlight">\(\textbf{e}_{t}\)</span> can are complex numbers.</p>
<ul class="simple">
<li><p>If all <span class="math notranslate nohighlight">\(\lvert \textbf{e}_{t} \lvert &lt; 1\)</span> the system will converge.</p></li>
<li><p>If at least one of the eigenvalues is larger than one, the system will amplify.</p></li>
<li><p>If at least one <span class="math notranslate nohighlight">\(\textbf{e}_{t}\)</span> has an imaginary part the system will oscillate</p>
<ul>
<li><p>dampened if all <span class="math notranslate nohighlight">\(\lvert \textbf{e}_{t} \lvert &lt; 1\)</span> or</p></li>
<li><p>amplifying  if one <span class="math notranslate nohighlight">\(\lvert \textbf{e}_{t} \lvert &gt; 1\)</span>.</p></li>
</ul>
</li>
</ul>
<p>The eigenvalues and associated eigenvectors can be found by the function <code class="docutils literal notranslate"><span class="pre">\&lt;modelclass&gt;.get_df_eigen_dict()</span></code> which will be used below.</p>
<p>‘.get_df_eigen_dict()’ returns a dictionary where the key is the year and the value is a dataframe where first row is the eigenvalues
and the folowing rows are the eigenvectors.</p>
<p>The function also displays the result of the model. The result do not nessary give economic meaning. But shows how the system’s stability reflects the
eigenvalues of the companion matrix.</p>
</section>
<section id="calculating-eigenvalues-and-eigenvectors-using-modelflow">
<h2><span class="section-number">1.5. </span>Calculating Eigenvalues and eigenvectors using modelflow<a class="headerlink" href="#calculating-eigenvalues-and-eigenvectors-using-modelflow" title="Permalink to this headline">#</a></h2>
<p>Modelflow has a can calculate the derivative matrices <span class="math notranslate nohighlight">\(A, E_i\)</span> and <span class="math notranslate nohighlight">\(F_j\)</span> and create the companion matrix and the associate eigenvalues and eigenvectors.</p>
<p>Below</p>
<ul class="simple">
<li><p>a simple Samuelson multiplier accelerator model is created.</p></li>
<li><p>a function <code class="docutils literal notranslate"><span class="pre">get_df</span></code> is defined it:</p>
<ul>
<li><p>generates a test dataframe with model parameters and variables is defined</p></li>
</ul>
</li>
<li><p>a function <code class="docutils literal notranslate"><span class="pre">geteigen</span></code> is defined it:</p>
<ul>
<li><p>use the model ro simulate a generated dataframe.</p></li>
<li><p>calculates the eigenvalues</p></li>
<li><p>display the eigenvalues in a polar coordinate where imaginary values are at the y-axis.</p></li>
<li><p>The function also displays the result of the model</p></li>
<li><p>optional displays the companion matrix and the non-zero eigenvalues and associate eigenvectors.</p></li>
</ul>
</li>
</ul>
<p>Note that the result do not necessary give economic meaning. But shows how the system’s stability reflects the
eigenvalues of the companion matrix.</p>
</section>
<section id="first-create-a-model-a-samuleson-multiplier-accelerator-model">
<h2><span class="section-number">1.6. </span>First create a model (A Samuleson multiplier accelerator model)<a class="headerlink" href="#first-create-a-model-a-samuleson-multiplier-accelerator-model" title="Permalink to this headline">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">fma</span>   <span class="o">=</span> <span class="sa">f</span><span class="s1">&#39;&#39;&#39;</span>
<span class="s1">gdp = consumption+investment  </span>
<span class="s1">consumption = mul * gdp(-1)</span>
<span class="s1">investment = acc * (consumption-consumption(-1))  + exo_investment&#39;&#39;&#39;</span>
<span class="n">mma</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">from_eq</span><span class="p">(</span><span class="n">fma</span><span class="p">,</span><span class="n">modelname</span> <span class="o">=</span> <span class="s1">&#39;Accelerator multiplicator model&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">mma</span><span class="o">.</span><span class="n">drawmodel</span><span class="p">(</span><span class="n">png</span><span class="o">=</span><span class="n">latex</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../../_images/cbfb7b1fc473d1a70365559780b461453f8f4aa8a6c2e0e7b43fe036564f2482.png" src="../../_images/cbfb7b1fc473d1a70365559780b461453f8f4aa8a6c2e0e7b43fe036564f2482.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">mma</span><span class="o">.</span><span class="n">gdp</span><span class="o">.</span><span class="n">tracepre</span><span class="p">(</span><span class="n">png</span><span class="o">=</span><span class="n">latex</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../../_images/a2cdc8da32a7601f8ebf93d2260c646d621e9fca9392c551676df79ffc341a9f.png" src="../../_images/a2cdc8da32a7601f8ebf93d2260c646d621e9fca9392c551676df79ffc341a9f.png" />
</div>
</div>
</section>
<section id="a-function-which-generates-a-dataframe-with-values">
<h2><span class="section-number">1.7. </span>A function which generates a dataframe with values<a class="headerlink" href="#a-function-which-generates-a-dataframe-with-values" title="Permalink to this headline">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">get_df</span><span class="p">(</span><span class="n">mul</span><span class="o">=</span><span class="mf">0.9</span><span class="p">,</span><span class="n">acc</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span><span class="n">gdp</span><span class="o">=</span><span class="mi">1000</span><span class="p">,</span><span class="n">im</span><span class="o">=</span><span class="mi">200</span><span class="p">,</span><span class="n">years</span><span class="o">=</span><span class="mi">100</span><span class="p">):</span>
    <span class="s1">&#39;Creates imput dataframe to accelerator multiplier model &#39;</span>
    <span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">([[</span><span class="n">gdp</span><span class="p">]]</span><span class="o">*</span><span class="n">years</span><span class="p">,</span><span class="n">index</span><span class="o">=</span><span class="nb">range</span><span class="p">(</span><span class="mi">2018</span><span class="p">,</span><span class="mi">2018</span><span class="o">+</span><span class="n">years</span><span class="p">),</span><span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;GDP&#39;</span><span class="p">])</span>
    <span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[:,</span><span class="s1">&#39;MUL&#39;</span><span class="p">]</span><span class="o">=</span> <span class="n">mul</span>
    <span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[:,</span><span class="s1">&#39;ACC&#39;</span><span class="p">]</span><span class="o">=</span> <span class="n">acc</span>
    <span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[:,</span><span class="s1">&#39;CONSUMPTION&#39;</span><span class="p">]</span><span class="o">=</span> <span class="n">gdp</span><span class="o">*</span><span class="n">mul</span>
    <span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[:,</span><span class="s1">&#39;EXO_INVESTMENT&#39;</span><span class="p">]</span><span class="o">=</span> <span class="n">im</span>
    <span class="k">return</span> <span class="n">df</span>


<span class="n">base</span> <span class="o">=</span> <span class="n">get_df</span><span class="p">()</span>
<span class="n">base</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>GDP</th>
      <th>MUL</th>
      <th>ACC</th>
      <th>CONSUMPTION</th>
      <th>EXO_INVESTMENT</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>2018</th>
      <td>1000</td>
      <td>0.9</td>
      <td>0.5</td>
      <td>900.0</td>
      <td>200</td>
    </tr>
    <tr>
      <th>2019</th>
      <td>1000</td>
      <td>0.9</td>
      <td>0.5</td>
      <td>900.0</td>
      <td>200</td>
    </tr>
    <tr>
      <th>2020</th>
      <td>1000</td>
      <td>0.9</td>
      <td>0.5</td>
      <td>900.0</td>
      <td>200</td>
    </tr>
    <tr>
      <th>2021</th>
      <td>1000</td>
      <td>0.9</td>
      <td>0.5</td>
      <td>900.0</td>
      <td>200</td>
    </tr>
    <tr>
      <th>2022</th>
      <td>1000</td>
      <td>0.9</td>
      <td>0.5</td>
      <td>900.0</td>
      <td>200</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
</section>
<section id="a-function-which-simulate-the-model-and-calculates-eigenvalues">
<h2><span class="section-number">1.8. </span>A function which simulate the model and calculates eigenvalues<a class="headerlink" href="#a-function-which-simulate-the-model-and-calculates-eigenvalues" title="Permalink to this headline">#</a></h2>
<div class="cell tag_hide-cell docutils container">
<details class="hide above-input">
<summary aria-label="Toggle hidden content">
<span class="collapsed">Show code cell content</span>
<span class="expanded">Hide code cell content</span>
</summary>
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">geteigen</span><span class="p">(</span><span class="n">mul</span><span class="p">,</span><span class="n">acc</span><span class="p">,</span><span class="n">years</span><span class="o">=</span><span class="mi">30</span><span class="p">,</span><span class="n">show</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span><span class="n">showmore</span> <span class="o">=</span> <span class="kc">False</span><span class="p">):</span>

<span class="w">    </span><span class="sd">&#39;&#39;&#39;Function which creates a Samuelson Multiplier accelerator model, runs it and </span>
<span class="sd">    calculates the eigenvalues for the compaignion matrix in order to evaluate stability&#39;&#39;&#39;</span>
    
    <span class="n">baseline_not_solved</span> <span class="o">=</span> <span class="n">get_df</span><span class="p">(</span><span class="n">mul</span><span class="p">,</span><span class="n">acc</span><span class="p">,</span><span class="n">years</span><span class="o">=</span><span class="n">years</span><span class="p">)</span>
    <span class="n">baseline</span>  <span class="o">=</span> <span class="n">mma</span><span class="p">(</span><span class="n">baseline_not_solved</span><span class="p">,</span><span class="n">silent</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>     <span class="c1"># Solve the model </span>
    
    <span class="c1"># Retrieve a dictionary with a dataframe with eigenvalues and eigenvectors for each year </span>
    <span class="n">eig_dict</span> <span class="o">=</span> <span class="n">mma</span><span class="o">.</span><span class="n">get_df_eigen_dict</span><span class="p">()</span>
    
    <span class="n">display</span><span class="p">(</span><span class="n">Markdown</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;**Model where multiplier = </span><span class="si">{</span><span class="n">mul</span><span class="si">}</span><span class="s1"> and accelerator = </span><span class="si">{</span><span class="n">acc</span><span class="si">}</span><span class="s1">**&#39;</span><span class="p">))</span>
    <span class="n">display</span><span class="p">(</span><span class="n">mma</span><span class="o">.</span><span class="n">stability_newton</span><span class="o">.</span><span class="n">eigenvector_plot</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span><span class="mi">4</span><span class="p">),</span><span class="n">per</span><span class="o">=</span><span class="mi">2023</span><span class="p">));</span>       <span class="c1"># show the eigenvalues </span>

    <span class="n">display</span><span class="p">(</span><span class="n">mma</span><span class="p">[</span><span class="s1">&#39;gdp consumption investment&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">top</span><span class="o">=</span><span class="mf">0.8</span><span class="p">,</span><span class="n">title</span><span class="o">=</span><span class="s1">&#39;Values&#39;</span><span class="p">,</span><span class="n">colrow</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span><span class="n">sharey</span><span class="o">=</span><span class="kc">False</span><span class="p">))</span>  <span class="c1"># Show the solution</span>
        
    <span class="k">if</span> <span class="n">show</span><span class="p">:</span> 
            <span class="c1"># In this example we only want the values for one year. The model is linear and time independent </span>
        <span class="n">eig21</span> <span class="o">=</span> <span class="n">eig_dict</span><span class="p">[</span><span class="mi">2021</span><span class="p">]</span>

        <span class="c1"># Define a function which calculates a list of absolute values when served a dataframe column of complex numbers</span>
        <span class="n">compabs</span> <span class="o">=</span> <span class="k">lambda</span> <span class="nb">complex</span><span class="p">:</span> <span class="p">[</span><span class="nb">abs</span><span class="p">(</span><span class="n">value</span><span class="p">)</span> <span class="k">for</span> <span class="n">index</span><span class="p">,</span><span class="n">value</span> <span class="ow">in</span> <span class="nb">complex</span><span class="o">.</span><span class="n">items</span><span class="p">()]</span>

        <span class="c1"># now only retain the columns where the length of the eigenvalues are above 0.0001 </span>
        <span class="n">eig21out</span> <span class="o">=</span> <span class="p">(</span><span class="n">eig21</span><span class="o">.</span>   
                    <span class="n">T</span><span class="o">.</span>        <span class="c1"># Transpose as we query and eval on columns </span>
                    <span class="nb">eval</span><span class="p">(</span><span class="s1">&#39;absolute_value=@compabs(Eigenvalues)&#39;</span><span class="p">)</span><span class="o">.</span> <span class="c1"># calculate the absolute value of the eigenvalue </span>
                    <span class="n">query</span><span class="p">(</span><span class="s1">&#39;absolute_value&gt;=0.0001&#39;</span><span class="p">)</span><span class="o">.</span>              <span class="c1"># Select the rows where the abs value is above 0+.0001</span>
                    <span class="n">drop</span><span class="p">(</span><span class="s1">&#39;absolute_value&#39;</span><span class="p">,</span><span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span>                <span class="c1"># We dont need the absolute value anymore, so the column is dropped. </span>
                    <span class="n">T</span><span class="p">)</span>   <span class="c1"># Transpose again. </span>


        <span class="n">display</span><span class="p">(</span><span class="n">Markdown</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;**Compagnion matrix**&#39;</span><span class="p">))</span>

        <span class="n">display</span><span class="p">(</span><span class="n">model</span><span class="o">.</span><span class="n">compstyle</span><span class="p">(</span> <span class="n">mma</span><span class="o">.</span><span class="n">stability_newton</span><span class="o">.</span><span class="n">get_df_comp_dict</span><span class="p">()[</span><span class="mi">2021</span><span class="p">]))</span> 


        <span class="c1">#   display(eig21.style.set_caption(&#39;&lt;b&gt;Original eigenvalues and -vectors&#39;))</span>
        <span class="n">display</span><span class="p">(</span><span class="n">model</span><span class="o">.</span><span class="n">compstyle</span><span class="p">(</span><span class="n">eig21out</span><span class="p">)</span><span class="o">.</span><span class="n">set_caption</span><span class="p">(</span><span class="s1">&#39;&lt;b&gt;Non zero eigenvalues and -vectors&#39;</span><span class="p">))</span>

        
    <span class="k">return</span>  <span class="n">mma</span><span class="o">.</span><span class="n">stability_newton</span>
</pre></div>
</div>
</div>
</details>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">geteigen</span><span class="p">(</span><span class="n">mul</span><span class="o">=</span><span class="mf">0.8</span><span class="p">,</span><span class="n">acc</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="n">show</span><span class="o">=</span><span class="mi">1</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<p><strong>Model where multiplier = 0.8 and accelerator = 0</strong></p>
<img alt="../../_images/bb095888cca2e951e5fc4db7147247b6932c4f3a2d53582fe37efeab7c2390b9.png" src="../../_images/bb095888cca2e951e5fc4db7147247b6932c4f3a2d53582fe37efeab7c2390b9.png" />
<img alt="../../_images/7157a96e147db193d2f4f1b8546e8b54140ed01f8b41e5e4795abcd2c45b3ac2.png" src="../../_images/7157a96e147db193d2f4f1b8546e8b54140ed01f8b41e5e4795abcd2c45b3ac2.png" />
<img alt="../../_images/7157a96e147db193d2f4f1b8546e8b54140ed01f8b41e5e4795abcd2c45b3ac2.png" src="../../_images/7157a96e147db193d2f4f1b8546e8b54140ed01f8b41e5e4795abcd2c45b3ac2.png" />
<p><strong>Compagnion matrix</strong></p>
<div class="output text_html"><style type="text/css">
</style>
<table id="T_9d154">
  <thead>
    <tr>
      <th class="blank level0" >&nbsp;</th>
      <th id="T_9d154_level0_col0" class="col_heading level0 col0" >CONSUMPTION(-1)</th>
      <th id="T_9d154_level0_col1" class="col_heading level0 col1" >GDP(-1)</th>
      <th id="T_9d154_level0_col2" class="col_heading level0 col2" >INVESTMENT(-1)</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th id="T_9d154_level0_row0" class="row_heading level0 row0" >CONSUMPTION(-1)</th>
      <td id="T_9d154_row0_col0" class="data row0 col0" > </td>
      <td id="T_9d154_row0_col1" class="data row0 col1" >0.80</td>
      <td id="T_9d154_row0_col2" class="data row0 col2" > </td>
    </tr>
    <tr>
      <th id="T_9d154_level0_row1" class="row_heading level0 row1" >GDP(-1)</th>
      <td id="T_9d154_row1_col0" class="data row1 col0" > </td>
      <td id="T_9d154_row1_col1" class="data row1 col1" >0.80</td>
      <td id="T_9d154_row1_col2" class="data row1 col2" > </td>
    </tr>
    <tr>
      <th id="T_9d154_level0_row2" class="row_heading level0 row2" >INVESTMENT(-1)</th>
      <td id="T_9d154_row2_col0" class="data row2 col0" > </td>
      <td id="T_9d154_row2_col1" class="data row2 col1" > </td>
      <td id="T_9d154_row2_col2" class="data row2 col2" > </td>
    </tr>
  </tbody>
</table>
</div><div class="output text_html"><style type="text/css">
</style>
<table id="T_b8c40">
  <caption><b>Non zero eigenvalues and -vectors</caption>
  <thead>
    <tr>
      <th class="blank level0" >&nbsp;</th>
      <th id="T_b8c40_level0_col0" class="col_heading level0 col0" >1</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th id="T_b8c40_level0_row0" class="row_heading level0 row0" >Eigenvalues</th>
      <td id="T_b8c40_row0_col0" class="data row0 col0" >0.80</td>
    </tr>
    <tr>
      <th id="T_b8c40_level0_row1" class="row_heading level0 row1" >CONSUMPTION(-1)</th>
      <td id="T_b8c40_row1_col0" class="data row1 col0" >0.71</td>
    </tr>
    <tr>
      <th id="T_b8c40_level0_row2" class="row_heading level0 row2" >GDP(-1)</th>
      <td id="T_b8c40_row2_col0" class="data row2 col0" >0.71</td>
    </tr>
    <tr>
      <th id="T_b8c40_level0_row3" class="row_heading level0 row3" >INVESTMENT(-1)</th>
      <td id="T_b8c40_row3_col0" class="data row3 col0" > </td>
    </tr>
  </tbody>
</table>
</div></div>
</div>
</section>
<section id="explosion">
<h2><span class="section-number">1.9. </span>Explosion<a class="headerlink" href="#explosion" title="Permalink to this headline">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">geteigen</span><span class="p">(</span><span class="n">mul</span><span class="o">=</span><span class="mf">0.9</span><span class="p">,</span><span class="n">acc</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span><span class="n">show</span><span class="o">=</span><span class="mi">1</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<p><strong>Model where multiplier = 0.9 and accelerator = 2</strong></p>
<img alt="../../_images/0893345379a22e3e403bc530375fab60493a40f1fc9426a1d6d4492f2cae8a51.png" src="../../_images/0893345379a22e3e403bc530375fab60493a40f1fc9426a1d6d4492f2cae8a51.png" />
<img alt="../../_images/e1004a3045df032ee011e40f1d225fad76776cdad692f01c282936cff1074a0b.png" src="../../_images/e1004a3045df032ee011e40f1d225fad76776cdad692f01c282936cff1074a0b.png" />
<img alt="../../_images/e1004a3045df032ee011e40f1d225fad76776cdad692f01c282936cff1074a0b.png" src="../../_images/e1004a3045df032ee011e40f1d225fad76776cdad692f01c282936cff1074a0b.png" />
<p><strong>Compagnion matrix</strong></p>
<div class="output text_html"><style type="text/css">
</style>
<table id="T_be87a">
  <thead>
    <tr>
      <th class="blank level0" >&nbsp;</th>
      <th id="T_be87a_level0_col0" class="col_heading level0 col0" >CONSUMPTION(-1)</th>
      <th id="T_be87a_level0_col1" class="col_heading level0 col1" >GDP(-1)</th>
      <th id="T_be87a_level0_col2" class="col_heading level0 col2" >INVESTMENT(-1)</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th id="T_be87a_level0_row0" class="row_heading level0 row0" >CONSUMPTION(-1)</th>
      <td id="T_be87a_row0_col0" class="data row0 col0" > </td>
      <td id="T_be87a_row0_col1" class="data row0 col1" >0.90</td>
      <td id="T_be87a_row0_col2" class="data row0 col2" > </td>
    </tr>
    <tr>
      <th id="T_be87a_level0_row1" class="row_heading level0 row1" >GDP(-1)</th>
      <td id="T_be87a_row1_col0" class="data row1 col0" >-2.00</td>
      <td id="T_be87a_row1_col1" class="data row1 col1" >2.70</td>
      <td id="T_be87a_row1_col2" class="data row1 col2" > </td>
    </tr>
    <tr>
      <th id="T_be87a_level0_row2" class="row_heading level0 row2" >INVESTMENT(-1)</th>
      <td id="T_be87a_row2_col0" class="data row2 col0" >-2.00</td>
      <td id="T_be87a_row2_col1" class="data row2 col1" >1.80</td>
      <td id="T_be87a_row2_col2" class="data row2 col2" > </td>
    </tr>
  </tbody>
</table>
</div><div class="output text_html"><style type="text/css">
</style>
<table id="T_291aa">
  <caption><b>Non zero eigenvalues and -vectors</caption>
  <thead>
    <tr>
      <th class="blank level0" >&nbsp;</th>
      <th id="T_291aa_level0_col0" class="col_heading level0 col0" >1</th>
      <th id="T_291aa_level0_col1" class="col_heading level0 col1" >2</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th id="T_291aa_level0_row0" class="row_heading level0 row0" >Eigenvalues</th>
      <td id="T_291aa_row0_col0" class="data row0 col0" >1.50</td>
      <td id="T_291aa_row0_col1" class="data row0 col1" >1.20</td>
    </tr>
    <tr>
      <th id="T_291aa_level0_row1" class="row_heading level0 row1" >CONSUMPTION(-1)</th>
      <td id="T_291aa_row1_col0" class="data row1 col0" >0.49</td>
      <td id="T_291aa_row1_col1" class="data row1 col1" >0.59</td>
    </tr>
    <tr>
      <th id="T_291aa_level0_row2" class="row_heading level0 row2" >GDP(-1)</th>
      <td id="T_291aa_row2_col0" class="data row2 col0" >0.81</td>
      <td id="T_291aa_row2_col1" class="data row2 col1" >0.78</td>
    </tr>
    <tr>
      <th id="T_291aa_level0_row3" class="row_heading level0 row3" >INVESTMENT(-1)</th>
      <td id="T_291aa_row3_col0" class="data row3 col0" >0.32</td>
      <td id="T_291aa_row3_col1" class="data row3 col1" >0.20</td>
    </tr>
  </tbody>
</table>
</div></div>
</div>
</section>
<section id="exploding-oscillations">
<h2><span class="section-number">1.10. </span>Exploding oscillations<a class="headerlink" href="#exploding-oscillations" title="Permalink to this headline">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">geteigen</span><span class="p">(</span><span class="n">mul</span><span class="o">=</span><span class="mf">0.6</span><span class="p">,</span><span class="n">acc</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span><span class="n">show</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<p><strong>Model where multiplier = 0.6 and accelerator = 2</strong></p>
<img alt="../../_images/4bb5b819bd1a45c5e3d7e95892e99619cdb43ad2a901098add5a6690eaae5eb1.png" src="../../_images/4bb5b819bd1a45c5e3d7e95892e99619cdb43ad2a901098add5a6690eaae5eb1.png" />
<img alt="../../_images/01a57702f3e3e18b07270d31f8d7e0d9f3f0eeb5bc8789eee91864327058de9b.png" src="../../_images/01a57702f3e3e18b07270d31f8d7e0d9f3f0eeb5bc8789eee91864327058de9b.png" />
<img alt="../../_images/261a47d82534f2110e547859b2e9ef78ecd4ac7962b83653ca29208c66ef632e.png" src="../../_images/261a47d82534f2110e547859b2e9ef78ecd4ac7962b83653ca29208c66ef632e.png" />
<p><strong>Compagnion matrix</strong></p>
<div class="output text_html"><style type="text/css">
</style>
<table id="T_7d8f6">
  <thead>
    <tr>
      <th class="blank level0" >&nbsp;</th>
      <th id="T_7d8f6_level0_col0" class="col_heading level0 col0" >CONSUMPTION(-1)</th>
      <th id="T_7d8f6_level0_col1" class="col_heading level0 col1" >GDP(-1)</th>
      <th id="T_7d8f6_level0_col2" class="col_heading level0 col2" >INVESTMENT(-1)</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th id="T_7d8f6_level0_row0" class="row_heading level0 row0" >CONSUMPTION(-1)</th>
      <td id="T_7d8f6_row0_col0" class="data row0 col0" > </td>
      <td id="T_7d8f6_row0_col1" class="data row0 col1" >0.60</td>
      <td id="T_7d8f6_row0_col2" class="data row0 col2" > </td>
    </tr>
    <tr>
      <th id="T_7d8f6_level0_row1" class="row_heading level0 row1" >GDP(-1)</th>
      <td id="T_7d8f6_row1_col0" class="data row1 col0" >-2.00</td>
      <td id="T_7d8f6_row1_col1" class="data row1 col1" >1.80</td>
      <td id="T_7d8f6_row1_col2" class="data row1 col2" > </td>
    </tr>
    <tr>
      <th id="T_7d8f6_level0_row2" class="row_heading level0 row2" >INVESTMENT(-1)</th>
      <td id="T_7d8f6_row2_col0" class="data row2 col0" >-2.00</td>
      <td id="T_7d8f6_row2_col1" class="data row2 col1" >1.20</td>
      <td id="T_7d8f6_row2_col2" class="data row2 col2" > </td>
    </tr>
  </tbody>
</table>
</div><div class="output text_html"><style type="text/css">
</style>
<table id="T_307cc">
  <caption><b>Non zero eigenvalues and -vectors</caption>
  <thead>
    <tr>
      <th class="blank level0" >&nbsp;</th>
      <th id="T_307cc_level0_col0" class="col_heading level0 col0" >1</th>
      <th id="T_307cc_level0_col1" class="col_heading level0 col1" >2</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th id="T_307cc_level0_row0" class="row_heading level0 row0" >Eigenvalues</th>
      <td id="T_307cc_row0_col0" class="data row0 col0" >1.10 ~ 0.90+0.62j</td>
      <td id="T_307cc_row0_col1" class="data row0 col1" >1.10 ~ 0.90-0.62j</td>
    </tr>
    <tr>
      <th id="T_307cc_level0_row1" class="row_heading level0 row1" >CONSUMPTION(-1)</th>
      <td id="T_307cc_row1_col0" class="data row1 col0" >0.42 ~ -0.35+0.24j</td>
      <td id="T_307cc_row1_col1" class="data row1 col1" >0.42 ~ -0.35-0.24j</td>
    </tr>
    <tr>
      <th id="T_307cc_level0_row2" class="row_heading level0 row2" >GDP(-1)</th>
      <td id="T_307cc_row2_col0" class="data row2 col0" >-0.77</td>
      <td id="T_307cc_row2_col1" class="data row2 col1" >-0.77</td>
    </tr>
    <tr>
      <th id="T_307cc_level0_row3" class="row_heading level0 row3" >INVESTMENT(-1)</th>
      <td id="T_307cc_row3_col0" class="data row3 col0" >0.49 ~ -0.42-0.24j</td>
      <td id="T_307cc_row3_col1" class="data row3 col1" >0.49 ~ -0.42+0.24j</td>
    </tr>
  </tbody>
</table>
</div><div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;modelnewton.newton_diff at 0x1e5c8b7d840&gt;
</pre></div>
</div>
</div>
</div>
</section>
<section id="perpetual-oscillations">
<h2><span class="section-number">1.11. </span>Perpetual oscillations<a class="headerlink" href="#perpetual-oscillations" title="Permalink to this headline">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">geteigen</span><span class="p">(</span><span class="n">mul</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span><span class="n">acc</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span><span class="n">show</span><span class="o">=</span><span class="mi">1</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<p><strong>Model where multiplier = 0.5 and accelerator = 2</strong></p>
<img alt="../../_images/148760fe45fe66f4b438e00f1e2dd7786f596a2c1d0225bcb9e6ec6be7197ce0.png" src="../../_images/148760fe45fe66f4b438e00f1e2dd7786f596a2c1d0225bcb9e6ec6be7197ce0.png" />
<img alt="../../_images/c00832d7ff046b04c00dbef9561dac8724e71e9d16c9cfd96326c39fea32a7a3.png" src="../../_images/c00832d7ff046b04c00dbef9561dac8724e71e9d16c9cfd96326c39fea32a7a3.png" />
<img alt="../../_images/c12a5870b5ff6fc6ad32e9922bea46ed50c6f8354ab59d37357f9d74851adc76.png" src="../../_images/c12a5870b5ff6fc6ad32e9922bea46ed50c6f8354ab59d37357f9d74851adc76.png" />
<p><strong>Compagnion matrix</strong></p>
<div class="output text_html"><style type="text/css">
</style>
<table id="T_9dbe2">
  <thead>
    <tr>
      <th class="blank level0" >&nbsp;</th>
      <th id="T_9dbe2_level0_col0" class="col_heading level0 col0" >CONSUMPTION(-1)</th>
      <th id="T_9dbe2_level0_col1" class="col_heading level0 col1" >GDP(-1)</th>
      <th id="T_9dbe2_level0_col2" class="col_heading level0 col2" >INVESTMENT(-1)</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th id="T_9dbe2_level0_row0" class="row_heading level0 row0" >CONSUMPTION(-1)</th>
      <td id="T_9dbe2_row0_col0" class="data row0 col0" > </td>
      <td id="T_9dbe2_row0_col1" class="data row0 col1" >0.50</td>
      <td id="T_9dbe2_row0_col2" class="data row0 col2" > </td>
    </tr>
    <tr>
      <th id="T_9dbe2_level0_row1" class="row_heading level0 row1" >GDP(-1)</th>
      <td id="T_9dbe2_row1_col0" class="data row1 col0" >-2.00</td>
      <td id="T_9dbe2_row1_col1" class="data row1 col1" >1.50</td>
      <td id="T_9dbe2_row1_col2" class="data row1 col2" > </td>
    </tr>
    <tr>
      <th id="T_9dbe2_level0_row2" class="row_heading level0 row2" >INVESTMENT(-1)</th>
      <td id="T_9dbe2_row2_col0" class="data row2 col0" >-2.00</td>
      <td id="T_9dbe2_row2_col1" class="data row2 col1" >1.00</td>
      <td id="T_9dbe2_row2_col2" class="data row2 col2" > </td>
    </tr>
  </tbody>
</table>
</div><div class="output text_html"><style type="text/css">
</style>
<table id="T_bcc0b">
  <caption><b>Non zero eigenvalues and -vectors</caption>
  <thead>
    <tr>
      <th class="blank level0" >&nbsp;</th>
      <th id="T_bcc0b_level0_col0" class="col_heading level0 col0" >1</th>
      <th id="T_bcc0b_level0_col1" class="col_heading level0 col1" >2</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th id="T_bcc0b_level0_row0" class="row_heading level0 row0" >Eigenvalues</th>
      <td id="T_bcc0b_row0_col0" class="data row0 col0" >1.00 ~ 0.75+0.66j</td>
      <td id="T_bcc0b_row0_col1" class="data row0 col1" >1.00 ~ 0.75-0.66j</td>
    </tr>
    <tr>
      <th id="T_bcc0b_level0_row1" class="row_heading level0 row1" >CONSUMPTION(-1)</th>
      <td id="T_bcc0b_row1_col0" class="data row1 col0" >0.38 ~ -0.28+0.25j</td>
      <td id="T_bcc0b_row1_col1" class="data row1 col1" >0.38 ~ -0.28-0.25j</td>
    </tr>
    <tr>
      <th id="T_bcc0b_level0_row2" class="row_heading level0 row2" >GDP(-1)</th>
      <td id="T_bcc0b_row2_col0" class="data row2 col0" >-0.76</td>
      <td id="T_bcc0b_row2_col1" class="data row2 col1" >-0.76</td>
    </tr>
    <tr>
      <th id="T_bcc0b_level0_row3" class="row_heading level0 row3" >INVESTMENT(-1)</th>
      <td id="T_bcc0b_row3_col0" class="data row3 col0" >0.53 ~ -0.47-0.25j</td>
      <td id="T_bcc0b_row3_col1" class="data row3 col1" >0.53 ~ -0.47+0.25j</td>
    </tr>
  </tbody>
</table>
</div></div>
</div>
</section>
<section id="dampened-oscillations">
<h2><span class="section-number">1.12. </span>Dampened oscillations<a class="headerlink" href="#dampened-oscillations" title="Permalink to this headline">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">geteigen</span><span class="p">(</span><span class="n">mul</span><span class="o">=</span><span class="mf">0.7</span><span class="p">,</span><span class="n">acc</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span><span class="n">show</span><span class="o">=</span><span class="mi">1</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<p><strong>Model where multiplier = 0.7 and accelerator = 1</strong></p>
<img alt="../../_images/0fea8b096e470d3d4a09be1c0f73c440228d14e8cd77ca9598b88091c299653a.png" src="../../_images/0fea8b096e470d3d4a09be1c0f73c440228d14e8cd77ca9598b88091c299653a.png" />
<img alt="../../_images/3ce6482486c95231fd2a9b5a77c850dae70bb7cb769eb4510ee2838d013f865f.png" src="../../_images/3ce6482486c95231fd2a9b5a77c850dae70bb7cb769eb4510ee2838d013f865f.png" />
<img alt="../../_images/3ce6482486c95231fd2a9b5a77c850dae70bb7cb769eb4510ee2838d013f865f.png" src="../../_images/3ce6482486c95231fd2a9b5a77c850dae70bb7cb769eb4510ee2838d013f865f.png" />
<p><strong>Compagnion matrix</strong></p>
<div class="output text_html"><style type="text/css">
</style>
<table id="T_7e363">
  <thead>
    <tr>
      <th class="blank level0" >&nbsp;</th>
      <th id="T_7e363_level0_col0" class="col_heading level0 col0" >CONSUMPTION(-1)</th>
      <th id="T_7e363_level0_col1" class="col_heading level0 col1" >GDP(-1)</th>
      <th id="T_7e363_level0_col2" class="col_heading level0 col2" >INVESTMENT(-1)</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th id="T_7e363_level0_row0" class="row_heading level0 row0" >CONSUMPTION(-1)</th>
      <td id="T_7e363_row0_col0" class="data row0 col0" > </td>
      <td id="T_7e363_row0_col1" class="data row0 col1" >0.70</td>
      <td id="T_7e363_row0_col2" class="data row0 col2" > </td>
    </tr>
    <tr>
      <th id="T_7e363_level0_row1" class="row_heading level0 row1" >GDP(-1)</th>
      <td id="T_7e363_row1_col0" class="data row1 col0" >-1.00</td>
      <td id="T_7e363_row1_col1" class="data row1 col1" >1.40</td>
      <td id="T_7e363_row1_col2" class="data row1 col2" > </td>
    </tr>
    <tr>
      <th id="T_7e363_level0_row2" class="row_heading level0 row2" >INVESTMENT(-1)</th>
      <td id="T_7e363_row2_col0" class="data row2 col0" >-1.00</td>
      <td id="T_7e363_row2_col1" class="data row2 col1" >0.70</td>
      <td id="T_7e363_row2_col2" class="data row2 col2" > </td>
    </tr>
  </tbody>
</table>
</div><div class="output text_html"><style type="text/css">
</style>
<table id="T_bab99">
  <caption><b>Non zero eigenvalues and -vectors</caption>
  <thead>
    <tr>
      <th class="blank level0" >&nbsp;</th>
      <th id="T_bab99_level0_col0" class="col_heading level0 col0" >1</th>
      <th id="T_bab99_level0_col1" class="col_heading level0 col1" >2</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th id="T_bab99_level0_row0" class="row_heading level0 row0" >Eigenvalues</th>
      <td id="T_bab99_row0_col0" class="data row0 col0" >0.84 ~ 0.70+0.46j</td>
      <td id="T_bab99_row0_col1" class="data row0 col1" >0.84 ~ 0.70-0.46j</td>
    </tr>
    <tr>
      <th id="T_bab99_level0_row1" class="row_heading level0 row1" >CONSUMPTION(-1)</th>
      <td id="T_bab99_row1_col0" class="data row1 col0" >0.59 ~ 0.49-0.32j</td>
      <td id="T_bab99_row1_col1" class="data row1 col1" >0.59 ~ 0.49+0.32j</td>
    </tr>
    <tr>
      <th id="T_bab99_level0_row2" class="row_heading level0 row2" >GDP(-1)</th>
      <td id="T_bab99_row2_col0" class="data row2 col0" >0.71</td>
      <td id="T_bab99_row2_col1" class="data row2 col1" >0.71</td>
    </tr>
    <tr>
      <th id="T_bab99_level0_row3" class="row_heading level0 row3" >INVESTMENT(-1)</th>
      <td id="T_bab99_row3_col0" class="data row3 col0" >0.39 ~ 0.21+0.32j</td>
      <td id="T_bab99_row3_col1" class="data row3 col1" >0.39 ~ 0.21-0.32j</td>
    </tr>
  </tbody>
</table>
</div></div>
</div>
</section>
<section id="jackknife-experiments-to-identify-identify-impact-from-each-equation">
<h2><span class="section-number">1.13. </span>Jackknife experiments  to identify identify impact from each equation.<a class="headerlink" href="#jackknife-experiments-to-identify-identify-impact-from-each-equation" title="Permalink to this headline">#</a></h2>
<p>To understand the impact of each equation a jackknife can be made. This is done by deleting  the rows and columns for each equation and record the new eigenvalues.</p>
<p>The idea is to try to identify the equations which contributes most to the total eigenvalues.</p>
<p>The newton object returned above will also contains this operation. The <code class="docutils literal notranslate"><span class="pre">newton.get_eigen_jackknife_abs_select(year)</span></code> function will return the max absolute eigenvalue when for each equations is deleted. It also returns the eigenvalues when no equation is deleted.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The terminology is loosely coined from Jackknife resampling https://en.wikipedia.org/wiki/Jackknife_resampling.</p>
<p>Contributions to better naming are very welcome.</p>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">newton</span> <span class="o">=</span> <span class="n">geteigen</span><span class="p">(</span><span class="n">mul</span><span class="o">=</span><span class="mf">0.6</span><span class="p">,</span><span class="n">acc</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span><span class="n">show</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="n">newton</span><span class="o">.</span><span class="n">get_eigen_jackknife_abs_select</span><span class="p">(</span><span class="mi">2025</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<p><strong>Model where multiplier = 0.6 and accelerator = 2</strong></p>
<img alt="../../_images/4bb5b819bd1a45c5e3d7e95892e99619cdb43ad2a901098add5a6690eaae5eb1.png" src="../../_images/4bb5b819bd1a45c5e3d7e95892e99619cdb43ad2a901098add5a6690eaae5eb1.png" />
<img alt="../../_images/01a57702f3e3e18b07270d31f8d7e0d9f3f0eeb5bc8789eee91864327058de9b.png" src="../../_images/01a57702f3e3e18b07270d31f8d7e0d9f3f0eeb5bc8789eee91864327058de9b.png" />
<img alt="../../_images/261a47d82534f2110e547859b2e9ef78ecd4ac7962b83653ca29208c66ef632e.png" src="../../_images/261a47d82534f2110e547859b2e9ef78ecd4ac7962b83653ca29208c66ef632e.png" />
<p><strong>Compagnion matrix</strong></p>
<div class="output text_html"><style type="text/css">
</style>
<table id="T_9bfe9">
  <thead>
    <tr>
      <th class="blank level0" >&nbsp;</th>
      <th id="T_9bfe9_level0_col0" class="col_heading level0 col0" >CONSUMPTION(-1)</th>
      <th id="T_9bfe9_level0_col1" class="col_heading level0 col1" >GDP(-1)</th>
      <th id="T_9bfe9_level0_col2" class="col_heading level0 col2" >INVESTMENT(-1)</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th id="T_9bfe9_level0_row0" class="row_heading level0 row0" >CONSUMPTION(-1)</th>
      <td id="T_9bfe9_row0_col0" class="data row0 col0" > </td>
      <td id="T_9bfe9_row0_col1" class="data row0 col1" >0.60</td>
      <td id="T_9bfe9_row0_col2" class="data row0 col2" > </td>
    </tr>
    <tr>
      <th id="T_9bfe9_level0_row1" class="row_heading level0 row1" >GDP(-1)</th>
      <td id="T_9bfe9_row1_col0" class="data row1 col0" >-2.00</td>
      <td id="T_9bfe9_row1_col1" class="data row1 col1" >1.80</td>
      <td id="T_9bfe9_row1_col2" class="data row1 col2" > </td>
    </tr>
    <tr>
      <th id="T_9bfe9_level0_row2" class="row_heading level0 row2" >INVESTMENT(-1)</th>
      <td id="T_9bfe9_row2_col0" class="data row2 col0" >-2.00</td>
      <td id="T_9bfe9_row2_col1" class="data row2 col1" >1.20</td>
      <td id="T_9bfe9_row2_col2" class="data row2 col2" > </td>
    </tr>
  </tbody>
</table>
</div><div class="output text_html"><style type="text/css">
</style>
<table id="T_5fdb4">
  <caption><b>Non zero eigenvalues and -vectors</caption>
  <thead>
    <tr>
      <th class="blank level0" >&nbsp;</th>
      <th id="T_5fdb4_level0_col0" class="col_heading level0 col0" >1</th>
      <th id="T_5fdb4_level0_col1" class="col_heading level0 col1" >2</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th id="T_5fdb4_level0_row0" class="row_heading level0 row0" >Eigenvalues</th>
      <td id="T_5fdb4_row0_col0" class="data row0 col0" >1.10 ~ 0.90+0.62j</td>
      <td id="T_5fdb4_row0_col1" class="data row0 col1" >1.10 ~ 0.90-0.62j</td>
    </tr>
    <tr>
      <th id="T_5fdb4_level0_row1" class="row_heading level0 row1" >CONSUMPTION(-1)</th>
      <td id="T_5fdb4_row1_col0" class="data row1 col0" >0.42 ~ -0.35+0.24j</td>
      <td id="T_5fdb4_row1_col1" class="data row1 col1" >0.42 ~ -0.35-0.24j</td>
    </tr>
    <tr>
      <th id="T_5fdb4_level0_row2" class="row_heading level0 row2" >GDP(-1)</th>
      <td id="T_5fdb4_row2_col0" class="data row2 col0" >-0.77</td>
      <td id="T_5fdb4_row2_col1" class="data row2 col1" >-0.77</td>
    </tr>
    <tr>
      <th id="T_5fdb4_level0_row3" class="row_heading level0 row3" >INVESTMENT(-1)</th>
      <td id="T_5fdb4_row3_col0" class="data row3 col0" >0.49 ~ -0.42-0.24j</td>
      <td id="T_5fdb4_row3_col1" class="data row3 col1" >0.49 ~ -0.42+0.24j</td>
    </tr>
  </tbody>
</table>
</div><div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>0 CONSUMPTION
1 GDP
2 INVESTMENT
</pre></div>
</div>
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>{&#39;ALL&#39;: 1.0954451150103321,
 &#39;CONSUMPTION_excluded&#39;: 0.0,
 &#39;GDP_excluded&#39;: 0.0,
 &#39;INVESTMENT_excluded&#39;: 0.6}
</pre></div>
</div>
</div>
</div>
<p>The output above shows that the largest eigenvalue of the system is 1.1. so the system is unstable. If either the consumption or  GDP equation is deleted the largest abs(eigenvalue)  will
be 0. So the system will not be unstable. The same goes in the Investment equation is excluded. However in this case the largest abs(eigenvalue) will be 0.6.</p>
<p>So for such a small model the procedure is not very useful. But for larger models it can help identifying rough equations.</p>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./content\stability"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

                </article>
              

              
              
                <footer class="bd-footer-article">
                  
<div class="footer-article-items footer-article__inner">
  
    <div class="footer-article-item"><!-- Previous / next buttons -->
<div class="prev-next-area">
    <a class="left-prev"
       href="../introduction.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">Foreword</p>
      </div>
    </a>
    <a class="right-next"
       href="EigenValues.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title"><span class="section-number">2. </span>Model eigenvalues</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div></div>
  
</div>

                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">

  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#a-model">1.1. A model:</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#normalized-form">1.1.1. normalized form</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#the-derivatives">1.2. The derivatives</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#the-companion-matrix">1.3. The companion matrix</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#stability-and-the-eignvalues-of-the-companion-matrix">1.4. Stability and the eignvalues of the companion matrix</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#calculating-eigenvalues-and-eigenvectors-using-modelflow">1.5. Calculating Eigenvalues and eigenvectors using modelflow</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#first-create-a-model-a-samuleson-multiplier-accelerator-model">1.6. First create a model (A Samuleson multiplier accelerator model)</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#a-function-which-generates-a-dataframe-with-values">1.7. A function which generates a dataframe with values</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#a-function-which-simulate-the-model-and-calculates-eigenvalues">1.8. A function which simulate the model and calculates eigenvalues</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#explosion">1.9. Explosion</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#exploding-oscillations">1.10. Exploding oscillations</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#perpetual-oscillations">1.11. Perpetual oscillations</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#dampened-oscillations">1.12. Dampened oscillations</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#jackknife-experiments-to-identify-identify-impact-from-each-equation">1.13. Jackknife experiments  to identify identify impact from each equation.</a></li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By Andrew Burns and Ib Hansen
</p>

  </div>
  
  <div class="footer-item">
    
  <p class="copyright">
    
      © Copyright World Bank. 2023.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../../_static/scripts/bootstrap.js?digest=e353d410970836974a52"></script>
<script src="../../_static/scripts/pydata-sphinx-theme.js?digest=e353d410970836974a52"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>