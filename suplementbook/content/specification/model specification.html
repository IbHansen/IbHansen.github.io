
<!DOCTYPE html>


<html lang="en" data-content_root="../../" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>1. Modelflow brings together a model and a Pandas DataFrame &#8212; Some additional draft (very) material on The World Bank&#39;s MFMod Framework in Python with Modelflow</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  <!--
    this give us a css class that will be invisible only if js is disabled
  -->
  <noscript>
    <style>
      .pst-js-only { display: none !important; }

    </style>
  </noscript>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../../_static/styles/theme.css?digest=8878045cc6db502f8baf" rel="stylesheet" />
<link href="../../_static/styles/pydata-sphinx-theme.css?digest=8878045cc6db502f8baf" rel="stylesheet" />

    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=03e43079" />
    <link rel="stylesheet" type="text/css" href="../../_static/styles/sphinx-book-theme.css?v=a3416100" />
    <link rel="stylesheet" type="text/css" href="../../_static/togglebutton.css?v=13237357" />
    <link rel="stylesheet" type="text/css" href="../../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../../_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css?v=be8a1c11" />
    <link rel="stylesheet" type="text/css" href="../../_static/sphinx-thebe.css?v=4fa983c6" />
    <link rel="stylesheet" type="text/css" href="../../_static/sphinx-design.min.css?v=95c83b7e" />
  
  <!-- So that users can add custom icons -->
  <script src="../../_static/scripts/fontawesome.js?digest=8878045cc6db502f8baf"></script>
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../../_static/scripts/bootstrap.js?digest=8878045cc6db502f8baf" />
<link rel="preload" as="script" href="../../_static/scripts/pydata-sphinx-theme.js?digest=8878045cc6db502f8baf" />

    <script src="../../_static/documentation_options.js?v=9eb32ce0"></script>
    <script src="../../_static/doctools.js?v=9a2dae69"></script>
    <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../../_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="../../_static/copybutton.js?v=f281be69"></script>
    <script src="../../_static/scripts/sphinx-book-theme.js?v=887ef09a"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../../_static/togglebutton.js?v=4a39c7ea"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="../../_static/design-tabs.js?v=f930bc37"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script async="async" src="../../_static/sphinx-thebe.js?v=c100c467"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script>window.MathJax = {"options": {"processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
    <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'content/specification/model specification';</script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="2. A Population Model" href="../cohorte/population_with_sexes.html" />
    <link rel="prev" title="Foreword" href="../introduction.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  <meta name="docsearch:version" content="" />
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <dialog id="pst-search-dialog">
    
<form class="bd-search d-flex align-items-center"
      action="../../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         placeholder="Search this book..."
         aria-label="Search this book..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form>
  </dialog>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <dialog id="pst-primary-sidebar-modal"></dialog>
      <div id="pst-primary-sidebar" class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">

  
    
  

<a class="navbar-brand logo" href="../introduction.html">
  
  
  
  
  
  
    <p class="title logo__title">Some additional draft (very) material on The World Bank's MFMod Framework in Python with Modelflow</p>
  
</a></div>
        <div class="sidebar-primary-item">

<button class="btn search-button-field search-button__button pst-js-only" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
 <i class="fa-solid fa-magnifying-glass"></i>
 <span class="search-button__default-text">Search</span>
 <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
</button></div>
        <div class="sidebar-primary-item"><nav class="bd-links bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="../introduction.html">
                    Foreword
                </a>
            </li>
        </ul>
        <ul class="current nav bd-sidenav">
<li class="toctree-l1 current active"><a class="current reference internal" href="#">1. Modelflow brings together a model and a Pandas DataFrame</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cohorte/population_with_sexes.html">2. A Population Model</a></li>
<li class="toctree-l1"><a class="reference internal" href="../estimation/ToyModel-direct%20input.html">3. Estimation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../magic/Graphviz.html">4. Graphviz in Jupyter Cells</a></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
      <div class="sidebar-primary-item">
<div id="ethical-ad-placement"
      class="flat"
      data-ea-publisher="readthedocs"
      data-ea-type="readthedocs-sidebar"
      data-ea-manual="true">
</div></div>
  </div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><button class="sidebar-toggle primary-toggle btn btn-sm" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</button></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-launch-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Launch interactive content">
    <i class="fas fa-rocket"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://colab.research.google.com/github/IbHansen/modelflow-manual/blob/main/papers/suplementbook/content/specification/model specification.ipynb" target="_blank"
   class="btn btn-sm dropdown-item"
   title="Launch on Colab"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  
    <img alt="Colab logo" src="../../_static/images/logo_colab.png">
  </span>
<span class="btn__text-container">Colab</span>
</a>
</li>
      
  </ul>
</div>



<a href="https://github.com/IbHansen/modelflow-manual" target="_blank"
   class="btn btn-sm btn-source-repository-button"
   title="Source repository"
   data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fab fa-github"></i>
  </span>

</a>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="../../_sources/content/specification/model specification.ipynb" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.ipynb</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button pst-js-only" aria-label="Color mode" data-bs-title="Color mode"  data-bs-placement="bottom" data-bs-toggle="tooltip">
  <i class="theme-switch fa-solid fa-sun                fa-lg" data-mode="light" title="Light"></i>
  <i class="theme-switch fa-solid fa-moon               fa-lg" data-mode="dark"  title="Dark"></i>
  <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"  title="System Settings"></i>
</button>


<button class="btn btn-sm pst-navbar-icon search-button search-button__button pst-js-only" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
</button>
<button class="sidebar-toggle secondary-toggle btn btn-sm" title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</button>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>Modelflow brings together a model and a Pandas DataFrame</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#specification-of-a-model">1.1. Specification of a model</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#example-models">1.2. Example Models</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#gdp-and-consumption-model">1.2.1. 1. GDP and Consumption Model</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#debt-dynamics-model">1.2.2. 2. Debt Dynamics Model</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#a-model">1.3. A Model</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#why-separate-specification-and-implementation">1.4. Why Separate Specification and Implementation?</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#a-simple-specification-language">1.5. A Simple Specification Language</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#mexplode-expanding-the-stripped-down-dsl">1.6. Mexplode ‚Äì Expanding the Stripped-Down DSL</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#mexplode-properties">1.6.1. Mexplode Properties</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#lists">1.6.2. Lists</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#syntax">1.6.2.1. Syntax</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#do-enddo-loops">1.6.3. Do ‚Ä¶ Enddo Loops</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#id1">1.6.3.1. Syntax</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#example">1.6.3.2. Example</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#conditional-loops">1.6.4. Conditional Loops</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#doable-equations">1.6.5. Doable Equations</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#sum-of-variables">1.7. Sum of variables</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#nested-sums">1.7.1. Nested sums</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#conditional-sum">1.7.2. Conditional sum</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#combining-doable-and-sum">1.8. Combining doable and sum</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#draw-displaying-the-models-causal-structure">1.8.1. <code class="docutils literal notranslate"><span class="pre">.draw</span></code> ‚Äî Displaying the Model‚Äôs Causal Structure</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#tags-and-formula-decoration">1.9. Tags and Formula Decoration</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#enable-fixing-the-value-of-a-a-variable">1.9.1. Enable fixing the value of a a variable</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#include-add-factors">1.9.2. Include add factors</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#reverse-calculation-of-add-factors">1.9.3. Reverse Calculation of Add Factors</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#naming-of-add-factors">1.9.4. Naming of Add Factors</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#including-calculated-fitted-values">1.9.5. Including Calculated Fitted Values</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#using-replacements-or-str-replace-to-simplify-multi-dimensional-formulas">1.10. Using <code class="docutils literal notranslate"><span class="pre">replacements=</span></code> or <code class="docutils literal notranslate"><span class="pre">str.replace()</span></code> to simplify multi-dimensional formulas</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#why-this-helps">1.10.1. üí° Why this helps</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id2">1.10.2. üßÆ Example</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#using-list-defs-to-define-lists-in-mexplode">1.11. Using <code class="docutils literal notranslate"><span class="pre">list_defs=</span></code> to define lists in <code class="docutils literal notranslate"><span class="pre">Mexplode</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#when-to-use-list-defs">1.11.1. üí° When to use <code class="docutils literal notranslate"><span class="pre">list_defs=</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#how-it-works">1.11.2. ‚öôÔ∏è How it works</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#using-functools-partial-to-create-simplified-mexplode-constructors">1.12. Using <code class="docutils literal notranslate"><span class="pre">functools.partial</span></code> to create simplified <code class="docutils literal notranslate"><span class="pre">Mexplode</span></code> constructors</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id3">1.12.1. üí° Why this helps</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#building-modular-models-by-combining-smaller-formula-groups">1.13. Building modular models by combining smaller formula groups</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#why-this-approach-is-beneficial">1.13.1. üí° Why this approach is beneficial</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id4">1.13.2. ‚öôÔ∏è How it works</a></li>
</ul>
</li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section class="tex2jax_ignore mathjax_ignore" id="modelflow-brings-together-a-model-and-a-pandas-dataframe">
<h1><span class="section-number">1. </span>Modelflow brings together a model and a Pandas DataFrame<a class="headerlink" href="#modelflow-brings-together-a-model-and-a-pandas-dataframe" title="Link to this heading">#</a></h1>
<p><strong>ModelFlow</strong> is designed to combine a <strong>model specification</strong> with a <strong>Pandas DataFrame</strong> that contains the corresponding data.<br />
In this setup, each <strong>column</strong> of the DataFrame represents a model variable, while the <strong>row index</strong> represents time.<br />
This structure allows ModelFlow to evaluate and simulate the model directly on the data, period by period.</p>
<p>While Pandas provides powerful tools for managing time series, it does not natively handle <strong>lagged variables</strong> or <strong>simultaneous equation systems</strong> in a convenient way.<br />
ModelFlow fills this gap by extending the DataFrame framework with capabilities for <strong>lag and lead referencing</strong>, <strong>recursive and simultaneous solution algorithms</strong>, and <strong>automatic dependency handling</strong> between variables.</p>
<p>In this way, ModelFlow bridges the gap between <strong>data storage</strong> and <strong>model computation</strong>, making it possible to define, solve, and analyze complex dynamic systems directly within the familiar Python and Pandas environment.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">modelconstruct</span><span class="w"> </span><span class="kn">import</span> <span class="n">Mexplode</span>
</pre></div>
</div>
</div>
</div>
<section id="specification-of-a-model">
<h2><span class="section-number">1.1. </span>Specification of a model<a class="headerlink" href="#specification-of-a-model" title="Link to this heading">#</a></h2>
<p>In its simplest form, the ModelFlow domain-specific language (DSL) consists of <strong>formulas</strong>, each defining a relationship between variables.<br />
However, ModelFlow also supports a <strong>higher-level DSL</strong> that extends this basic syntax with Python-based text processing features.<br />
This enables the user to <strong>generate formulas programmatically</strong>, allowing the model specification itself to be written at a <strong>higher level of abstraction</strong>.</p>
<p>With this extended DSL, users can define <strong>templates or patterns</strong> for equations that apply across multiple entities ‚Äî for example, all sectors in a macroeconomic model or all banks in a stress-testing framework ‚Äî and then automatically expand them into a complete set of detailed, entity-specific equations.</p>
<p>This approach dramatically reduces <strong>boilerplate text</strong> and improves <strong>consistency</strong> across the model.<br />
Instead of manually writing large blocks of repetitive equations, the modeler can rely on Python constructs such as loops, lists, and string formatting to generate the full specification dynamically and transparently.</p>
<p>By integrating this higher-level DSL directly into the modeling framework, ModelFlow combines the <strong>clarity and expressiveness</strong> of a concise formula language with the <strong>flexibility and automation</strong> capabilities of Python ‚Äî making it possible to specify large, structured models in a compact, readable, and reproducible way.</p>
</section>
<section id="example-models">
<h2><span class="section-number">1.2. </span>Example Models<a class="headerlink" href="#example-models" title="Link to this heading">#</a></h2>
<p>To illustrate the use of ModelFlow and its formula-based DSL, we present two simple examples.<br />
The first is a small macroeconomic model describing the relationship between <strong>GDP</strong> and <strong>consumption</strong>.<br />
The second is a <strong>debt dynamics</strong> model that tracks the evolution of government debt over time.<br />
Together, they demonstrate how behavioral and accounting identities can be expressed concisely in ModelFlow‚Äôs syntax.</p>
<section id="gdp-and-consumption-model">
<h3><span class="section-number">1.2.1. </span>1. GDP and Consumption Model<a class="headerlink" href="#gdp-and-consumption-model" title="Link to this heading">#</a></h3>
<p>This simple model links output <span class="math notranslate nohighlight">\(Y_t\)</span> and consumption <span class="math notranslate nohighlight">\(C_t\)</span> over time.<br />
Consumption depends on lagged disposable income, and output is determined by aggregate demand.</p>
<div class="amsmath math notranslate nohighlight">
\[\begin{align*}
C_t &amp;= \alpha_0 + \alpha_1 Y_{t} + \alpha_2 Y_{t-1} + \varepsilon_t^C \\
Y_t &amp;= C_t + I_t + G_t + X_t - M_t
\end{align*}\]</div>
<ul class="simple">
<li><p><span class="math notranslate nohighlight">\(C_t\)</span> ‚Äì consumption at time <span class="math notranslate nohighlight">\(t\)</span></p></li>
<li><p><span class="math notranslate nohighlight">\(Y_t\)</span> ‚Äì output (GDP) at time <span class="math notranslate nohighlight">\(t\)</span></p></li>
<li><p><span class="math notranslate nohighlight">\(I_t, G_t, X_t, M_t\)</span> ‚Äì investment, government spending, exports, and imports</p></li>
<li><p><span class="math notranslate nohighlight">\(\alpha_0, \alpha_1\ , \alpha_2\)</span> ‚Äì behavioral parameters</p></li>
<li><p><span class="math notranslate nohighlight">\(\varepsilon_t^C\)</span> ‚Äì consumption shock</p></li>
</ul>
<p>This captures <strong>lagged adjustment behavior</strong> (consumption depends on past income) while treating the other demand components as <strong>exogenous</strong>. Also the model is contains <strong>contemporaneous feedback loops</strong> so it has to be solved as a system.</p>
<p>To input this into ModelFlow the two formulas can be written as:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>Frml &lt;stoc&gt; C = a0 +  a1*Y + a2*Y(-1) + epsC $
Frml Y = C + I + G + X - M $
</pre></div>
</div>
</section>
<hr class="docutils" />
<section id="debt-dynamics-model">
<h3><span class="section-number">1.2.2. </span>2. Debt Dynamics Model<a class="headerlink" href="#debt-dynamics-model" title="Link to this heading">#</a></h3>
<p>A second example tracks the evolution of government debt over time.<br />
Debt increases with the primary deficit and with interest payments on existing debt.</p>
<div class="amsmath math notranslate nohighlight">
\[\begin{align*}
D_t &amp;= (1 + i_{t-1}) D_{t-1} + PD_t \\
PD_t &amp;= G_t - T_t
\end{align*}\]</div>
<ul class="simple">
<li><p><span class="math notranslate nohighlight">\(D_t\)</span> ‚Äì government debt at time <span class="math notranslate nohighlight">\(t\)</span></p></li>
<li><p><span class="math notranslate nohighlight">\(i_{t-1}\)</span> ‚Äì interest rate on debt from the previous period</p></li>
<li><p><span class="math notranslate nohighlight">\(PD_t\)</span> ‚Äì primary deficit (spending minus taxes)</p></li>
<li><p><span class="math notranslate nohighlight">\(G_t\)</span> ‚Äì government spending</p></li>
<li><p><span class="math notranslate nohighlight">\(T_t\)</span> ‚Äì taxes</p></li>
</ul>
<p>Here, <span class="math notranslate nohighlight">\(D_t\)</span> is <strong>endogenous</strong>, while <span class="math notranslate nohighlight">\(i_t\)</span>, <span class="math notranslate nohighlight">\(G_t\)</span>, and <span class="math notranslate nohighlight">\(T_t\)</span> may be treated as <strong>exogenous inputs</strong> or determined by other model blocks.</p>
<p>This simple dynamic ensures that current debt depends on <strong>lagged debt</strong> and <strong>current fiscal flows</strong>, a common structure in fiscal and macroeconomic models.</p>
<p>To input this into ModelFlow the two formulas can be written as:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>Frml D  = (1 + i(-1))*D(-1) + PD $
Frml PD = G - T $
</pre></div>
</div>
</section>
</section>
<section id="a-model">
<h2><span class="section-number">1.3. </span>A Model<a class="headerlink" href="#a-model" title="Link to this heading">#</a></h2>
<p>For the purpose of this note, a (simple) model like the two mentioned above can be thought of as a system of equations that links <strong>endogenous</strong> and <strong>exogenous</strong> variables over time.</p>
<ul class="simple">
<li><p><strong>Endogenous variables</strong> are those determined <em>within</em> the model ‚Äî their values are the outcome of the relationships the model describes.</p></li>
<li><p><strong>Exogenous variables</strong>, on the other hand, are determined <em>outside</em> the model ‚Äî they are treated as given inputs or shocks that influence the endogenous variables but are not themselves affected by them.</p></li>
</ul>
<p>In time-based models, variables can appear with <strong>lags</strong> or <strong>leads</strong>.<br />
A <em>lag</em> refers to the value of a variable in a previous period ‚Äî for example, $y_{t-1}$ is the value of $y$ one period before $t$.<br />
A <em>lead</em> refers to a future value ‚Äî for example, $y_{t+1}$ represents the value of $y$ one period after $t$.</p>
<p>Including lags allows the model to capture persistence and delayed effects in economic relationships, such as habit formation or gradual adjustment.<br />
In this note, only <strong>lags</strong> will be used, as they are sufficient for representing the backward-looking relationships typical of most empirical and accounting-based models.<br />
However, <strong>ModelFlow</strong> also allows the use of <em>leaded</em> variables, which are useful in models with rational or model-consistent expectations.</p>
<p>Lets say we have:</p>
<ul class="simple">
<li><p><strong>n</strong>: number of endogenous variables</p></li>
<li><p><strong>k</strong>: number of exogenous variables</p></li>
<li><p><strong>r</strong>: maximum lag of endogenous variables</p></li>
<li><p><strong>s</strong>: maximum lag of exogenous variables</p></li>
<li><p><strong>t</strong>: time index (year, quarter, month, day, or any other unit)</p></li>
</ul>
<div class="amsmath math notranslate nohighlight">
\[\begin{align*}
y_t^1  &amp;= \;f^1(\; y_t^2,\ldots,y_t^n \;\;,\;\;y_{t-1}^1,\ldots,y_{t-r}^n\;\;,\;\;x_t^1,\ldots,x_t^k\;\;,\;\;x_{t-1}^1,\ldots,x_{t-s}^k \;) \\
y_t^2  &amp;= \;f^2(\; y_t^1,\ldots,y_t^n \;\;,\;\;y_{t-1}^1,\ldots,y_{t-r}^n\;\;,\;\;  x_t^1,\ldots,x_t^k\;\;,\;\; x_{t-1}^1,\ldots,x_{t-s}^k \;) \\
       &amp; \;\;\vdots \\
y_t^n  &amp;= f^n\bigl(\; 
   \underbrace{\underbrace{y_t^1,\ldots,y_t^{n-1}}_{\text{current}} \;,\;
               \underbrace{y_{t-1}^1,\ldots,y_{t-r}^n}_{\text{lagged}}}_{\text{endogenous}},\;
   \underbrace{\underbrace{x_t^1,\ldots,x_t^k}_{\text{current}} \;,\;
               \underbrace{x_{t-1}^1,\ldots,x_{t-s}^k}_{\text{lagged}}}_{\text{exogenous}}
   \;\bigr)
\end{align*}\]</div>
<p>Sometime such models are implemented directly in a programming environment such as Python, Matlab, or even Excel, where they are both <em>specified</em> and <em>solved</em> in the same code.</p>
</section>
<hr class="docutils" />
<section id="why-separate-specification-and-implementation">
<h2><span class="section-number">1.4. </span>Why Separate Specification and Implementation?<a class="headerlink" href="#why-separate-specification-and-implementation" title="Link to this heading">#</a></h2>
<p>Instead of mixing economic reasoning with programming details, a model can be written in a <strong>domain-specific language (DSL)</strong> designed specifically for economics and finance. Separating specification from implementation has several advantages:</p>
<ol class="arabic simple">
<li><p><strong>Clarity and focus</strong> ‚Äì The specification remains close to the underlying economic logic, expressed in a concise and readable form. The modeler concentrates on <em>what the relationships are</em>, not on <em>how the computer solves them</em>.</p></li>
<li><p><strong>Expressiveness</strong> ‚Äì The DSL uses syntax familiar to economists (equations, lags, variables), avoiding the clutter of general-purpose programming constructs.</p></li>
<li><p><strong>Maintainability</strong> ‚Äì Models can be extended or updated without rewriting solution code. Changing an equation is as simple as editing one line in the specification.</p></li>
<li><p><strong>Portability</strong> ‚Äì Once specified, the same model can be executed with different numerical engines or platforms without altering its economic content.</p></li>
<li><p><strong>Transparency</strong> ‚Äì The separation makes models easier to review, validate, and communicate, since the specification reads like economic theory rather than computer code.</p></li>
</ol>
<p>This approach is common in several econometric systems such as <strong>EViews</strong>, <strong>Dynare</strong>, and <strong>GEKKO</strong>, which all use their own DSLs to describe models.</p>
<p><strong>ModelFlow</strong> follows a similar philosophy but with a key difference: it does not introduce a new language for data handling, visualization, or model analysis. Instead, ModelFlow relies on the <strong>Python ecosystem</strong> - primarily <code class="docutils literal notranslate"><span class="pre">pandas</span></code>, but also <code class="docutils literal notranslate"><span class="pre">networkx</span></code>, <code class="docutils literal notranslate"><span class="pre">sympy</span></code>, <code class="docutils literal notranslate"><span class="pre">numpy</span></code>, and other libraries - allowing the model specification to be combined seamlessly with powerful tools for data manipulation, result analysis, and visualization.</p>
</section>
<section id="a-simple-specification-language">
<h2><span class="section-number">1.5. </span>A Simple Specification Language<a class="headerlink" href="#a-simple-specification-language" title="Link to this heading">#</a></h2>
<p>In practice, the DSL for economic models is built around equation-like statements. For example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>Frml &lt;stoc&gt; C = a0 + a1*Y(-1) + epsC $
Frml Y = C + I + G + X - M $

</pre></div>
</div>
<p>Here each formula (<code class="docutils literal notranslate"><span class="pre">Frml</span></code>) defines the relationship between variables in a way that mirrors how economists usually write them, with lags (<code class="docutils literal notranslate"><span class="pre">(-1)</span></code>) and simple algebraic notation.</p>
<p>The optional <code class="docutils literal notranslate"><span class="pre">&lt;tag&gt;</span></code> is used for transforming the frml or to control solving - more on that later.</p>
<p>This kind of business-logic-oriented specification acts as the ‚Äúblueprint‚Äù of the model, leaving the task of solving it to the underlying implementation engine.</p>
</section>
<section id="mexplode-expanding-the-stripped-down-dsl">
<h2><span class="section-number">1.6. </span>Mexplode ‚Äì Expanding the Stripped-Down DSL<a class="headerlink" href="#mexplode-expanding-the-stripped-down-dsl" title="Link to this heading">#</a></h2>
<p>The basic <code class="docutils literal notranslate"><span class="pre">Frml</span></code> statements form the <strong>lowest level</strong> of the ModelFlow domain-specific language (DSL), defining the direct relationships between variables. The basic <code class="docutils literal notranslate"><span class="pre">Frml</span></code> statements are transpiled into Python when the model is solved.</p>
<p>To make the language more expressive, concise, and suitable for large, structured models, ModelFlow uses a preprocessor called <strong><code class="docutils literal notranslate"><span class="pre">Mexplode</span></code></strong> to extends this foundation with several higher-level constructs:</p>
<ul class="simple">
<li><p><strong>Lists and sublists</strong> ‚Äì to organize entities such as banks, sectors, or countries, and automatically expand equations across these groups.</p></li>
<li><p><strong>Do ‚Ä¶ enddo loops</strong> ‚Äì to generate sets of equations programmatically over the members of a list or over a specified range.</p></li>
<li><p><strong>Sum operator</strong> ‚Äì to express aggregation directly within equations by summing over lists or sublists.</p></li>
<li><p><strong>Doable equations</strong> ‚Äì shorthand notation combining loops and summation, simplifying the definition of repeated or aggregated relationships.</p></li>
<li><p><strong>Stripped-down syntax</strong> ‚Äì allows equations to be written without explicit <code class="docutils literal notranslate"><span class="pre">Frml</span></code> and <code class="docutils literal notranslate"><span class="pre">$</span></code> markers, resulting in cleaner, more compact specifications.</p></li>
<li><p><strong>Model specifications embedded in Markdown</strong> ‚Äì each line of model code starts with <code class="docutils literal notranslate"><span class="pre">&gt;</span></code>, making them visually distinct and easily readable within documents. Documentation and explanations can be formatted nicely alongside the code using Markdown.</p></li>
</ul>
<p>Together, these features make it possible to write models at a <strong>higher level of abstraction</strong>, reducing repetition and improving consistency across model components.<br />
Instead of defining each equation manually, the modeler can use lists, loops, and operators to express economic logic once and have ModelFlow automatically generate all the necessary detailed equations.<br />
This design allows the DSL to scale from small illustrative examples to large, multi-entity macroeconomic and financial models while maintaining clarity and transparency.</p>
<section id="mexplode-properties">
<h3><span class="section-number">1.6.1. </span>Mexplode Properties<a class="headerlink" href="#mexplode-properties" title="Link to this heading">#</a></h3>
<div class="admonition-box-1-mexplode-properties admonition" id="index-0">
<p class="admonition-title">Box 1 Mexplode Properties</p>
<p><strong>For use by the very interested modeller</strong>, the <code class="docutils literal notranslate"><span class="pre">Mexplode</span></code> dataclass stores the full transformation state of a model as it moves from the stripped-down DSL to the fully expanded, normalized set of <code class="docutils literal notranslate"><span class="pre">Frml</span></code> statements ready for ModelFlow.<br />
Each field corresponds to a specific stage in this expansion and normalization process.</p>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head text-left"><p><strong>Property</strong></p></th>
<th class="head"><p><strong>Type</strong></p></th>
<th class="head text-left"><p><strong>Description</strong></p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">original_statements</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">str</span></code></p></td>
<td class="text-left"><p>Input model specification written in the stripped-down DSL.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">normal_frml</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">str</span></code></p></td>
<td class="text-left"><p>Output containing the normalized model equations.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">normal_main</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">str</span></code></p></td>
<td class="text-left"><p>Normalized <code class="docutils literal notranslate"><span class="pre">Frml</span></code> statements for the main model equations.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">normal_fit</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">str</span></code></p></td>
<td class="text-left"><p>Normalized <code class="docutils literal notranslate"><span class="pre">Frml</span></code> statements for fitted-value calculations.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">normal_calc_add</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">str</span></code></p></td>
<td class="text-left"><p>Normalized <code class="docutils literal notranslate"><span class="pre">Frml</span></code> statements for add-factor calculations.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">clean_frml_statements</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">str</span></code></p></td>
<td class="text-left"><p>Intermediate version with properly formatted <code class="docutils literal notranslate"><span class="pre">Frml</span></code> lines and structured list syntax.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">post_doable</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">str</span></code></p></td>
<td class="text-left"><p>Model after expansion of all <code class="docutils literal notranslate"><span class="pre">doable</span></code> equations.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">post_do</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">str</span></code></p></td>
<td class="text-left"><p>Model after expansion of explicit <code class="docutils literal notranslate"><span class="pre">do</span> <span class="pre">...</span> <span class="pre">enddo</span></code> loops.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">post_sum</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">str</span></code></p></td>
<td class="text-left"><p>Model after expansion of all summation (<code class="docutils literal notranslate"><span class="pre">sum</span></code>) operators.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">expanded_frml</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">str</span></code></p></td>
<td class="text-left"><p>Fully expanded set of executable <code class="docutils literal notranslate"><span class="pre">Frml</span></code> equations.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">normal_expressions</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">List[Any]</span></code></p></td>
<td class="text-left"><p>List of parsed normalized expression objects.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">list_specification</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">str</span></code></p></td>
<td class="text-left"><p>String representation of all list definitions found in the model.</p></td>
</tr>
<tr class="row-even"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">modellist</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">str</span></code></p></td>
<td class="text-left"><p>Dictionary-like string of defined lists and their attributes.</p></td>
</tr>
<tr class="row-odd"><td class="text-left"><p><code class="docutils literal notranslate"><span class="pre">funks</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">List[Any]</span></code></p></td>
<td class="text-left"><p>List of user-defined functions that can be referenced in model formulas.</p></td>
</tr>
</tbody>
</table>
</div>
<p>These internal fields allow the modeller to follow, in detail, how the stripped-down DSL is gradually transformed into executable ModelFlow syntax.<br />
They provide a complete diagnostic view of the intermediate stages‚Äîuseful for debugging, educational purposes, or extending ModelFlow‚Äôs preprocessing pipeline.</p>
<p>The higher-level properties such as <strong><code class="docutils literal notranslate"><span class="pre">show</span></code></strong> and <strong><code class="docutils literal notranslate"><span class="pre">mmodel</span></code></strong>‚Äîdescribed in the main <code class="docutils literal notranslate"><span class="pre">Mexplode</span></code> section‚Äîbuild on this internal structure to present the final expanded model or to produce a fully functional ModelFlow model instance.</p>
</div>
</section>
<section id="lists">
<h3><span class="section-number">1.6.2. </span>Lists<a class="headerlink" href="#lists" title="Link to this heading">#</a></h3>
<p>Among the higher-level constructs, <strong>lists</strong> and <strong>sublists</strong> are central to making ModelFlow scalable and expressive.<br />
They allow the modeler to define <strong>groups of entities</strong> (such as banks, portfolios, sectors, or countries) and to attach <strong>attributes</strong> or <strong>hierarchies</strong> to those entities.<br />
This enables equations to be written once as templates and then <strong>expanded automatically</strong> across all relevant list members.</p>
<p>Sublists can be used to define logical relationships between entities ‚Äî for example, linking each bank to its home country, or associating portfolios with regulatory categories.<br />
These structures make it possible to organize models systematically and to maintain consistency across entities that share the same behavioral equations.</p>
<p>This approach eliminates redundancy and manual repetition: instead of writing dozens or hundreds of similar equations, the modeler defines a <strong>single equation pattern</strong>, and ModelFlow expands it dynamically over the members of a list.</p>
<p>This capability is especially valuable in:</p>
<ul class="simple">
<li><p><strong>Stress-testing models</strong> ‚Äì where many banks, each with multiple portfolios, must be represented consistently.</p></li>
<li><p><strong>Macroeconomic models</strong> ‚Äì where sectors of the economy (households, firms, government, rest of the world, etc.) share common behavioral structures.</p></li>
<li><p><strong>Cross-country or panel models</strong> ‚Äì where the same specification is applied across multiple countries or regions.</p></li>
</ul>
<section id="syntax">
<h4><span class="section-number">1.6.2.1. </span>Syntax<a class="headerlink" href="#syntax" title="Link to this heading">#</a></h4>
<p>List definitions in the ModelFlow DSL follow a simple and consistent format:</p>
<ul class="simple">
<li><p>Each list <strong>starts</strong> with the keyword <code class="docutils literal notranslate"><span class="pre">list</span></code>.</p></li>
<li><p>It can contain one or more <strong>sublists</strong>, separated by <code class="docutils literal notranslate"><span class="pre">/</span></code>.</p></li>
<li><p>Each sublist <strong>starts</strong> with a <code class="docutils literal notranslate"><span class="pre">name:</span></code> followed by its members.</p></li>
</ul>
<p>Below are a few examples of list definitions:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">lists</span> <span class="o">=</span><span class="s1">&#39;&#39;&#39;</span>
<span class="s1">## Lists used in the next examples </span>
<span class="s1">The folloving lists are only examples </span>

<span class="s1">First a list of banks and of the home country for each bank </span>
<span class="s1">&gt;list BANKS = BANKS    : Danske  Nordea Ibs /</span>
<span class="s1">&gt;             bankcountry : denmark sweden denmark  /</span>
<span class="s1">&gt;             include   :   0        1       1</span>

<span class="s1">A list of countries </span>
<span class="s1">&gt;list country = country : denmark sweden </span>

<span class="s1">A list of different portefolios and of the regulary treatment </span>
<span class="s1">&gt;list ports = ports  : households   NFC    RE  sov /</span>
<span class="s1">&gt;              reg  : AIRB  AIRB   STA  STA </span>


<span class="s1">&#39;&#39;&#39;</span>
</pre></div>
</div>
</div>
</div>
<p>Meaning</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">list</span> <span class="pre">BANKS</span> <span class="pre">=</span> <span class="pre">...</span></code> defines a top-level list of banks with an <strong>sublist</strong> <code class="docutils literal notranslate"><span class="pre">bankcountry</span></code> that specifies where each bank belongs.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">list</span> <span class="pre">country</span> <span class="pre">=</span> <span class="pre">...</span></code> creates a country list.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">list</span> <span class="pre">ports</span> <span class="pre">=</span> <span class="pre">...</span></code> groups portfolios (<code class="docutils literal notranslate"><span class="pre">households</span></code>, <code class="docutils literal notranslate"><span class="pre">NFC</span></code>, <code class="docutils literal notranslate"><span class="pre">RE</span></code>, <code class="docutils literal notranslate"><span class="pre">sov</span></code>) and creates <strong>sublists</strong> with regulatory categories (<code class="docutils literal notranslate"><span class="pre">AIRB</span></code>, <code class="docutils literal notranslate"><span class="pre">STA</span></code>).</p></li>
</ul>
<p>So the list statement starts with the keyword <code class="docutils literal notranslate"><span class="pre">list</span></code> and a <code class="docutils literal notranslate"><span class="pre">list</span> <span class="pre">name</span> <span class="pre">=</span></code>. Sublists are seperated by / and each starts with a <code class="docutils literal notranslate"><span class="pre">sublist</span> <span class="pre">name:</span></code></p>
<p>It makes sense to give the first sublist the same name as the list name.</p>
<p>The benefits of lists:</p>
<ul class="simple">
<li><p><strong>Compactness</strong> ‚Äì groups can be declared once and reused throughout the model.</p></li>
<li><p><strong>Flexibility</strong> ‚Äì adding or removing members requires only updating the list, not the equations.</p></li>
<li><p><strong>Transparency</strong> ‚Äì clear structure makes it easy to see which entities and attributes the model covers.</p></li>
</ul>
<p>By defining lists in this way, ModelFlow provides a structured layer between the economic logic and the generated equations, enabling users to manage complex multi-entity models efficiently and transparently.</p>
</section>
</section>
<section id="do-enddo-loops">
<h3><span class="section-number">1.6.3. </span>Do ‚Ä¶ Enddo Loops<a class="headerlink" href="#do-enddo-loops" title="Link to this heading">#</a></h3>
<p>The <strong><code class="docutils literal notranslate"><span class="pre">do</span> <span class="pre">...</span> <span class="pre">enddo</span></code></strong> construct allows repetitive patterns of equations to be generated automatically.<br />
When used together with <strong>lists</strong>, it enables the modeler to create a complete set of equations for every member of a list without having to write each one manually.</p>
<p>A <code class="docutils literal notranslate"><span class="pre">do</span></code> block defines a <strong>loop</strong> over the members of a specified list (for example, all banks, sectors, or countries).<br />
Within the block, the loop variable can be referenced directly inside formulas ‚Äî ModelFlow will automatically substitute the appropriate member name during expansion.</p>
<p>This mechanism is essential for large-scale models where the same behavioral relationships apply to multiple entities.<br />
It ensures <strong>consistency</strong>, reduces <strong>repetition</strong>, and makes model specifications more <strong>maintainable</strong> and <strong>transparent</strong>.</p>
<section id="id1">
<h4><span class="section-number">1.6.3.1. </span>Syntax<a class="headerlink" href="#id1" title="Link to this heading">#</a></h4>
<p>The syntax of a <code class="docutils literal notranslate"><span class="pre">do</span></code> block is straightforward:</p>
<ul class="simple">
<li><p>The loop <em>starts</em> with: <span class="math notranslate nohighlight">\(\textbf{do } \texttt{list name}\;\;  \underbrace{ \texttt{sublist name}=\texttt{value}}_{\text{optional}} \)</span></p></li>
<li><p>It <em>ends</em> with: <span class="math notranslate nohighlight">\(\textbf{enddo}\)</span></p></li>
</ul>
<p>One or more Frml statements ‚Äî and possibly nested do ‚Ä¶ enddo blocks ‚Äî are written inside the loop.</p>
<p><strong>Mexplode</strong> automatically expands each Frml statement for every member of the specified list that satisfies the optional filter.</p>
</section>
<section id="example">
<h4><span class="section-number">1.6.3.2. </span>Example<a class="headerlink" href="#example" title="Link to this heading">#</a></h4>
<p>If the Python variable lists already defines some model lists, it can be combined with an example model specification and passed to <code class="docutils literal notranslate"><span class="pre">Mexplode</span></code> for processing.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">show</span></code> property can then be used to display the resulting DSL equations after expansion.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">list_example</span> <span class="o">=</span> <span class="n">Mexplode</span><span class="p">(</span><span class="n">lists</span> <span class="o">+</span>
<span class="sd">&#39;&#39;&#39; </span>
<span class="sd">## Loop over all banks</span>
<span class="sd">&gt;do banks </span>
<span class="sd">Calculate profit in each bank </span>
<span class="sd">&gt;     profit__{banks} = revenue__{banks} - expenses__{banks} </span>
<span class="sd">Terminate the loop </span>
<span class="sd">&gt; enddo  </span>
<span class="sd">&#39;&#39;&#39;</span><span class="p">)</span>
<span class="n">list_example</span><span class="o">.</span><span class="n">show</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>FRML &lt;&gt; PROFIT__DANSKE = REVENUE__DANSKE-EXPENSES__DANSKE $
FRML &lt;&gt; PROFIT__NORDEA = REVENUE__NORDEA-EXPENSES__NORDEA $
FRML &lt;&gt; PROFIT__IBS = REVENUE__IBS-EXPENSES__IBS $
</pre></div>
</div>
</div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">.showmd</span></code> Will render whole Markdown text</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">list_example</span><span class="o">.</span><span class="n">render</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<h2 class="rubric" id="lists-used-in-the-next-examples">Lists used in the next examples</h2>
<p>The folloving lists are only examples</p>
<p>First a list of banks and of the home country for each bank</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>&gt;list BANKS = BANKS    : Danske  Nordea Ibs /
&gt;             bankcountry : denmark sweden denmark  /
&gt;             include   :   0        1       1
</pre></div>
</div>
<p>A list of countries</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>&gt;list country = country : denmark sweden 
</pre></div>
</div>
<p>A list of different portefolios and of the regulary treatment</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>&gt;list ports = ports  : households   NFC    RE  sov /
&gt;              reg  : AIRB  AIRB   STA  STA 
</pre></div>
</div>
<h2 class="rubric" id="loop-over-all-banks">Loop over all banks</h2>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>&gt;do banks 
</pre></div>
</div>
<p>Calculate profit in each bank</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>&gt;     profit__{banks} = revenue__{banks} - expenses__{banks} 
</pre></div>
</div>
<p>Terminate the loop</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>&gt; enddo  
</pre></div>
</div>
</div>
</div>
</section>
</section>
<section id="conditional-loops">
<h3><span class="section-number">1.6.4. </span>Conditional Loops<a class="headerlink" href="#conditional-loops" title="Link to this heading">#</a></h3>
<p>The do statement can also include conditions that restrict the loop to members of a list matching specific attribute values.
This is written using the syntax do <list> <sublist>=<value>.</p>
<p>For example, suppose the list BANKS includes a sublist bankcountry,
then the following block will only expand for banks located in Denmark:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">Mexplode</span><span class="p">(</span><span class="n">lists</span> <span class="o">+</span>
<span class="sd">&#39;&#39;&#39; </span>
<span class="sd">&gt;do banks bankcountry = denmark</span>
<span class="sd">&gt;     profit__{banks} = revenue__{banks} - expenses__{banks} </span>
<span class="sd">&gt; enddo  </span>
<span class="sd">&#39;&#39;&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">show</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>FRML &lt;&gt; PROFIT__DANSKE = REVENUE__DANSKE-EXPENSES__DANSKE $
FRML &lt;&gt; PROFIT__IBS = REVENUE__IBS-EXPENSES__IBS $
</pre></div>
</div>
</div>
</div>
<p>ModelFlow will expand this block only for banks whose bankcountry attribute equals denmark.</p>
<p>This conditional looping makes it possible to write targeted relationships for specific subsets of entities
for instance, defining different equations for domestic and foreign banks, or applying alternative behavioral rules to different sectors or regions.</p>
<p>By combining lists, sublists, and conditional do loops, ModelFlow allows highly structured models to be specified compactly while preserving clarity and flexibility.</p>
</section>
<section id="doable-equations">
<h3><span class="section-number">1.6.5. </span>Doable Equations<a class="headerlink" href="#doable-equations" title="Link to this heading">#</a></h3>
<p>While <code class="docutils literal notranslate"><span class="pre">do</span> <span class="pre">...</span> <span class="pre">enddo</span></code> loops provide an explicit way to expand formulas across members of a list,<br />
the <strong><code class="docutils literal notranslate"><span class="pre">doable</span></code></strong> construct offers a more concise and automatic alternative.</p>
<p>A <strong>doable equation</strong> is a <em>high-level shorthand</em> that combines the functionality of loops and summations without requiring the user to write repetitive loop structures.<br />
Instead of manually specifying <code class="docutils literal notranslate"><span class="pre">do</span></code> blocks, ModelFlow can <strong>detect the relevant lists automatically</strong> by inspecting the <strong>first</strong> variable names in the equation.</p>
<p>Variables that contain double underscores (<code class="docutils literal notranslate"><span class="pre">__</span></code>) indicate <strong>list dimensions</strong>.<br />
For example, in <code class="docutils literal notranslate"><span class="pre">profit__{banks}</span></code>, ModelFlow recognizes that <code class="docutils literal notranslate"><span class="pre">profit</span></code> is a variable defined over the list <code class="docutils literal notranslate"><span class="pre">BANKS</span></code>.<br />
Similarly, in <code class="docutils literal notranslate"><span class="pre">loss__{banks}__{ports}</span></code>, the two underscores identify two list dimensions ‚Äî <code class="docutils literal notranslate"><span class="pre">BANKS</span></code> and <code class="docutils literal notranslate"><span class="pre">PORTS</span></code>.</p>
<div class="admonition-box-2-doable-summary admonition" id="index-1">
<p class="admonition-title">Box 2 Doable summary</p>
<div class="math notranslate nohighlight">
\[
\texttt{doable} \;
\underbrace{\langle tag \rangle}_{\text{Tag}} \;
\underbrace{[list= sublist=value,\ldots]}_{\text{Optional Conditions}} \;
\underbrace{%
   \underbrace{\texttt{VARIABLE}}_{\text{LHS Expression}}
   \underbrace{\_\_\{list1\}\_\_\{list2\}...}_{\text{LHS Dimensions}}
}_{\text{LHS}} \;
= \;
\underbrace{\texttt{Expression including sublists}}_{\text{RHS Expression}}
\]</div>
</div>
<p>When ModelFlow encounters a <code class="docutils literal notranslate"><span class="pre">doable</span></code> equation such as:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">Mexplode</span><span class="p">(</span><span class="n">lists</span> <span class="o">+</span> <span class="s1">&#39;&#39;&#39;</span>
<span class="s1">&gt;doable profit__</span><span class="si">{banks}</span><span class="s1"> = revenue_</span><span class="si">{banks}</span><span class="s1"> - expenses_</span><span class="si">{banks}</span>
<span class="s1">&#39;&#39;&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">show</span>   
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>FRML &lt;&gt; PROFIT__DANSKE = REVENUE_DANSKE-EXPENSES_DANSKE $
FRML &lt;&gt; PROFIT__NORDEA = REVENUE_NORDEA-EXPENSES_NORDEA $
FRML &lt;&gt; PROFIT__IBS = REVENUE_IBS-EXPENSES_IBS $
</pre></div>
</div>
</div>
</div>
<p>it automatically expands the formula across all members of the list BANKS ‚Äî just as a do BANKS ‚Ä¶ enddo loop would.</p>
<p>Thus, the doable keyword eliminates the need for explicit looping syntax, making the specification both shorter and easier to read.</p>
<p>Doable equations can also include conditions and tags in the same way as do loops.
For example:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">Mexplode</span><span class="p">(</span><span class="n">lists</span><span class="o">+</span><span class="s1">&#39;&gt;doable [banks= bankcountry=denmark] profit__</span><span class="si">{banks}</span><span class="s1">=revenue__</span><span class="si">{banks}</span><span class="s1">-expenses__</span><span class="si">{banks}</span><span class="s1">&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">show</span> 
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>FRML &lt;&gt; PROFIT__DANSKE = REVENUE__DANSKE-EXPENSES__DANSKE $
FRML &lt;&gt; PROFIT__IBS = REVENUE__IBS-EXPENSES__IBS $
</pre></div>
</div>
</div>
</div>
<p>Expands only for banks where the sublist bankcountry equals denmark.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">Mexplode</span><span class="p">(</span><span class="n">lists</span><span class="o">+</span><span class="s1">&#39;&gt;doable [banks=include] profit__</span><span class="si">{banks}</span><span class="s1">=revenue__</span><span class="si">{banks}</span><span class="s1">-expenses__</span><span class="si">{banks}</span><span class="s1">&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">show</span> 
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>FRML &lt;&gt; PROFIT__NORDEA = REVENUE__NORDEA-EXPENSES__NORDEA $
FRML &lt;&gt; PROFIT__IBS = REVENUE__IBS-EXPENSES__IBS $
</pre></div>
</div>
</div>
</div>
<p>Expands only for banks where the sublist include has the value 1</p>
<p>This mechanism is particularly powerful when dealing with complex, multi-dimensional systems ‚Äî such as stress-test models with many banks and portfolios ‚Äî
since the modeler can write compact, pattern-based equations that ModelFlow expands automatically by detecting all relevant list dimensions.</p>
<p>In short, doable equations serve as an elegant, high-level syntax that:</p>
<ul class="simple">
<li><p>Avoids the boilerplate of do ‚Ä¶ enddo structures,</p></li>
<li><p>Automatically determines which lists apply by analyzi ng variable dimensions, and</p></li>
<li><p>Keeps model specifications concise, readable, and scalable.</p></li>
</ul>
</section>
</section>
<section id="sum-of-variables">
<h2><span class="section-number">1.7. </span>Sum of variables<a class="headerlink" href="#sum-of-variables" title="Link to this heading">#</a></h2>
<p>To sum over lists the sum statement en expressions can be used. it will generate a sum over the list and potential filtered by a condition</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">Mexplode</span><span class="p">(</span><span class="n">lists</span><span class="o">+</span><span class="s1">&#39;&gt;loss_danske =  sum(ports,loss__danske__</span><span class="si">{ports}</span><span class="s1">))&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">show</span> 
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>FRML &lt;&gt; LOSS_DANSKE = (LOSS__DANSKE__HOUSEHOLDS+LOSS__DANSKE__NFC+LOSS__DANSKE__RE+LOSS__DANSKE__SOV)) $
</pre></div>
</div>
</div>
</div>
<section id="nested-sums">
<h3><span class="section-number">1.7.1. </span>Nested sums<a class="headerlink" href="#nested-sums" title="Link to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">Mexplode</span><span class="p">(</span><span class="n">lists</span><span class="o">+</span><span class="s1">&#39;&gt;loss_total =  sum(banks,sum(ports,loss__</span><span class="si">{banks}</span><span class="s1">__</span><span class="si">{ports}</span><span class="s1">))&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">show</span> 
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>FRML &lt;&gt; LOSS_TOTAL = ((LOSS__DANSKE__HOUSEHOLDS+LOSS__DANSKE__NFC+LOSS__DANSKE__RE+LOSS__DANSKE__SOV)+(LOSS__NORDEA__HOUSEHOLDS+LOSS__NORDEA__NFC+LOSS__NORDEA__RE+LOSS__NORDEA__SOV)+(LOSS__IBS__HOUSEHOLDS+LOSS__IBS__NFC+LOSS__IBS__RE+LOSS__IBS__SOV)) $
</pre></div>
</div>
</div>
</div>
</section>
<section id="conditional-sum">
<h3><span class="section-number">1.7.2. </span>Conditional sum<a class="headerlink" href="#conditional-sum" title="Link to this heading">#</a></h3>
<p>Here the total sum for all banks for portefolios with reg=sta</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">Mexplode</span><span class="p">(</span><span class="n">lists</span><span class="o">+</span> <span class="s1">&#39;&gt;loss_total_sta =  sum(banks,sum(ports reg=STA,loss__</span><span class="si">{banks}</span><span class="s1">__</span><span class="si">{ports}</span><span class="s1">))&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">show</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>FRML &lt;&gt; LOSS_TOTAL_STA = ((LOSS__DANSKE__RE+LOSS__DANSKE__SOV)+(LOSS__NORDEA__RE+LOSS__NORDEA__SOV)+(LOSS__IBS__RE+LOSS__IBS__SOV)) $
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">Mexplode</span><span class="p">(</span><span class="n">lists</span><span class="o">+</span> <span class="s1">&#39;&gt;loss_total_sta =  sum(banks include,sum(ports reg=STA,loss__</span><span class="si">{banks}</span><span class="s1">__</span><span class="si">{ports}</span><span class="s1">))&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">show</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>FRML &lt;&gt; LOSS_TOTAL_STA = ((LOSS__NORDEA__RE+LOSS__NORDEA__SOV)+(LOSS__IBS__RE+LOSS__IBS__SOV)) $
</pre></div>
</div>
</div>
</div>
</section>
</section>
<section id="combining-doable-and-sum">
<h2><span class="section-number">1.8. </span>Combining doable and sum<a class="headerlink" href="#combining-doable-and-sum" title="Link to this heading">#</a></h2>
<p>In <code class="docutils literal notranslate"><span class="pre">doable</span></code> to create a sum of all the calculated Conditional the tag sum can be used. This will generate a sum of all the calculated values in the statement. <code class="docutils literal notranslate"><span class="pre">&lt;sum=text&gt;</span></code> will give dimension name to the result. If no text is given it will be  called sum.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">Mexplode</span><span class="p">(</span><span class="n">lists</span><span class="o">+</span>
<span class="s1">&#39;&gt;doable &lt;sum=total&gt;  profit__</span><span class="si">{banks}</span><span class="s1">=revenue__</span><span class="si">{banks}</span><span class="s1">-expenses__</span><span class="si">{banks}</span><span class="s1">&#39;</span>
        <span class="p">)</span><span class="o">.</span><span class="n">show</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>FRML &lt;SUM=TOTAL&gt; PROFIT__DANSKE = REVENUE__DANSKE-EXPENSES__DANSKE $
FRML &lt;SUM=TOTAL&gt; PROFIT__NORDEA = REVENUE__NORDEA-EXPENSES__NORDEA $
FRML &lt;SUM=TOTAL&gt; PROFIT__IBS = REVENUE__IBS-EXPENSES__IBS $
FRML &lt;SUM=TOTAL&gt; PROFIT__TOTAL = (PROFIT__DANSKE+PROFIT__NORDEA+PROFIT__IBS) $
</pre></div>
</div>
</div>
</div>
<p>And with conditions it works to</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">exploded</span> <span class="o">=</span> <span class="n">Mexplode</span><span class="p">(</span><span class="n">lists</span><span class="o">+</span>
<span class="s1">&#39;&gt;doable &lt;sum=total&gt; [banks bankcountry=denmark] profit__</span><span class="si">{banks}</span><span class="s1">=revenue__</span><span class="si">{banks}</span><span class="s1">-expenses__</span><span class="si">{banks}</span><span class="s1">&#39;</span>
        <span class="p">)</span>
<span class="n">exploded</span><span class="o">.</span><span class="n">show</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>FRML &lt;SUM=TOTAL&gt; PROFIT__DANSKE = REVENUE__DANSKE-EXPENSES__DANSKE $
FRML &lt;SUM=TOTAL&gt; PROFIT__NORDEA = REVENUE__NORDEA-EXPENSES__NORDEA $
FRML &lt;SUM=TOTAL&gt; PROFIT__IBS = REVENUE__IBS-EXPENSES__IBS $
FRML &lt;SUM=TOTAL&gt; PROFIT__TOTAL = (PROFIT__DANSKE+PROFIT__NORDEA+PROFIT__IBS) $
</pre></div>
</div>
</div>
</div>
<section id="draw-displaying-the-models-causal-structure">
<h3><span class="section-number">1.8.1. </span><code class="docutils literal notranslate"><span class="pre">.draw</span></code> ‚Äî Displaying the Model‚Äôs Causal Structure<a class="headerlink" href="#draw-displaying-the-models-causal-structure" title="Link to this heading">#</a></h3>
<p>The <strong><code class="docutils literal notranslate"><span class="pre">.draw</span></code></strong> method visualizes the <strong>causal structure</strong> of a model as defined by its equations.<br />
It provides an intuitive graph of dependencies between variables, helping to understand the logical flow and interconnections within the model.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Use this feature only for <strong>small models</strong> ‚Äî for larger models, the resulting diagram can become cluttered.</p>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">exploded</span><span class="o">.</span><span class="n">draw</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 12.0.0 (0)
 -->
<!-- Title: TD Pages: 1 -->
<svg width="432pt" height="303pt"
 viewBox="0.00 0.00 432.00 303.20" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(0.895708 0.895708) rotate(0) translate(4 334.5)">
<title>TD</title>
<polygon fill="white" stroke="none" points="-4,4 -4,-334.5 478.3,-334.5 478.3,4 -4,4"/>
<text text-anchor="middle" x="237.15" y="-7.2" font-family="Times New Roman,serif" font-size="14.00">A_model_graph</text>
<!-- REVENUE__IBS -->
<g id="node1" class="node">
<title>REVENUE__IBS</title>
<g id="a_node1"><a xlink:title="REVENUE__IBS&#10;Exogen">
<polygon fill="yellow" stroke="black" points="132.35,-330.5 19.5,-330.5 19.5,-294.5 132.35,-294.5 132.35,-330.5"/>
<text text-anchor="start" x="25.3" y="-307.45" font-family="Times New Roman,serif" font-size="14.00" fill="blue">REVENUE__IBS:</text>
</a>
</g>
</g>
<!-- PROFIT__IBS -->
<g id="node9" class="node">
<title>PROFIT__IBS</title>
<g id="a_node9"><a xlink:title="PROFIT__IBS&#10;FRML &lt;SUM=TOTAL&gt; PROFIT__IBS = REVENUE__IBS&#45;EXPENSES__IBS $">
<polygon fill="#63b8ff" stroke="black" points="301.82,-276.5 205.47,-276.5 205.47,-240.5 301.82,-240.5 301.82,-276.5"/>
<text text-anchor="start" x="211.27" y="-253.45" font-family="Times New Roman,serif" font-size="14.00" fill="blue">PROFIT__IBS:</text>
</a>
</g>
</g>
<!-- REVENUE__IBS&#45;&gt;PROFIT__IBS -->
<g id="edge4" class="edge">
<title>REVENUE__IBS&#45;&gt;PROFIT__IBS</title>
<g id="a_edge4"><a xlink:href="bogus" xlink:title="NA">
<path fill="none" stroke="black" stroke-width="0.5" d="M132.53,-295.41C152.39,-289.31 174.81,-282.42 194.86,-276.26"/>
<polygon fill="black" stroke="black" stroke-width="0.5" points="195.84,-279.62 204.37,-273.34 193.79,-272.93 195.84,-279.62"/>
</a>
</g>
</g>
<!-- PROFIT__NORDEA -->
<g id="node2" class="node">
<title>PROFIT__NORDEA</title>
<g id="a_node2"><a xlink:title="PROFIT__NORDEA&#10;FRML &lt;SUM=TOTAL&gt; PROFIT__NORDEA = REVENUE__NORDEA&#45;EXPENSES__NORDEA $">
<polygon fill="#63b8ff" stroke="black" points="319.45,-195.5 187.85,-195.5 187.85,-159.5 319.45,-159.5 319.45,-195.5"/>
<text text-anchor="start" x="193.65" y="-172.45" font-family="Times New Roman,serif" font-size="14.00" fill="blue">PROFIT__NORDEA:</text>
</a>
</g>
</g>
<!-- PROFIT__TOTAL -->
<g id="node8" class="node">
<title>PROFIT__TOTAL</title>
<g id="a_node8"><a xlink:title="PROFIT__TOTAL&#10;FRML &lt;SUM=TOTAL&gt; PROFIT__TOTAL = (PROFIT__DANSKE+PROFIT__NORDEA+PROFIT__IBS) $">
<polygon fill="#63b8ff" stroke="black" points="474.3,-195.5 355.45,-195.5 355.45,-159.5 474.3,-159.5 474.3,-195.5"/>
<text text-anchor="start" x="361.25" y="-172.45" font-family="Times New Roman,serif" font-size="14.00" fill="blue">PROFIT__TOTAL:</text>
</a>
</g>
</g>
<!-- PROFIT__NORDEA&#45;&gt;PROFIT__TOTAL -->
<g id="edge5" class="edge">
<title>PROFIT__NORDEA&#45;&gt;PROFIT__TOTAL</title>
<g id="a_edge5"><a xlink:href="bogus" xlink:title="NA">
<path fill="none" stroke="black" stroke-width="0.5" d="M319.87,-177.5C327.99,-177.5 336.32,-177.5 344.5,-177.5"/>
<polygon fill="black" stroke="black" stroke-width="0.5" points="344.39,-181 354.39,-177.5 344.39,-174 344.39,-181"/>
</a>
</g>
</g>
<!-- REVENUE__DANSKE -->
<g id="node3" class="node">
<title>REVENUE__DANSKE</title>
<g id="a_node3"><a xlink:title="REVENUE__DANSKE&#10;Exogen">
<polygon fill="yellow" stroke="black" points="149.23,-114.5 2.63,-114.5 2.63,-78.5 149.23,-78.5 149.23,-114.5"/>
<text text-anchor="start" x="8.43" y="-91.45" font-family="Times New Roman,serif" font-size="14.00" fill="blue">REVENUE__DANSKE:</text>
</a>
</g>
</g>
<!-- PROFIT__DANSKE -->
<g id="node7" class="node">
<title>PROFIT__DANSKE</title>
<g id="a_node7"><a xlink:title="PROFIT__DANSKE&#10;FRML &lt;SUM=TOTAL&gt; PROFIT__DANSKE = REVENUE__DANSKE&#45;EXPENSES__DANSKE $">
<polygon fill="#63b8ff" stroke="black" points="318.7,-114.5 188.6,-114.5 188.6,-78.5 318.7,-78.5 318.7,-114.5"/>
<text text-anchor="start" x="194.4" y="-91.45" font-family="Times New Roman,serif" font-size="14.00" fill="blue">PROFIT__DANSKE:</text>
</a>
</g>
</g>
<!-- REVENUE__DANSKE&#45;&gt;PROFIT__DANSKE -->
<g id="edge9" class="edge">
<title>REVENUE__DANSKE&#45;&gt;PROFIT__DANSKE</title>
<g id="a_edge9"><a xlink:href="bogus" xlink:title="NA">
<path fill="none" stroke="black" stroke-width="0.5" d="M149.67,-96.5C158.83,-96.5 168.22,-96.5 177.42,-96.5"/>
<polygon fill="black" stroke="black" stroke-width="0.5" points="177.35,-100 187.35,-96.5 177.35,-93 177.35,-100"/>
</a>
</g>
</g>
<!-- EXPENSES__DANSKE -->
<g id="node4" class="node">
<title>EXPENSES__DANSKE</title>
<g id="a_node4"><a xlink:title="EXPENSES__DANSKE&#10;Exogen">
<polygon fill="yellow" stroke="black" points="151.1,-60.5 0.75,-60.5 0.75,-24.5 151.1,-24.5 151.1,-60.5"/>
<text text-anchor="start" x="6.55" y="-37.45" font-family="Times New Roman,serif" font-size="14.00" fill="blue">EXPENSES__DANSKE:</text>
</a>
</g>
</g>
<!-- EXPENSES__DANSKE&#45;&gt;PROFIT__DANSKE -->
<g id="edge8" class="edge">
<title>EXPENSES__DANSKE&#45;&gt;PROFIT__DANSKE</title>
<g id="a_edge8"><a xlink:href="bogus" xlink:title="NA">
<path fill="none" stroke="black" stroke-width="0.5" d="M136.91,-60.93C151.67,-65.47 167.6,-70.37 182.79,-75.03"/>
<polygon fill="black" stroke="black" stroke-width="0.5" points="181.33,-78.24 191.92,-77.84 183.38,-71.55 181.33,-78.24"/>
</a>
</g>
</g>
<!-- EXPENSES__IBS -->
<g id="node5" class="node">
<title>EXPENSES__IBS</title>
<g id="a_node5"><a xlink:title="EXPENSES__IBS&#10;Exogen">
<polygon fill="yellow" stroke="black" points="134.23,-276.5 17.63,-276.5 17.63,-240.5 134.23,-240.5 134.23,-276.5"/>
<text text-anchor="start" x="23.43" y="-253.45" font-family="Times New Roman,serif" font-size="14.00" fill="blue">EXPENSES__IBS:</text>
</a>
</g>
</g>
<!-- EXPENSES__IBS&#45;&gt;PROFIT__IBS -->
<g id="edge2" class="edge">
<title>EXPENSES__IBS&#45;&gt;PROFIT__IBS</title>
<g id="a_edge2"><a xlink:href="bogus" xlink:title="NA">
<path fill="none" stroke="black" stroke-width="0.5" d="M134.46,-258.5C153.8,-258.5 175.38,-258.5 194.75,-258.5"/>
<polygon fill="black" stroke="black" stroke-width="0.5" points="194.5,-262 204.5,-258.5 194.5,-255 194.5,-262"/>
</a>
</g>
</g>
<!-- REVENUE__NORDEA -->
<g id="node6" class="node">
<title>REVENUE__NORDEA</title>
<g id="a_node6"><a xlink:title="REVENUE__NORDEA&#10;Exogen">
<polygon fill="yellow" stroke="black" points="149.98,-222.5 1.88,-222.5 1.88,-186.5 149.98,-186.5 149.98,-222.5"/>
<text text-anchor="start" x="7.68" y="-199.45" font-family="Times New Roman,serif" font-size="14.00" fill="blue">REVENUE__NORDEA:</text>
</a>
</g>
</g>
<!-- REVENUE__NORDEA&#45;&gt;PROFIT__NORDEA -->
<g id="edge6" class="edge">
<title>REVENUE__NORDEA&#45;&gt;PROFIT__NORDEA</title>
<g id="a_edge6"><a xlink:href="bogus" xlink:title="NA">
<path fill="none" stroke="black" stroke-width="0.5" d="M150.43,-193.21C159.19,-191.86 168.14,-190.48 176.93,-189.13"/>
<polygon fill="black" stroke="black" stroke-width="0.5" points="177.45,-192.6 186.8,-187.62 176.38,-185.68 177.45,-192.6"/>
</a>
</g>
</g>
<!-- PROFIT__DANSKE&#45;&gt;PROFIT__TOTAL -->
<g id="edge3" class="edge">
<title>PROFIT__DANSKE&#45;&gt;PROFIT__TOTAL</title>
<g id="a_edge3"><a xlink:href="bogus" xlink:title="NA">
<path fill="none" stroke="black" stroke-width="0.5" d="M290.78,-114.88C313.7,-126.54 343.57,-141.73 368.14,-154.23"/>
<polygon fill="black" stroke="black" stroke-width="0.5" points="366.44,-157.29 376.94,-158.71 369.61,-151.06 366.44,-157.29"/>
</a>
</g>
</g>
<!-- PROFIT__IBS&#45;&gt;PROFIT__TOTAL -->
<g id="edge1" class="edge">
<title>PROFIT__IBS&#45;&gt;PROFIT__TOTAL</title>
<g id="a_edge1"><a xlink:href="bogus" xlink:title="NA">
<path fill="none" stroke="black" stroke-width="0.5" d="M290.78,-240.12C313.7,-228.46 343.57,-213.27 368.14,-200.77"/>
<polygon fill="black" stroke="black" stroke-width="0.5" points="369.61,-203.94 376.94,-196.29 366.44,-197.71 369.61,-203.94"/>
</a>
</g>
</g>
<!-- EXPENSES__NORDEA -->
<g id="node10" class="node">
<title>EXPENSES__NORDEA</title>
<g id="a_node10"><a xlink:title="EXPENSES__NORDEA&#10;Exogen">
<polygon fill="yellow" stroke="black" points="151.85,-168.5 0,-168.5 0,-132.5 151.85,-132.5 151.85,-168.5"/>
<text text-anchor="start" x="5.8" y="-145.45" font-family="Times New Roman,serif" font-size="14.00" fill="blue">EXPENSES__NORDEA:</text>
</a>
</g>
</g>
<!-- EXPENSES__NORDEA&#45;&gt;PROFIT__NORDEA -->
<g id="edge7" class="edge">
<title>EXPENSES__NORDEA&#45;&gt;PROFIT__NORDEA</title>
<g id="a_edge7"><a xlink:href="bogus" xlink:title="NA">
<path fill="none" stroke="black" stroke-width="0.5" d="M152.21,-162.07C160.37,-163.32 168.68,-164.6 176.85,-165.85"/>
<polygon fill="black" stroke="black" stroke-width="0.5" points="176.32,-169.31 186.73,-167.37 177.38,-162.39 176.32,-169.31"/>
</a>
</g>
</g>
</g>
</svg>
</div></div>
</div>
<p>The <strong><code class="docutils literal notranslate"><span class="pre">Mexplode.draw</span></code></strong> property is a convenient wrapper around <strong><code class="docutils literal notranslate"><span class="pre">Mexplode.mmodel.drawmodel()</span></code></strong>.<br />
It first accesses the <strong><code class="docutils literal notranslate"><span class="pre">modelclass.model</span></code></strong> instance defined by the DSL, then generates a graphical representation of the entire model.</p>
<p>All methods available to the underlying model instance can be used ‚Äî for example, the <strong><code class="docutils literal notranslate"><span class="pre">.tracedep</span></code></strong> method, which allows tracing the dependencies of a single variables within the model.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">exploded</span><span class="o">.</span><span class="n">mmodel</span><span class="o">.</span><span class="n">PROFIT__DANSKE</span><span class="o">.</span><span class="n">tracepre</span><span class="p">()</span> 
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 12.0.0 (0)
 -->
<!-- Title: TD Pages: 1 -->
<svg width="324pt" height="123pt"
 viewBox="0.00 0.00 324.45 122.50" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 118.5)">
<title>TD</title>
<polygon fill="white" stroke="none" points="-4,4 -4,-118.5 320.45,-118.5 320.45,4 -4,4"/>
<text text-anchor="middle" x="158.22" y="-7.2" font-family="Times New Roman,serif" font-size="14.00">PROFIT__DANSKE</text>
<!-- EXPENSES__DANSKE -->
<g id="node1" class="node">
<title>EXPENSES__DANSKE</title>
<g id="a_node1"><a xlink:title="EXPENSES__DANSKE&#10;Exogen">
<polygon fill="yellow" stroke="black" points="150.35,-114.5 0,-114.5 0,-78.5 150.35,-78.5 150.35,-114.5"/>
<text text-anchor="start" x="5.8" y="-91.45" font-family="Times New Roman,serif" font-size="14.00" fill="blue">EXPENSES__DANSKE:</text>
</a>
</g>
</g>
<!-- PROFIT__DANSKE -->
<g id="node3" class="node">
<title>PROFIT__DANSKE</title>
<g id="a_node3"><a xlink:title="PROFIT__DANSKE&#10;FRML &lt;SUM=TOTAL&gt; PROFIT__DANSKE = REVENUE__DANSKE&#45;EXPENSES__DANSKE $">
<polygon fill="red" stroke="black" points="316.45,-87.5 186.35,-87.5 186.35,-51.5 316.45,-51.5 316.45,-87.5"/>
<text text-anchor="start" x="192.15" y="-64.45" font-family="Times New Roman,serif" font-size="14.00" fill="blue">PROFIT__DANSKE:</text>
</a>
</g>
</g>
<!-- EXPENSES__DANSKE&#45;&gt;PROFIT__DANSKE -->
<g id="edge1" class="edge">
<title>EXPENSES__DANSKE&#45;&gt;PROFIT__DANSKE</title>
<g id="a_edge1"><a xlink:href="bogus" xlink:title="NA">
<path fill="none" stroke="black" stroke-width="0.5" d="M150.82,-84.93C158.98,-83.67 167.28,-82.38 175.44,-81.12"/>
<polygon fill="black" stroke="black" stroke-width="0.5" points="175.96,-84.58 185.31,-79.59 174.89,-77.66 175.96,-84.58"/>
</a>
</g>
</g>
<!-- REVENUE__DANSKE -->
<g id="node2" class="node">
<title>REVENUE__DANSKE</title>
<g id="a_node2"><a xlink:title="REVENUE__DANSKE&#10;Exogen">
<polygon fill="yellow" stroke="black" points="148.48,-60.5 1.88,-60.5 1.88,-24.5 148.48,-24.5 148.48,-60.5"/>
<text text-anchor="start" x="7.68" y="-37.45" font-family="Times New Roman,serif" font-size="14.00" fill="blue">REVENUE__DANSKE:</text>
</a>
</g>
</g>
<!-- REVENUE__DANSKE&#45;&gt;PROFIT__DANSKE -->
<g id="edge2" class="edge">
<title>REVENUE__DANSKE&#45;&gt;PROFIT__DANSKE</title>
<g id="a_edge2"><a xlink:href="bogus" xlink:title="NA">
<path fill="none" stroke="black" stroke-width="0.5" d="M148.8,-53.75C157.56,-55.11 166.53,-56.5 175.32,-57.87"/>
<polygon fill="black" stroke="black" stroke-width="0.5" points="174.78,-61.32 185.2,-59.4 175.85,-54.41 174.78,-61.32"/>
</a>
</g>
</g>
</g>
</svg>
</div></div>
</div>
</section>
</section>
<section id="tags-and-formula-decoration">
<h2><span class="section-number">1.9. </span>Tags and Formula Decoration<a class="headerlink" href="#tags-and-formula-decoration" title="Link to this heading">#</a></h2>
<p>As mentioned earlier, the user should focus primarily on defining the <strong>economic relationships</strong> themselves.<br />
However, in some cases it can be useful to <strong>decorate</strong> formulas to enable specific <strong>modifications or behaviors</strong> during calculations.<br />
This is achieved by <strong>tagging</strong> the formula.</p>
<p>If we start with this simple formula and no tags. The formula will just be translated to a simple DSL formula:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">Mexplode</span><span class="p">(</span><span class="s1">&#39;&gt;a = b&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">show</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>FRML &lt;&gt; A = B $
</pre></div>
</div>
</div>
</div>
<section id="enable-fixing-the-value-of-a-a-variable">
<h3><span class="section-number">1.9.1. </span>Enable fixing the value of a a variable<a class="headerlink" href="#enable-fixing-the-value-of-a-a-variable" title="Link to this heading">#</a></h3>
<p>When the value of a variable is known for certain time periods, it can be fixed by tagging its formula with exo.
This is especially useful in forecasting exercises, where newly published statistics are available and should override the model‚Äôs computed values.</p>
<p>When a formula is tagged with exo, two additional variables are automatically created:</p>
<ul class="simple">
<li><p><variable name>_X ‚Äî the fixed (exogenous) value to be used.</p></li>
<li><p><variable name>_D ‚Äî a dummy variable that equals 1 in the periods where the fixed value should replace the model-generated one.</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">Mexplode</span><span class="p">(</span><span class="s1">&#39;&gt;&lt;exo&gt; a = b&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">show</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>FRML &lt;EXO&gt; A = (B)* (1-A_D)+ A_X*A_D $
</pre></div>
</div>
</div>
</div>
<p>his means that:</p>
<ul class="simple">
<li><p>When <code class="docutils literal notranslate"><span class="pre">A_D</span> <span class="pre">=</span> <span class="pre">0</span></code>, the model uses the endogenous calculation A = B.</p></li>
<li><p>When <code class="docutils literal notranslate"><span class="pre">A_D</span> <span class="pre">=</span> <span class="pre">1</span></code>, the model instead uses the fixed value A = A_X.</p></li>
</ul>
<p>This mechanism allows the modeller to incorporate known or published values seamlessly, without modifying the model‚Äôs structure.</p>
<p>The ModelFlow model instance also includes convenient helper methods for managing these exogenous values ‚Äî for example, to set, update, or release fixed variables during forecasting or simulation exercises.</p>
</section>
<section id="include-add-factors">
<h3><span class="section-number">1.9.2. </span>Include add factors<a class="headerlink" href="#include-add-factors" title="Link to this heading">#</a></h3>
<p>In some it can be useful to be able to adjust the formula in order to make an experiment or to incorporate factors outside the model. Sometime called <strong>add factors</strong> or <strong>expert judgements</strong> To make life easy this can be done by using the tag <code class="docutils literal notranslate"><span class="pre">add</span></code> also the tag <code class="docutils literal notranslate"><span class="pre">add_suffic=</span></code> can be used to change the suffix for the add factor from the default <code class="docutils literal notranslate"><span class="pre">_A</span></code></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">Mexplode</span><span class="p">(</span><span class="s1">&#39;&gt;&lt;add&gt; a = b&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">show</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>FRML &lt;ADD&gt; A = (B + A_A)                                $

FRML &lt;CALC_ADD_FACTOR&gt;  A_A = (A) - (B) $
</pre></div>
</div>
</div>
</div>
</section>
<section id="reverse-calculation-of-add-factors">
<h3><span class="section-number">1.9.3. </span>Reverse Calculation of Add Factors<a class="headerlink" href="#reverse-calculation-of-add-factors" title="Link to this heading">#</a></h3>
<p>A special <code class="docutils literal notranslate"><span class="pre">Frml</span></code> tagged with <strong><code class="docutils literal notranslate"><span class="pre">CALC_ADD_FACTOR</span></code></strong> is automatically generated by <strong>Mexplode</strong>.<br />
This formula is used by the <strong>ModelFlow model instance</strong> to build a specialized <em>calculation model</em> that computes the <strong>add factors</strong> ‚Äî the residual adjustments needed to reconcile actual or fixed values with the model‚Äôs baseline equations.</p>
<p>On its own, this feature is not particularly useful, but when <strong>combined with the <code class="docutils literal notranslate"><span class="pre">exo</span></code> tag</strong>, it becomes powerful.<br />
Together, they allow the model to <strong>retain its marginal (behavioral) properties</strong> even when some variables have <strong>fixed values</strong>.</p>
<p>After the add factors have been computed, the modeller can <strong>reset the corresponding <code class="docutils literal notranslate"><span class="pre">_D</span></code> dummies to 0</strong>, effectively releasing the fixed variables.<br />
The model can then be used for <strong>experiments, policy simulations, or shock analyses</strong>, while the previously calculated add factors ensure internal consistency and preserve the model‚Äôs original fit to observed data.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">Mexplode</span><span class="p">(</span><span class="s1">&#39;&gt;&lt;exo,add&gt; a = b&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">show</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>FRML &lt;EXO,ADD&gt; A = (B + A_A)* (1-A_D)+ A_X*A_D  $

FRML &lt;CALC_ADD_FACTOR&gt;  A_A = (A) - (B) $
</pre></div>
</div>
</div>
</div>
</section>
<section id="naming-of-add-factors">
<h3><span class="section-number">1.9.4. </span>Naming of Add Factors<a class="headerlink" href="#naming-of-add-factors" title="Link to this heading">#</a></h3>
<p>If the modeller prefers a <strong>different naming convention</strong> for add factors, this can be achieved by including the tag <strong><code class="docutils literal notranslate"><span class="pre">add_suffix=</span></code></strong> in the formula specification.<br />
For example:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">Mexplode</span><span class="p">(</span><span class="s1">&#39;&gt;&lt;add,add_suffix=__J&gt; a = b&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">show</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>FRML &lt;ADD,ADD_SUFFIX=__J&gt; A = (B + A__J)                                $

FRML &lt;CALC_ADD_FACTOR&gt;  A__J = (A) - (B) $
</pre></div>
</div>
</div>
</div>
<p>generate add factors named with the suffix <code class="docutils literal notranslate"><span class="pre">_J</span></code> instead of the default <code class="docutils literal notranslate"><span class="pre">_A</span></code>.</p>
</section>
<section id="including-calculated-fitted-values">
<h3><span class="section-number">1.9.5. </span>Including Calculated Fitted Values<a class="headerlink" href="#including-calculated-fitted-values" title="Link to this heading">#</a></h3>
<p>When <strong>add factors</strong> or <strong>fixed values</strong> are used, it may be useful to compute the value implied by the <strong>original fitted formula</strong> ‚Äî that is, the model‚Äôs unadjusted behavioral relationship.<br />
This can be achieved by tagging the formula with <strong><code class="docutils literal notranslate"><span class="pre">FIT</span></code></strong>.</p>
<p>When the <code class="docutils literal notranslate"><span class="pre">FIT</span></code> tag is applied, an additional formula is automatically created.<br />
This formula calculates a new variable with the suffix <strong><code class="docutils literal notranslate"><span class="pre">_FITTED</span></code></strong>, representing the value generated by the <strong>original model equation</strong> (before the inclusion of add factors or fixed values).</p>
<p>This is helpful for comparing the model‚Äôs baseline predictions with adjusted or constrained outcomes, especially in forecasting and diagnostic analysis.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">Mexplode</span><span class="p">(</span><span class="s1">&#39;&gt;&lt;exo,add,fit&gt; a = b&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">show</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>FRML &lt;EXO,ADD,FIT&gt; A = (B + A_A)* (1-A_D)+ A_X*A_D  $
FRML &lt;FIT&gt;  A_FITTED = B $ 
FRML &lt;CALC_ADD_FACTOR&gt;  A_A = (A) - (B) $
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">Mexplode</span><span class="p">(</span><span class="n">lists</span><span class="o">+</span>
<span class="s1">&#39;&gt;doable &lt;sum=total,exo,fit,add&gt;  profit__</span><span class="si">{banks}</span><span class="s1">=revenue__</span><span class="si">{banks}</span><span class="s1">-expenses__</span><span class="si">{banks}</span><span class="s1">&#39;</span>
        <span class="p">)</span><span class="o">.</span><span class="n">show</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>FRML &lt;SUM=TOTAL,EXO,FIT,ADD&gt; PROFIT__DANSKE = (REVENUE__DANSKE-EXPENSES__DANSKE + PROFIT__DANSKE_A)* (1-PROFIT__DANSKE_D)+ PROFIT__DANSKE_X*PROFIT__DANSKE_D  $
FRML &lt;SUM=TOTAL,EXO,FIT,ADD&gt; PROFIT__NORDEA = (REVENUE__NORDEA-EXPENSES__NORDEA + PROFIT__NORDEA_A)* (1-PROFIT__NORDEA_D)+ PROFIT__NORDEA_X*PROFIT__NORDEA_D  $
FRML &lt;SUM=TOTAL,EXO,FIT,ADD&gt; PROFIT__IBS = (REVENUE__IBS-EXPENSES__IBS + PROFIT__IBS_A)* (1-PROFIT__IBS_D)+ PROFIT__IBS_X*PROFIT__IBS_D  $
FRML &lt;SUM=TOTAL,EXO,FIT,ADD&gt; PROFIT__TOTAL = ((PROFIT__DANSKE+PROFIT__NORDEA+PROFIT__IBS) + PROFIT__TOTAL_A)* (1-PROFIT__TOTAL_D)+ PROFIT__TOTAL_X*PROFIT__TOTAL_D  $
FRML &lt;FIT&gt;  PROFIT__DANSKE_FITTED = REVENUE__DANSKE-EXPENSES__DANSKE $ 
FRML &lt;FIT&gt;  PROFIT__NORDEA_FITTED = REVENUE__NORDEA-EXPENSES__NORDEA $ 
FRML &lt;FIT&gt;  PROFIT__IBS_FITTED = REVENUE__IBS-EXPENSES__IBS $ 
FRML &lt;FIT&gt;  PROFIT__TOTAL_FITTED = (PROFIT__DANSKE+PROFIT__NORDEA+PROFIT__IBS) $ 
FRML &lt;CALC_ADD_FACTOR&gt;  PROFIT__DANSKE_A = (PROFIT__DANSKE) - (REVENUE__DANSKE-EXPENSES__DANSKE) $ 
FRML &lt;CALC_ADD_FACTOR&gt;  PROFIT__NORDEA_A = (PROFIT__NORDEA) - (REVENUE__NORDEA-EXPENSES__NORDEA) $ 
FRML &lt;CALC_ADD_FACTOR&gt;  PROFIT__IBS_A = (PROFIT__IBS) - (REVENUE__IBS-EXPENSES__IBS) $ 
FRML &lt;CALC_ADD_FACTOR&gt;  PROFIT__TOTAL_A = (PROFIT__TOTAL) - ((PROFIT__DANSKE+PROFIT__NORDEA+PROFIT__IBS)) $
</pre></div>
</div>
</div>
</div>
</section>
</section>
<section id="using-replacements-or-str-replace-to-simplify-multi-dimensional-formulas">
<h2><span class="section-number">1.10. </span>Using <code class="docutils literal notranslate"><span class="pre">replacements=</span></code> or <code class="docutils literal notranslate"><span class="pre">str.replace()</span></code> to simplify multi-dimensional formulas<a class="headerlink" href="#using-replacements-or-str-replace-to-simplify-multi-dimensional-formulas" title="Link to this heading">#</a></h2>
<p>When a formula includes several dimensions (e.g., <code class="docutils literal notranslate"><span class="pre">banks</span></code>, <code class="docutils literal notranslate"><span class="pre">country</span></code>, <code class="docutils literal notranslate"><span class="pre">ports</span></code>), variable names can become long and repetitive.<br />
To keep model definitions compact and readable, you can define formulas with <strong>placeholders</strong> (such as <code class="docutils literal notranslate"><span class="pre">__dim</span></code>) and then insert the actual dimension names automatically.</p>
<p>There are now <strong>two ways</strong> to do this:</p>
<ol class="arabic simple">
<li><p>Use Python‚Äôs built-in <strong><code class="docutils literal notranslate"><span class="pre">str.replace()</span></code></strong> directly in the formula string.</p></li>
<li><p>Use the <strong><code class="docutils literal notranslate"><span class="pre">replacements=</span></code> argument</strong> in <code class="docutils literal notranslate"><span class="pre">Mexplode</span></code>, which applies the same logic internally`.</p></li>
</ol>
<p>The replacements argument accepts either <strong>a single (pattern, replacement) tuple</strong>
or <strong>a list of such tuples</strong> for multiple substitutions.</p>
<section id="why-this-helps">
<h3><span class="section-number">1.10.1. </span>üí° Why this helps<a class="headerlink" href="#why-this-helps" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p><strong>Cleaner input:</strong> Focus on the formula‚Äôs logic instead of long dimension names.</p></li>
<li><p><strong>Consistency:</strong> Reuse the same placeholder pattern across multiple equations.</p></li>
<li><p><strong>Maintainability:</strong> Change dimensional naming once in the <code class="docutils literal notranslate"><span class="pre">replacements</span></code> list instead of editing all formulas.</p></li>
<li><p><strong>Convenience:</strong> The <code class="docutils literal notranslate"><span class="pre">replacements=</span></code> argument avoids having to call <code class="docutils literal notranslate"><span class="pre">.replace()</span></code> manually.</p></li>
</ul>
</section>
<section id="id2">
<h3><span class="section-number">1.10.2. </span>üßÆ Example<a class="headerlink" href="#id2" title="Link to this heading">#</a></h3>
<p>Below, the same model is defined in two equivalent ways ‚Äî first using <code class="docutils literal notranslate"><span class="pre">.replace()</span></code>, and then using the  <code class="docutils literal notranslate"><span class="pre">replacements=</span></code> argument.</p>
<div class="cell tag_hide-output docutils container">
<div class="cell_input above-output-prompt docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Example 1 ‚Äî Using str.replace() manually</span>
<span class="n">Mexplode</span><span class="p">(</span><span class="n">lists</span> <span class="o">+</span>
    <span class="s1">&#39;&gt;doable &lt;&gt; loss__dim = portefolio__dim * pd__dim * lgd__dim&#39;</span>
        <span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;__dim&#39;</span><span class="p">,</span> <span class="s1">&#39;__</span><span class="si">{banks}</span><span class="s1">__</span><span class="si">{country}</span><span class="s1">__</span><span class="si">{ports}</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="p">)</span><span class="o">.</span><span class="n">show</span>
</pre></div>
</div>
</div>
<details class="hide below-input">
<summary aria-label="Toggle hidden content">
<span class="collapsed">Show code cell output</span>
<span class="expanded">Hide code cell output</span>
</summary>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>FRML &lt;&gt; LOSS__DANSKE__DENMARK__HOUSEHOLDS = PORTEFOLIO__DANSKE__DENMARK__HOUSEHOLDS*PD__DANSKE__DENMARK__HOUSEHOLDS*LGD__DANSKE__DENMARK__HOUSEHOLDS $
FRML &lt;&gt; LOSS__DANSKE__DENMARK__NFC = PORTEFOLIO__DANSKE__DENMARK__NFC*PD__DANSKE__DENMARK__NFC*LGD__DANSKE__DENMARK__NFC $
FRML &lt;&gt; LOSS__DANSKE__DENMARK__RE = PORTEFOLIO__DANSKE__DENMARK__RE*PD__DANSKE__DENMARK__RE*LGD__DANSKE__DENMARK__RE $
FRML &lt;&gt; LOSS__DANSKE__DENMARK__SOV = PORTEFOLIO__DANSKE__DENMARK__SOV*PD__DANSKE__DENMARK__SOV*LGD__DANSKE__DENMARK__SOV $
FRML &lt;&gt; LOSS__DANSKE__SWEDEN__HOUSEHOLDS = PORTEFOLIO__DANSKE__SWEDEN__HOUSEHOLDS*PD__DANSKE__SWEDEN__HOUSEHOLDS*LGD__DANSKE__SWEDEN__HOUSEHOLDS $
FRML &lt;&gt; LOSS__DANSKE__SWEDEN__NFC = PORTEFOLIO__DANSKE__SWEDEN__NFC*PD__DANSKE__SWEDEN__NFC*LGD__DANSKE__SWEDEN__NFC $
FRML &lt;&gt; LOSS__DANSKE__SWEDEN__RE = PORTEFOLIO__DANSKE__SWEDEN__RE*PD__DANSKE__SWEDEN__RE*LGD__DANSKE__SWEDEN__RE $
FRML &lt;&gt; LOSS__DANSKE__SWEDEN__SOV = PORTEFOLIO__DANSKE__SWEDEN__SOV*PD__DANSKE__SWEDEN__SOV*LGD__DANSKE__SWEDEN__SOV $
FRML &lt;&gt; LOSS__NORDEA__DENMARK__HOUSEHOLDS = PORTEFOLIO__NORDEA__DENMARK__HOUSEHOLDS*PD__NORDEA__DENMARK__HOUSEHOLDS*LGD__NORDEA__DENMARK__HOUSEHOLDS $
FRML &lt;&gt; LOSS__NORDEA__DENMARK__NFC = PORTEFOLIO__NORDEA__DENMARK__NFC*PD__NORDEA__DENMARK__NFC*LGD__NORDEA__DENMARK__NFC $
FRML &lt;&gt; LOSS__NORDEA__DENMARK__RE = PORTEFOLIO__NORDEA__DENMARK__RE*PD__NORDEA__DENMARK__RE*LGD__NORDEA__DENMARK__RE $
FRML &lt;&gt; LOSS__NORDEA__DENMARK__SOV = PORTEFOLIO__NORDEA__DENMARK__SOV*PD__NORDEA__DENMARK__SOV*LGD__NORDEA__DENMARK__SOV $
FRML &lt;&gt; LOSS__NORDEA__SWEDEN__HOUSEHOLDS = PORTEFOLIO__NORDEA__SWEDEN__HOUSEHOLDS*PD__NORDEA__SWEDEN__HOUSEHOLDS*LGD__NORDEA__SWEDEN__HOUSEHOLDS $
FRML &lt;&gt; LOSS__NORDEA__SWEDEN__NFC = PORTEFOLIO__NORDEA__SWEDEN__NFC*PD__NORDEA__SWEDEN__NFC*LGD__NORDEA__SWEDEN__NFC $
FRML &lt;&gt; LOSS__NORDEA__SWEDEN__RE = PORTEFOLIO__NORDEA__SWEDEN__RE*PD__NORDEA__SWEDEN__RE*LGD__NORDEA__SWEDEN__RE $
FRML &lt;&gt; LOSS__NORDEA__SWEDEN__SOV = PORTEFOLIO__NORDEA__SWEDEN__SOV*PD__NORDEA__SWEDEN__SOV*LGD__NORDEA__SWEDEN__SOV $
FRML &lt;&gt; LOSS__IBS__DENMARK__HOUSEHOLDS = PORTEFOLIO__IBS__DENMARK__HOUSEHOLDS*PD__IBS__DENMARK__HOUSEHOLDS*LGD__IBS__DENMARK__HOUSEHOLDS $
FRML &lt;&gt; LOSS__IBS__DENMARK__NFC = PORTEFOLIO__IBS__DENMARK__NFC*PD__IBS__DENMARK__NFC*LGD__IBS__DENMARK__NFC $
FRML &lt;&gt; LOSS__IBS__DENMARK__RE = PORTEFOLIO__IBS__DENMARK__RE*PD__IBS__DENMARK__RE*LGD__IBS__DENMARK__RE $
FRML &lt;&gt; LOSS__IBS__DENMARK__SOV = PORTEFOLIO__IBS__DENMARK__SOV*PD__IBS__DENMARK__SOV*LGD__IBS__DENMARK__SOV $
FRML &lt;&gt; LOSS__IBS__SWEDEN__HOUSEHOLDS = PORTEFOLIO__IBS__SWEDEN__HOUSEHOLDS*PD__IBS__SWEDEN__HOUSEHOLDS*LGD__IBS__SWEDEN__HOUSEHOLDS $
FRML &lt;&gt; LOSS__IBS__SWEDEN__NFC = PORTEFOLIO__IBS__SWEDEN__NFC*PD__IBS__SWEDEN__NFC*LGD__IBS__SWEDEN__NFC $
FRML &lt;&gt; LOSS__IBS__SWEDEN__RE = PORTEFOLIO__IBS__SWEDEN__RE*PD__IBS__SWEDEN__RE*LGD__IBS__SWEDEN__RE $
FRML &lt;&gt; LOSS__IBS__SWEDEN__SOV = PORTEFOLIO__IBS__SWEDEN__SOV*PD__IBS__SWEDEN__SOV*LGD__IBS__SWEDEN__SOV $
</pre></div>
</div>
</div>
</details>
</div>
<div class="cell tag_hide-output docutils container">
<div class="cell_input above-output-prompt docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">repl</span><span class="o">=</span><span class="p">(</span><span class="s1">&#39;__dim&#39;</span><span class="p">,</span> <span class="s1">&#39;__</span><span class="si">{banks}</span><span class="s1">__</span><span class="si">{country}</span><span class="s1">__</span><span class="si">{ports}</span><span class="s1">&#39;</span><span class="p">)</span>

<span class="n">Mexplode</span><span class="p">(</span><span class="n">lists</span><span class="o">+</span>
<span class="s1">&#39;&gt;doable &lt;&gt;  loss__dim = portefolio__dim * pd__dim*lgd__dim&#39;</span><span class="p">,</span>        
<span class="n">replacements</span><span class="o">=</span><span class="n">repl</span>      <span class="p">)</span><span class="o">.</span><span class="n">show</span>
</pre></div>
</div>
</div>
<details class="hide below-input">
<summary aria-label="Toggle hidden content">
<span class="collapsed">Show code cell output</span>
<span class="expanded">Hide code cell output</span>
</summary>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>FRML &lt;&gt; LOSS__DANSKE__DENMARK__HOUSEHOLDS = PORTEFOLIO__DANSKE__DENMARK__HOUSEHOLDS*PD__DANSKE__DENMARK__HOUSEHOLDS*LGD__DANSKE__DENMARK__HOUSEHOLDS $
FRML &lt;&gt; LOSS__DANSKE__DENMARK__NFC = PORTEFOLIO__DANSKE__DENMARK__NFC*PD__DANSKE__DENMARK__NFC*LGD__DANSKE__DENMARK__NFC $
FRML &lt;&gt; LOSS__DANSKE__DENMARK__RE = PORTEFOLIO__DANSKE__DENMARK__RE*PD__DANSKE__DENMARK__RE*LGD__DANSKE__DENMARK__RE $
FRML &lt;&gt; LOSS__DANSKE__DENMARK__SOV = PORTEFOLIO__DANSKE__DENMARK__SOV*PD__DANSKE__DENMARK__SOV*LGD__DANSKE__DENMARK__SOV $
FRML &lt;&gt; LOSS__DANSKE__SWEDEN__HOUSEHOLDS = PORTEFOLIO__DANSKE__SWEDEN__HOUSEHOLDS*PD__DANSKE__SWEDEN__HOUSEHOLDS*LGD__DANSKE__SWEDEN__HOUSEHOLDS $
FRML &lt;&gt; LOSS__DANSKE__SWEDEN__NFC = PORTEFOLIO__DANSKE__SWEDEN__NFC*PD__DANSKE__SWEDEN__NFC*LGD__DANSKE__SWEDEN__NFC $
FRML &lt;&gt; LOSS__DANSKE__SWEDEN__RE = PORTEFOLIO__DANSKE__SWEDEN__RE*PD__DANSKE__SWEDEN__RE*LGD__DANSKE__SWEDEN__RE $
FRML &lt;&gt; LOSS__DANSKE__SWEDEN__SOV = PORTEFOLIO__DANSKE__SWEDEN__SOV*PD__DANSKE__SWEDEN__SOV*LGD__DANSKE__SWEDEN__SOV $
FRML &lt;&gt; LOSS__NORDEA__DENMARK__HOUSEHOLDS = PORTEFOLIO__NORDEA__DENMARK__HOUSEHOLDS*PD__NORDEA__DENMARK__HOUSEHOLDS*LGD__NORDEA__DENMARK__HOUSEHOLDS $
FRML &lt;&gt; LOSS__NORDEA__DENMARK__NFC = PORTEFOLIO__NORDEA__DENMARK__NFC*PD__NORDEA__DENMARK__NFC*LGD__NORDEA__DENMARK__NFC $
FRML &lt;&gt; LOSS__NORDEA__DENMARK__RE = PORTEFOLIO__NORDEA__DENMARK__RE*PD__NORDEA__DENMARK__RE*LGD__NORDEA__DENMARK__RE $
FRML &lt;&gt; LOSS__NORDEA__DENMARK__SOV = PORTEFOLIO__NORDEA__DENMARK__SOV*PD__NORDEA__DENMARK__SOV*LGD__NORDEA__DENMARK__SOV $
FRML &lt;&gt; LOSS__NORDEA__SWEDEN__HOUSEHOLDS = PORTEFOLIO__NORDEA__SWEDEN__HOUSEHOLDS*PD__NORDEA__SWEDEN__HOUSEHOLDS*LGD__NORDEA__SWEDEN__HOUSEHOLDS $
FRML &lt;&gt; LOSS__NORDEA__SWEDEN__NFC = PORTEFOLIO__NORDEA__SWEDEN__NFC*PD__NORDEA__SWEDEN__NFC*LGD__NORDEA__SWEDEN__NFC $
FRML &lt;&gt; LOSS__NORDEA__SWEDEN__RE = PORTEFOLIO__NORDEA__SWEDEN__RE*PD__NORDEA__SWEDEN__RE*LGD__NORDEA__SWEDEN__RE $
FRML &lt;&gt; LOSS__NORDEA__SWEDEN__SOV = PORTEFOLIO__NORDEA__SWEDEN__SOV*PD__NORDEA__SWEDEN__SOV*LGD__NORDEA__SWEDEN__SOV $
FRML &lt;&gt; LOSS__IBS__DENMARK__HOUSEHOLDS = PORTEFOLIO__IBS__DENMARK__HOUSEHOLDS*PD__IBS__DENMARK__HOUSEHOLDS*LGD__IBS__DENMARK__HOUSEHOLDS $
FRML &lt;&gt; LOSS__IBS__DENMARK__NFC = PORTEFOLIO__IBS__DENMARK__NFC*PD__IBS__DENMARK__NFC*LGD__IBS__DENMARK__NFC $
FRML &lt;&gt; LOSS__IBS__DENMARK__RE = PORTEFOLIO__IBS__DENMARK__RE*PD__IBS__DENMARK__RE*LGD__IBS__DENMARK__RE $
FRML &lt;&gt; LOSS__IBS__DENMARK__SOV = PORTEFOLIO__IBS__DENMARK__SOV*PD__IBS__DENMARK__SOV*LGD__IBS__DENMARK__SOV $
FRML &lt;&gt; LOSS__IBS__SWEDEN__HOUSEHOLDS = PORTEFOLIO__IBS__SWEDEN__HOUSEHOLDS*PD__IBS__SWEDEN__HOUSEHOLDS*LGD__IBS__SWEDEN__HOUSEHOLDS $
FRML &lt;&gt; LOSS__IBS__SWEDEN__NFC = PORTEFOLIO__IBS__SWEDEN__NFC*PD__IBS__SWEDEN__NFC*LGD__IBS__SWEDEN__NFC $
FRML &lt;&gt; LOSS__IBS__SWEDEN__RE = PORTEFOLIO__IBS__SWEDEN__RE*PD__IBS__SWEDEN__RE*LGD__IBS__SWEDEN__RE $
FRML &lt;&gt; LOSS__IBS__SWEDEN__SOV = PORTEFOLIO__IBS__SWEDEN__SOV*PD__IBS__SWEDEN__SOV*LGD__IBS__SWEDEN__SOV $
</pre></div>
</div>
</div>
</details>
</div>
</section>
</section>
<section id="using-list-defs-to-define-lists-in-mexplode">
<h2><span class="section-number">1.11. </span>Using <code class="docutils literal notranslate"><span class="pre">list_defs=</span></code> to define lists in <code class="docutils literal notranslate"><span class="pre">Mexplode</span></code><a class="headerlink" href="#using-list-defs-to-define-lists-in-mexplode" title="Link to this heading">#</a></h2>
<p>In many cases, it can be convenient to provide <strong>list definitions</strong> as an argument to <code class="docutils literal notranslate"><span class="pre">Mexplode</span></code> rather than embedding them directly into the model specification string.</p>
<p>This approach helps separate the <strong>technical structure</strong> (lists, dimensions, replacements) from the <strong>economic logic</strong> (the actual formulas), making your model files cleaner and easier to read.</p>
<hr class="docutils" />
<section id="when-to-use-list-defs">
<h3><span class="section-number">1.11.1. </span>üí° When to use <code class="docutils literal notranslate"><span class="pre">list_defs=</span></code><a class="headerlink" href="#when-to-use-list-defs" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p>When several submodels share the <strong>same list definitions</strong>.</p></li>
<li><p>When you want to keep the <strong>economic equations visible</strong>.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="how-it-works">
<h3><span class="section-number">1.11.2. </span>‚öôÔ∏è How it works<a class="headerlink" href="#how-it-works" title="Link to this heading">#</a></h3>
<p>You can pass a string containing the list definitions directly to <code class="docutils literal notranslate"><span class="pre">Mexplode</span></code> using the <code class="docutils literal notranslate"><span class="pre">list_defs=</span></code> argument.<br />
<code class="docutils literal notranslate"><span class="pre">Mexplode</span></code> automatically prepends these lists to the model specification before parsing and normalization.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">Mexplode</span><span class="p">(</span><span class="n">lists</span> <span class="o">+</span><span class="s1">&#39;&gt;doable profit__</span><span class="si">{banks}</span><span class="s1"> = revenue_</span><span class="si">{banks}</span><span class="s1"> - expenses_</span><span class="si">{banks}</span><span class="s1">&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">show</span>   
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>FRML &lt;&gt; PROFIT__DANSKE = REVENUE_DANSKE-EXPENSES_DANSKE $
FRML &lt;&gt; PROFIT__NORDEA = REVENUE_NORDEA-EXPENSES_NORDEA $
FRML &lt;&gt; PROFIT__IBS = REVENUE_IBS-EXPENSES_IBS $
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">Mexplode</span><span class="p">(</span><span class="s1">&#39;&gt;doable profit__</span><span class="si">{banks}</span><span class="s1"> = revenue_</span><span class="si">{banks}</span><span class="s1"> - expenses_</span><span class="si">{banks}</span><span class="s1">&#39;</span><span class="p">,</span><span class="n">list_defs</span><span class="o">=</span><span class="n">lists</span><span class="p">)</span><span class="o">.</span><span class="n">show</span>   
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>FRML &lt;&gt; PROFIT__DANSKE = REVENUE_DANSKE-EXPENSES_DANSKE $
FRML &lt;&gt; PROFIT__NORDEA = REVENUE_NORDEA-EXPENSES_NORDEA $
FRML &lt;&gt; PROFIT__IBS = REVENUE_IBS-EXPENSES_IBS $
</pre></div>
</div>
</div>
</div>
</section>
</section>
<section id="using-functools-partial-to-create-simplified-mexplode-constructors">
<h2><span class="section-number">1.12. </span>Using <code class="docutils literal notranslate"><span class="pre">functools.partial</span></code> to create simplified <code class="docutils literal notranslate"><span class="pre">Mexplode</span></code> constructors<a class="headerlink" href="#using-functools-partial-to-create-simplified-mexplode-constructors" title="Link to this heading">#</a></h2>
<p>When building many model components that share the same configuration ‚Äî such as common <code class="docutils literal notranslate"><span class="pre">list_defs</span></code>, <code class="docutils literal notranslate"><span class="pre">replacements</span></code>, or <code class="docutils literal notranslate"><span class="pre">funks</span></code> ‚Äî<br />
you can simplify your workflow by creating a <strong>pre-configured version</strong> of <code class="docutils literal notranslate"><span class="pre">Mexplode</span></code> using <code class="docutils literal notranslate"><span class="pre">functools.partial</span></code>.</p>
<p>This avoids repeating the same arguments for every model block and makes your code cleaner and more consistent.</p>
<hr class="docutils" />
<section id="id3">
<h3><span class="section-number">1.12.1. </span>üí° Why this helps<a class="headerlink" href="#id3" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p><strong>Less repetition:</strong> No need to retype the same <code class="docutils literal notranslate"><span class="pre">list_defs</span></code> or <code class="docutils literal notranslate"><span class="pre">replacements</span></code> each time.</p></li>
<li><p><strong>Consistency:</strong> All model blocks use identical definitions and structural setup.</p></li>
<li><p><strong>Convenience:</strong> The resulting constructor behaves exactly like <code class="docutils literal notranslate"><span class="pre">Mexplode</span></code>, but with defaults already filled in.</p></li>
</ul>
<hr class="docutils" />
<p>Example:</p>
<div class="cell tag_hide-output docutils container">
<div class="cell_input above-output-prompt docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">functools</span><span class="w"> </span><span class="kn">import</span> <span class="n">partial</span>
<span class="n">SMexplode</span> <span class="o">=</span> <span class="n">partial</span><span class="p">(</span><span class="n">Mexplode</span><span class="p">,</span><span class="n">list_defs</span><span class="o">=</span><span class="n">lists</span><span class="p">,</span> <span class="n">replacements</span><span class="o">=</span><span class="p">(</span><span class="s1">&#39;__dim&#39;</span><span class="p">,</span> <span class="s1">&#39;__</span><span class="si">{banks}</span><span class="s1">__</span><span class="si">{country}</span><span class="s1">__</span><span class="si">{ports}</span><span class="s1">&#39;</span><span class="p">))</span>

<span class="n">SMexplode</span><span class="p">(</span><span class="s1">&#39;&gt;doable &lt;&gt;  loss__dim = portefolio__dim * pd__dim*lgd__dim&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">show</span>
</pre></div>
</div>
</div>
<details class="hide below-input">
<summary aria-label="Toggle hidden content">
<span class="collapsed">Show code cell output</span>
<span class="expanded">Hide code cell output</span>
</summary>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>FRML &lt;&gt; LOSS__DANSKE__DENMARK__HOUSEHOLDS = PORTEFOLIO__DANSKE__DENMARK__HOUSEHOLDS*PD__DANSKE__DENMARK__HOUSEHOLDS*LGD__DANSKE__DENMARK__HOUSEHOLDS $
FRML &lt;&gt; LOSS__DANSKE__DENMARK__NFC = PORTEFOLIO__DANSKE__DENMARK__NFC*PD__DANSKE__DENMARK__NFC*LGD__DANSKE__DENMARK__NFC $
FRML &lt;&gt; LOSS__DANSKE__DENMARK__RE = PORTEFOLIO__DANSKE__DENMARK__RE*PD__DANSKE__DENMARK__RE*LGD__DANSKE__DENMARK__RE $
FRML &lt;&gt; LOSS__DANSKE__DENMARK__SOV = PORTEFOLIO__DANSKE__DENMARK__SOV*PD__DANSKE__DENMARK__SOV*LGD__DANSKE__DENMARK__SOV $
FRML &lt;&gt; LOSS__DANSKE__SWEDEN__HOUSEHOLDS = PORTEFOLIO__DANSKE__SWEDEN__HOUSEHOLDS*PD__DANSKE__SWEDEN__HOUSEHOLDS*LGD__DANSKE__SWEDEN__HOUSEHOLDS $
FRML &lt;&gt; LOSS__DANSKE__SWEDEN__NFC = PORTEFOLIO__DANSKE__SWEDEN__NFC*PD__DANSKE__SWEDEN__NFC*LGD__DANSKE__SWEDEN__NFC $
FRML &lt;&gt; LOSS__DANSKE__SWEDEN__RE = PORTEFOLIO__DANSKE__SWEDEN__RE*PD__DANSKE__SWEDEN__RE*LGD__DANSKE__SWEDEN__RE $
FRML &lt;&gt; LOSS__DANSKE__SWEDEN__SOV = PORTEFOLIO__DANSKE__SWEDEN__SOV*PD__DANSKE__SWEDEN__SOV*LGD__DANSKE__SWEDEN__SOV $
FRML &lt;&gt; LOSS__NORDEA__DENMARK__HOUSEHOLDS = PORTEFOLIO__NORDEA__DENMARK__HOUSEHOLDS*PD__NORDEA__DENMARK__HOUSEHOLDS*LGD__NORDEA__DENMARK__HOUSEHOLDS $
FRML &lt;&gt; LOSS__NORDEA__DENMARK__NFC = PORTEFOLIO__NORDEA__DENMARK__NFC*PD__NORDEA__DENMARK__NFC*LGD__NORDEA__DENMARK__NFC $
FRML &lt;&gt; LOSS__NORDEA__DENMARK__RE = PORTEFOLIO__NORDEA__DENMARK__RE*PD__NORDEA__DENMARK__RE*LGD__NORDEA__DENMARK__RE $
FRML &lt;&gt; LOSS__NORDEA__DENMARK__SOV = PORTEFOLIO__NORDEA__DENMARK__SOV*PD__NORDEA__DENMARK__SOV*LGD__NORDEA__DENMARK__SOV $
FRML &lt;&gt; LOSS__NORDEA__SWEDEN__HOUSEHOLDS = PORTEFOLIO__NORDEA__SWEDEN__HOUSEHOLDS*PD__NORDEA__SWEDEN__HOUSEHOLDS*LGD__NORDEA__SWEDEN__HOUSEHOLDS $
FRML &lt;&gt; LOSS__NORDEA__SWEDEN__NFC = PORTEFOLIO__NORDEA__SWEDEN__NFC*PD__NORDEA__SWEDEN__NFC*LGD__NORDEA__SWEDEN__NFC $
FRML &lt;&gt; LOSS__NORDEA__SWEDEN__RE = PORTEFOLIO__NORDEA__SWEDEN__RE*PD__NORDEA__SWEDEN__RE*LGD__NORDEA__SWEDEN__RE $
FRML &lt;&gt; LOSS__NORDEA__SWEDEN__SOV = PORTEFOLIO__NORDEA__SWEDEN__SOV*PD__NORDEA__SWEDEN__SOV*LGD__NORDEA__SWEDEN__SOV $
FRML &lt;&gt; LOSS__IBS__DENMARK__HOUSEHOLDS = PORTEFOLIO__IBS__DENMARK__HOUSEHOLDS*PD__IBS__DENMARK__HOUSEHOLDS*LGD__IBS__DENMARK__HOUSEHOLDS $
FRML &lt;&gt; LOSS__IBS__DENMARK__NFC = PORTEFOLIO__IBS__DENMARK__NFC*PD__IBS__DENMARK__NFC*LGD__IBS__DENMARK__NFC $
FRML &lt;&gt; LOSS__IBS__DENMARK__RE = PORTEFOLIO__IBS__DENMARK__RE*PD__IBS__DENMARK__RE*LGD__IBS__DENMARK__RE $
FRML &lt;&gt; LOSS__IBS__DENMARK__SOV = PORTEFOLIO__IBS__DENMARK__SOV*PD__IBS__DENMARK__SOV*LGD__IBS__DENMARK__SOV $
FRML &lt;&gt; LOSS__IBS__SWEDEN__HOUSEHOLDS = PORTEFOLIO__IBS__SWEDEN__HOUSEHOLDS*PD__IBS__SWEDEN__HOUSEHOLDS*LGD__IBS__SWEDEN__HOUSEHOLDS $
FRML &lt;&gt; LOSS__IBS__SWEDEN__NFC = PORTEFOLIO__IBS__SWEDEN__NFC*PD__IBS__SWEDEN__NFC*LGD__IBS__SWEDEN__NFC $
FRML &lt;&gt; LOSS__IBS__SWEDEN__RE = PORTEFOLIO__IBS__SWEDEN__RE*PD__IBS__SWEDEN__RE*LGD__IBS__SWEDEN__RE $
FRML &lt;&gt; LOSS__IBS__SWEDEN__SOV = PORTEFOLIO__IBS__SWEDEN__SOV*PD__IBS__SWEDEN__SOV*LGD__IBS__SWEDEN__SOV $
</pre></div>
</div>
</div>
</details>
</div>
</section>
</section>
<section id="building-modular-models-by-combining-smaller-formula-groups">
<h2><span class="section-number">1.13. </span>Building modular models by combining smaller formula groups<a class="headerlink" href="#building-modular-models-by-combining-smaller-formula-groups" title="Link to this heading">#</a></h2>
<p>Complex models often consist of multiple logical components ‚Äî such as behavioral equations, accounting identities, or sector-specific submodels.<br />
Instead of defining one large block of equations in a single string, it‚Äôs often more efficient to <strong>specify smaller groups of formulas</strong> and then combine them into a complete model using the <code class="docutils literal notranslate"><span class="pre">+</span></code> operator.</p>
<hr class="docutils" />
<section id="why-this-approach-is-beneficial">
<h3><span class="section-number">1.13.1. </span>üí° Why this approach is beneficial<a class="headerlink" href="#why-this-approach-is-beneficial" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p><strong>Modularity:</strong> Each <code class="docutils literal notranslate"><span class="pre">Mexplode</span></code> object can represent a distinct part of the model ‚Äî for example, a banking block, a household sector, or a price system.</p></li>
<li><p><strong>Clarity:</strong> Smaller, self-contained equation groups are easier to read, debug, and test independently.</p></li>
<li><p><strong>Reusability:</strong> You can reuse model fragments across projects or scenarios by simply combining them differently.</p></li>
<li><p><strong>Incremental development:</strong> Start with a minimal subset of formulas, verify behavior, and then expand the model progressively.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="id4">
<h3><span class="section-number">1.13.2. </span>‚öôÔ∏è How it works<a class="headerlink" href="#id4" title="Link to this heading">#</a></h3>
<p>The <code class="docutils literal notranslate"><span class="pre">+</span></code> operator merges multiple <code class="docutils literal notranslate"><span class="pre">Mexplode</span></code> objects into a single <code class="docutils literal notranslate"><span class="pre">Lexplode</span></code> container, which behaves like a unified model.<br />
This aggregation does not recompute anything ‚Äî it simply combines their normalized forms, making it fast and memory-efficient.</p>
<p>Below, we define two small model blocks:</p>
<p>Each block is defined as an independent <code class="docutils literal notranslate"><span class="pre">Mexplode</span></code>, and then we combine them using <code class="docutils literal notranslate"><span class="pre">+</span></code>.<br />
This creates a single integrated model (<code class="docutils literal notranslate"><span class="pre">Lexplode</span></code>) that can be displayed or solved as one unit.</p>
<p>In larger models, it‚Äôs good practice to define separate logical components (blocks) for different economic or financial relationships.<br />
Here, we define three related parts of a simple very stylized credit risk model:</p>
<ol class="arabic simple">
<li><p><strong>PD update block</strong> ‚Äì describes how each bank‚Äôs probability of default (<code class="docutils literal notranslate"><span class="pre">PD</span></code>) evolves.</p></li>
<li><p><strong>Expected Loss block</strong> ‚Äì calculates expected losses as a function of exposure, PD, and loss given default (<code class="docutils literal notranslate"><span class="pre">LGD</span></code>).</p></li>
<li><p><strong>Bank Expected Loss block</strong> ‚Äì calculates expected losses for each bank.</p></li>
</ol>
<p>Each block is created as an independent <code class="docutils literal notranslate"><span class="pre">Mexplode</span></code> object.<br />
We then combine them with the <code class="docutils literal notranslate"><span class="pre">+</span></code> operator to form a complete integrated model (<code class="docutils literal notranslate"><span class="pre">Lexplode</span></code>), which can be solved or analyzed as one structure.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># --- Define three small, modular formula groups ---</span>
<span class="c1"># first define the replacements </span>
<span class="n">repl</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;__dim&#39;</span><span class="p">,</span> <span class="s1">&#39;__</span><span class="si">{banks}</span><span class="s1">__</span><span class="si">{country}</span><span class="s1">__</span><span class="si">{ports}</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="c1"># --- Block 1: PD update equations ---</span>
<span class="n">pd_update_block</span> <span class="o">=</span> <span class="n">Mexplode</span><span class="p">(</span><span class="n">lists</span><span class="o">+</span>
<span class="s1">&#39;&gt;doable &lt;&gt; pd__dim = 0.02 + 0.8 * pd__dim(-1) + 0.1 * gdp_growth__</span><span class="si">{country}</span><span class="s1">&#39;</span><span class="p">,</span><span class="n">replacements</span><span class="o">=</span><span class="n">repl</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># --- Block 2: Expected loss calculation ---</span>
<span class="n">expected_loss_block</span> <span class="o">=</span> <span class="n">Mexplode</span><span class="p">(</span><span class="n">lists</span> <span class="o">+</span> 
<span class="s1">&#39;&gt;doable &lt;&gt; el__dim = exposure__dim * pd__dim * lgd__dim&#39;</span><span class="p">,</span><span class="n">replacements</span><span class="o">=</span><span class="n">repl</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># --- Block 3: Expected loss calculation per bank ---</span>
<span class="n">bank_block</span> <span class="o">=</span> <span class="n">Mexplode</span><span class="p">(</span><span class="n">lists</span> <span class="o">+</span>    
<span class="w">    </span><span class="sd">&#39;&#39;&#39;</span>
<span class="sd">&gt;    do banks</span>
<span class="sd">&gt;      Expected_loss_{banks} = sum(country, sum(ports, el__dim))</span>
<span class="sd">&gt;    enddo   </span>
<span class="sd">    &#39;&#39;&#39;</span>
    <span class="p">,</span><span class="n">replacements</span><span class="o">=</span><span class="n">repl</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell tag_hide-output docutils container">
<div class="cell_input above-output-prompt docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># --- Combine all blocks into one model ---</span>
<span class="n">credit_risk_model</span> <span class="o">=</span> <span class="nb">sum</span><span class="p">([</span><span class="n">pd_update_block</span> <span class="o">+</span> <span class="n">expected_loss_block</span> <span class="o">+</span> <span class="n">bank_block</span><span class="p">])</span>
<span class="n">credit_risk_model</span><span class="o">.</span><span class="n">show</span>
</pre></div>
</div>
</div>
<details class="hide below-input">
<summary aria-label="Toggle hidden content">
<span class="collapsed">Show code cell output</span>
<span class="expanded">Hide code cell output</span>
</summary>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>FRML &lt;&gt; PD__DANSKE__DENMARK__HOUSEHOLDS = 0.02+0.8*PD__DANSKE__DENMARK__HOUSEHOLDS(-1)+0.1*GDP_GROWTH__DENMARK $
FRML &lt;&gt; PD__DANSKE__DENMARK__NFC = 0.02+0.8*PD__DANSKE__DENMARK__NFC(-1)+0.1*GDP_GROWTH__DENMARK $
FRML &lt;&gt; PD__DANSKE__DENMARK__RE = 0.02+0.8*PD__DANSKE__DENMARK__RE(-1)+0.1*GDP_GROWTH__DENMARK $
FRML &lt;&gt; PD__DANSKE__DENMARK__SOV = 0.02+0.8*PD__DANSKE__DENMARK__SOV(-1)+0.1*GDP_GROWTH__DENMARK $
FRML &lt;&gt; PD__DANSKE__SWEDEN__HOUSEHOLDS = 0.02+0.8*PD__DANSKE__SWEDEN__HOUSEHOLDS(-1)+0.1*GDP_GROWTH__SWEDEN $
FRML &lt;&gt; PD__DANSKE__SWEDEN__NFC = 0.02+0.8*PD__DANSKE__SWEDEN__NFC(-1)+0.1*GDP_GROWTH__SWEDEN $
FRML &lt;&gt; PD__DANSKE__SWEDEN__RE = 0.02+0.8*PD__DANSKE__SWEDEN__RE(-1)+0.1*GDP_GROWTH__SWEDEN $
FRML &lt;&gt; PD__DANSKE__SWEDEN__SOV = 0.02+0.8*PD__DANSKE__SWEDEN__SOV(-1)+0.1*GDP_GROWTH__SWEDEN $
FRML &lt;&gt; PD__NORDEA__DENMARK__HOUSEHOLDS = 0.02+0.8*PD__NORDEA__DENMARK__HOUSEHOLDS(-1)+0.1*GDP_GROWTH__DENMARK $
FRML &lt;&gt; PD__NORDEA__DENMARK__NFC = 0.02+0.8*PD__NORDEA__DENMARK__NFC(-1)+0.1*GDP_GROWTH__DENMARK $
FRML &lt;&gt; PD__NORDEA__DENMARK__RE = 0.02+0.8*PD__NORDEA__DENMARK__RE(-1)+0.1*GDP_GROWTH__DENMARK $
FRML &lt;&gt; PD__NORDEA__DENMARK__SOV = 0.02+0.8*PD__NORDEA__DENMARK__SOV(-1)+0.1*GDP_GROWTH__DENMARK $
FRML &lt;&gt; PD__NORDEA__SWEDEN__HOUSEHOLDS = 0.02+0.8*PD__NORDEA__SWEDEN__HOUSEHOLDS(-1)+0.1*GDP_GROWTH__SWEDEN $
FRML &lt;&gt; PD__NORDEA__SWEDEN__NFC = 0.02+0.8*PD__NORDEA__SWEDEN__NFC(-1)+0.1*GDP_GROWTH__SWEDEN $
FRML &lt;&gt; PD__NORDEA__SWEDEN__RE = 0.02+0.8*PD__NORDEA__SWEDEN__RE(-1)+0.1*GDP_GROWTH__SWEDEN $
FRML &lt;&gt; PD__NORDEA__SWEDEN__SOV = 0.02+0.8*PD__NORDEA__SWEDEN__SOV(-1)+0.1*GDP_GROWTH__SWEDEN $
FRML &lt;&gt; PD__IBS__DENMARK__HOUSEHOLDS = 0.02+0.8*PD__IBS__DENMARK__HOUSEHOLDS(-1)+0.1*GDP_GROWTH__DENMARK $
FRML &lt;&gt; PD__IBS__DENMARK__NFC = 0.02+0.8*PD__IBS__DENMARK__NFC(-1)+0.1*GDP_GROWTH__DENMARK $
FRML &lt;&gt; PD__IBS__DENMARK__RE = 0.02+0.8*PD__IBS__DENMARK__RE(-1)+0.1*GDP_GROWTH__DENMARK $
FRML &lt;&gt; PD__IBS__DENMARK__SOV = 0.02+0.8*PD__IBS__DENMARK__SOV(-1)+0.1*GDP_GROWTH__DENMARK $
FRML &lt;&gt; PD__IBS__SWEDEN__HOUSEHOLDS = 0.02+0.8*PD__IBS__SWEDEN__HOUSEHOLDS(-1)+0.1*GDP_GROWTH__SWEDEN $
FRML &lt;&gt; PD__IBS__SWEDEN__NFC = 0.02+0.8*PD__IBS__SWEDEN__NFC(-1)+0.1*GDP_GROWTH__SWEDEN $
FRML &lt;&gt; PD__IBS__SWEDEN__RE = 0.02+0.8*PD__IBS__SWEDEN__RE(-1)+0.1*GDP_GROWTH__SWEDEN $
FRML &lt;&gt; PD__IBS__SWEDEN__SOV = 0.02+0.8*PD__IBS__SWEDEN__SOV(-1)+0.1*GDP_GROWTH__SWEDEN $
FRML &lt;&gt; EL__DANSKE__DENMARK__HOUSEHOLDS = EXPOSURE__DANSKE__DENMARK__HOUSEHOLDS*PD__DANSKE__DENMARK__HOUSEHOLDS*LGD__DANSKE__DENMARK__HOUSEHOLDS $
FRML &lt;&gt; EL__DANSKE__DENMARK__NFC = EXPOSURE__DANSKE__DENMARK__NFC*PD__DANSKE__DENMARK__NFC*LGD__DANSKE__DENMARK__NFC $
FRML &lt;&gt; EL__DANSKE__DENMARK__RE = EXPOSURE__DANSKE__DENMARK__RE*PD__DANSKE__DENMARK__RE*LGD__DANSKE__DENMARK__RE $
FRML &lt;&gt; EL__DANSKE__DENMARK__SOV = EXPOSURE__DANSKE__DENMARK__SOV*PD__DANSKE__DENMARK__SOV*LGD__DANSKE__DENMARK__SOV $
FRML &lt;&gt; EL__DANSKE__SWEDEN__HOUSEHOLDS = EXPOSURE__DANSKE__SWEDEN__HOUSEHOLDS*PD__DANSKE__SWEDEN__HOUSEHOLDS*LGD__DANSKE__SWEDEN__HOUSEHOLDS $
FRML &lt;&gt; EL__DANSKE__SWEDEN__NFC = EXPOSURE__DANSKE__SWEDEN__NFC*PD__DANSKE__SWEDEN__NFC*LGD__DANSKE__SWEDEN__NFC $
FRML &lt;&gt; EL__DANSKE__SWEDEN__RE = EXPOSURE__DANSKE__SWEDEN__RE*PD__DANSKE__SWEDEN__RE*LGD__DANSKE__SWEDEN__RE $
FRML &lt;&gt; EL__DANSKE__SWEDEN__SOV = EXPOSURE__DANSKE__SWEDEN__SOV*PD__DANSKE__SWEDEN__SOV*LGD__DANSKE__SWEDEN__SOV $
FRML &lt;&gt; EL__NORDEA__DENMARK__HOUSEHOLDS = EXPOSURE__NORDEA__DENMARK__HOUSEHOLDS*PD__NORDEA__DENMARK__HOUSEHOLDS*LGD__NORDEA__DENMARK__HOUSEHOLDS $
FRML &lt;&gt; EL__NORDEA__DENMARK__NFC = EXPOSURE__NORDEA__DENMARK__NFC*PD__NORDEA__DENMARK__NFC*LGD__NORDEA__DENMARK__NFC $
FRML &lt;&gt; EL__NORDEA__DENMARK__RE = EXPOSURE__NORDEA__DENMARK__RE*PD__NORDEA__DENMARK__RE*LGD__NORDEA__DENMARK__RE $
FRML &lt;&gt; EL__NORDEA__DENMARK__SOV = EXPOSURE__NORDEA__DENMARK__SOV*PD__NORDEA__DENMARK__SOV*LGD__NORDEA__DENMARK__SOV $
FRML &lt;&gt; EL__NORDEA__SWEDEN__HOUSEHOLDS = EXPOSURE__NORDEA__SWEDEN__HOUSEHOLDS*PD__NORDEA__SWEDEN__HOUSEHOLDS*LGD__NORDEA__SWEDEN__HOUSEHOLDS $
FRML &lt;&gt; EL__NORDEA__SWEDEN__NFC = EXPOSURE__NORDEA__SWEDEN__NFC*PD__NORDEA__SWEDEN__NFC*LGD__NORDEA__SWEDEN__NFC $
FRML &lt;&gt; EL__NORDEA__SWEDEN__RE = EXPOSURE__NORDEA__SWEDEN__RE*PD__NORDEA__SWEDEN__RE*LGD__NORDEA__SWEDEN__RE $
FRML &lt;&gt; EL__NORDEA__SWEDEN__SOV = EXPOSURE__NORDEA__SWEDEN__SOV*PD__NORDEA__SWEDEN__SOV*LGD__NORDEA__SWEDEN__SOV $
FRML &lt;&gt; EL__IBS__DENMARK__HOUSEHOLDS = EXPOSURE__IBS__DENMARK__HOUSEHOLDS*PD__IBS__DENMARK__HOUSEHOLDS*LGD__IBS__DENMARK__HOUSEHOLDS $
FRML &lt;&gt; EL__IBS__DENMARK__NFC = EXPOSURE__IBS__DENMARK__NFC*PD__IBS__DENMARK__NFC*LGD__IBS__DENMARK__NFC $
FRML &lt;&gt; EL__IBS__DENMARK__RE = EXPOSURE__IBS__DENMARK__RE*PD__IBS__DENMARK__RE*LGD__IBS__DENMARK__RE $
FRML &lt;&gt; EL__IBS__DENMARK__SOV = EXPOSURE__IBS__DENMARK__SOV*PD__IBS__DENMARK__SOV*LGD__IBS__DENMARK__SOV $
FRML &lt;&gt; EL__IBS__SWEDEN__HOUSEHOLDS = EXPOSURE__IBS__SWEDEN__HOUSEHOLDS*PD__IBS__SWEDEN__HOUSEHOLDS*LGD__IBS__SWEDEN__HOUSEHOLDS $
FRML &lt;&gt; EL__IBS__SWEDEN__NFC = EXPOSURE__IBS__SWEDEN__NFC*PD__IBS__SWEDEN__NFC*LGD__IBS__SWEDEN__NFC $
FRML &lt;&gt; EL__IBS__SWEDEN__RE = EXPOSURE__IBS__SWEDEN__RE*PD__IBS__SWEDEN__RE*LGD__IBS__SWEDEN__RE $
FRML &lt;&gt; EL__IBS__SWEDEN__SOV = EXPOSURE__IBS__SWEDEN__SOV*PD__IBS__SWEDEN__SOV*LGD__IBS__SWEDEN__SOV $
FRML &lt;&gt; EXPECTED_LOSS_DANSKE = ((EL__DANSKE__DENMARK__HOUSEHOLDS+EL__DANSKE__DENMARK__NFC+EL__DANSKE__DENMARK__RE+EL__DANSKE__DENMARK__SOV)+(EL__DANSKE__SWEDEN__HOUSEHOLDS+EL__DANSKE__SWEDEN__NFC+EL__DANSKE__SWEDEN__RE+EL__DANSKE__SWEDEN__SOV)) $
FRML &lt;&gt; EXPECTED_LOSS_NORDEA = ((EL__NORDEA__DENMARK__HOUSEHOLDS+EL__NORDEA__DENMARK__NFC+EL__NORDEA__DENMARK__RE+EL__NORDEA__DENMARK__SOV)+(EL__NORDEA__SWEDEN__HOUSEHOLDS+EL__NORDEA__SWEDEN__NFC+EL__NORDEA__SWEDEN__RE+EL__NORDEA__SWEDEN__SOV)) $
FRML &lt;&gt; EXPECTED_LOSS_IBS = ((EL__IBS__DENMARK__HOUSEHOLDS+EL__IBS__DENMARK__NFC+EL__IBS__DENMARK__RE+EL__IBS__DENMARK__SOV)+(EL__IBS__SWEDEN__HOUSEHOLDS+EL__IBS__SWEDEN__NFC+EL__IBS__SWEDEN__RE+EL__IBS__SWEDEN__SOV)) $
</pre></div>
</div>
</div>
</details>
</div>
<p>Of course we could also just make the model in one Mexplode or even simpler a SMexplode that was defined above.</p>
<div class="cell tag_hide-output docutils container">
<div class="cell_input above-output-prompt docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">total_credit_risk_model</span> <span class="o">=</span> <span class="n">SMexplode</span><span class="p">(</span><span class="s1">&#39;&#39;&#39;</span>
<span class="s1">&gt;doable &lt;&gt; pd__dim = 0.02 + 0.8 * pd__dim(-1) + 0.1 * gdp_growth__</span><span class="si">{country}</span>
<span class="s1">&gt;doable &lt;&gt; el__dim = exposure__dim * pd__dim * lgd__dim&#39;,replacements=repl)</span>
<span class="s1">&gt;do banks</span>
<span class="s1">&gt;   Expected_loss_</span><span class="si">{banks}</span><span class="s1"> = sum(country, sum(ports, el__dim))</span>
<span class="s1">&gt;enddo &#39;&#39;&#39;</span><span class="p">)</span>
<span class="n">total_credit_risk_model</span><span class="o">.</span><span class="n">show</span>
</pre></div>
</div>
</div>
<details class="hide below-input">
<summary aria-label="Toggle hidden content">
<span class="collapsed">Show code cell output</span>
<span class="expanded">Hide code cell output</span>
</summary>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>FRML &lt;&gt; PD__DANSKE__DENMARK__HOUSEHOLDS = 0.02+0.8*PD__DANSKE__DENMARK__HOUSEHOLDS(-1)+0.1*GDP_GROWTH__DENMARK $
FRML &lt;&gt; PD__DANSKE__DENMARK__NFC = 0.02+0.8*PD__DANSKE__DENMARK__NFC(-1)+0.1*GDP_GROWTH__DENMARK $
FRML &lt;&gt; PD__DANSKE__DENMARK__RE = 0.02+0.8*PD__DANSKE__DENMARK__RE(-1)+0.1*GDP_GROWTH__DENMARK $
FRML &lt;&gt; PD__DANSKE__DENMARK__SOV = 0.02+0.8*PD__DANSKE__DENMARK__SOV(-1)+0.1*GDP_GROWTH__DENMARK $
FRML &lt;&gt; PD__DANSKE__SWEDEN__HOUSEHOLDS = 0.02+0.8*PD__DANSKE__SWEDEN__HOUSEHOLDS(-1)+0.1*GDP_GROWTH__SWEDEN $
FRML &lt;&gt; PD__DANSKE__SWEDEN__NFC = 0.02+0.8*PD__DANSKE__SWEDEN__NFC(-1)+0.1*GDP_GROWTH__SWEDEN $
FRML &lt;&gt; PD__DANSKE__SWEDEN__RE = 0.02+0.8*PD__DANSKE__SWEDEN__RE(-1)+0.1*GDP_GROWTH__SWEDEN $
FRML &lt;&gt; PD__DANSKE__SWEDEN__SOV = 0.02+0.8*PD__DANSKE__SWEDEN__SOV(-1)+0.1*GDP_GROWTH__SWEDEN $
FRML &lt;&gt; PD__NORDEA__DENMARK__HOUSEHOLDS = 0.02+0.8*PD__NORDEA__DENMARK__HOUSEHOLDS(-1)+0.1*GDP_GROWTH__DENMARK $
FRML &lt;&gt; PD__NORDEA__DENMARK__NFC = 0.02+0.8*PD__NORDEA__DENMARK__NFC(-1)+0.1*GDP_GROWTH__DENMARK $
FRML &lt;&gt; PD__NORDEA__DENMARK__RE = 0.02+0.8*PD__NORDEA__DENMARK__RE(-1)+0.1*GDP_GROWTH__DENMARK $
FRML &lt;&gt; PD__NORDEA__DENMARK__SOV = 0.02+0.8*PD__NORDEA__DENMARK__SOV(-1)+0.1*GDP_GROWTH__DENMARK $
FRML &lt;&gt; PD__NORDEA__SWEDEN__HOUSEHOLDS = 0.02+0.8*PD__NORDEA__SWEDEN__HOUSEHOLDS(-1)+0.1*GDP_GROWTH__SWEDEN $
FRML &lt;&gt; PD__NORDEA__SWEDEN__NFC = 0.02+0.8*PD__NORDEA__SWEDEN__NFC(-1)+0.1*GDP_GROWTH__SWEDEN $
FRML &lt;&gt; PD__NORDEA__SWEDEN__RE = 0.02+0.8*PD__NORDEA__SWEDEN__RE(-1)+0.1*GDP_GROWTH__SWEDEN $
FRML &lt;&gt; PD__NORDEA__SWEDEN__SOV = 0.02+0.8*PD__NORDEA__SWEDEN__SOV(-1)+0.1*GDP_GROWTH__SWEDEN $
FRML &lt;&gt; PD__IBS__DENMARK__HOUSEHOLDS = 0.02+0.8*PD__IBS__DENMARK__HOUSEHOLDS(-1)+0.1*GDP_GROWTH__DENMARK $
FRML &lt;&gt; PD__IBS__DENMARK__NFC = 0.02+0.8*PD__IBS__DENMARK__NFC(-1)+0.1*GDP_GROWTH__DENMARK $
FRML &lt;&gt; PD__IBS__DENMARK__RE = 0.02+0.8*PD__IBS__DENMARK__RE(-1)+0.1*GDP_GROWTH__DENMARK $
FRML &lt;&gt; PD__IBS__DENMARK__SOV = 0.02+0.8*PD__IBS__DENMARK__SOV(-1)+0.1*GDP_GROWTH__DENMARK $
FRML &lt;&gt; PD__IBS__SWEDEN__HOUSEHOLDS = 0.02+0.8*PD__IBS__SWEDEN__HOUSEHOLDS(-1)+0.1*GDP_GROWTH__SWEDEN $
FRML &lt;&gt; PD__IBS__SWEDEN__NFC = 0.02+0.8*PD__IBS__SWEDEN__NFC(-1)+0.1*GDP_GROWTH__SWEDEN $
FRML &lt;&gt; PD__IBS__SWEDEN__RE = 0.02+0.8*PD__IBS__SWEDEN__RE(-1)+0.1*GDP_GROWTH__SWEDEN $
FRML &lt;&gt; PD__IBS__SWEDEN__SOV = 0.02+0.8*PD__IBS__SWEDEN__SOV(-1)+0.1*GDP_GROWTH__SWEDEN $
FRML &lt;&gt; EL__DANSKE__DENMARK__HOUSEHOLDS = EXPOSURE__DANSKE__DENMARK__HOUSEHOLDS*PD__DANSKE__DENMARK__HOUSEHOLDS*LGD__DANSKE__DENMARK__HOUSEHOLDS&#39;,REPLACEMENTS=REPL) $
FRML &lt;&gt; EL__DANSKE__DENMARK__NFC = EXPOSURE__DANSKE__DENMARK__NFC*PD__DANSKE__DENMARK__NFC*LGD__DANSKE__DENMARK__NFC&#39;,REPLACEMENTS=REPL) $
FRML &lt;&gt; EL__DANSKE__DENMARK__RE = EXPOSURE__DANSKE__DENMARK__RE*PD__DANSKE__DENMARK__RE*LGD__DANSKE__DENMARK__RE&#39;,REPLACEMENTS=REPL) $
FRML &lt;&gt; EL__DANSKE__DENMARK__SOV = EXPOSURE__DANSKE__DENMARK__SOV*PD__DANSKE__DENMARK__SOV*LGD__DANSKE__DENMARK__SOV&#39;,REPLACEMENTS=REPL) $
FRML &lt;&gt; EL__DANSKE__SWEDEN__HOUSEHOLDS = EXPOSURE__DANSKE__SWEDEN__HOUSEHOLDS*PD__DANSKE__SWEDEN__HOUSEHOLDS*LGD__DANSKE__SWEDEN__HOUSEHOLDS&#39;,REPLACEMENTS=REPL) $
FRML &lt;&gt; EL__DANSKE__SWEDEN__NFC = EXPOSURE__DANSKE__SWEDEN__NFC*PD__DANSKE__SWEDEN__NFC*LGD__DANSKE__SWEDEN__NFC&#39;,REPLACEMENTS=REPL) $
FRML &lt;&gt; EL__DANSKE__SWEDEN__RE = EXPOSURE__DANSKE__SWEDEN__RE*PD__DANSKE__SWEDEN__RE*LGD__DANSKE__SWEDEN__RE&#39;,REPLACEMENTS=REPL) $
FRML &lt;&gt; EL__DANSKE__SWEDEN__SOV = EXPOSURE__DANSKE__SWEDEN__SOV*PD__DANSKE__SWEDEN__SOV*LGD__DANSKE__SWEDEN__SOV&#39;,REPLACEMENTS=REPL) $
FRML &lt;&gt; EL__NORDEA__DENMARK__HOUSEHOLDS = EXPOSURE__NORDEA__DENMARK__HOUSEHOLDS*PD__NORDEA__DENMARK__HOUSEHOLDS*LGD__NORDEA__DENMARK__HOUSEHOLDS&#39;,REPLACEMENTS=REPL) $
FRML &lt;&gt; EL__NORDEA__DENMARK__NFC = EXPOSURE__NORDEA__DENMARK__NFC*PD__NORDEA__DENMARK__NFC*LGD__NORDEA__DENMARK__NFC&#39;,REPLACEMENTS=REPL) $
FRML &lt;&gt; EL__NORDEA__DENMARK__RE = EXPOSURE__NORDEA__DENMARK__RE*PD__NORDEA__DENMARK__RE*LGD__NORDEA__DENMARK__RE&#39;,REPLACEMENTS=REPL) $
FRML &lt;&gt; EL__NORDEA__DENMARK__SOV = EXPOSURE__NORDEA__DENMARK__SOV*PD__NORDEA__DENMARK__SOV*LGD__NORDEA__DENMARK__SOV&#39;,REPLACEMENTS=REPL) $
FRML &lt;&gt; EL__NORDEA__SWEDEN__HOUSEHOLDS = EXPOSURE__NORDEA__SWEDEN__HOUSEHOLDS*PD__NORDEA__SWEDEN__HOUSEHOLDS*LGD__NORDEA__SWEDEN__HOUSEHOLDS&#39;,REPLACEMENTS=REPL) $
FRML &lt;&gt; EL__NORDEA__SWEDEN__NFC = EXPOSURE__NORDEA__SWEDEN__NFC*PD__NORDEA__SWEDEN__NFC*LGD__NORDEA__SWEDEN__NFC&#39;,REPLACEMENTS=REPL) $
FRML &lt;&gt; EL__NORDEA__SWEDEN__RE = EXPOSURE__NORDEA__SWEDEN__RE*PD__NORDEA__SWEDEN__RE*LGD__NORDEA__SWEDEN__RE&#39;,REPLACEMENTS=REPL) $
FRML &lt;&gt; EL__NORDEA__SWEDEN__SOV = EXPOSURE__NORDEA__SWEDEN__SOV*PD__NORDEA__SWEDEN__SOV*LGD__NORDEA__SWEDEN__SOV&#39;,REPLACEMENTS=REPL) $
FRML &lt;&gt; EL__IBS__DENMARK__HOUSEHOLDS = EXPOSURE__IBS__DENMARK__HOUSEHOLDS*PD__IBS__DENMARK__HOUSEHOLDS*LGD__IBS__DENMARK__HOUSEHOLDS&#39;,REPLACEMENTS=REPL) $
FRML &lt;&gt; EL__IBS__DENMARK__NFC = EXPOSURE__IBS__DENMARK__NFC*PD__IBS__DENMARK__NFC*LGD__IBS__DENMARK__NFC&#39;,REPLACEMENTS=REPL) $
FRML &lt;&gt; EL__IBS__DENMARK__RE = EXPOSURE__IBS__DENMARK__RE*PD__IBS__DENMARK__RE*LGD__IBS__DENMARK__RE&#39;,REPLACEMENTS=REPL) $
FRML &lt;&gt; EL__IBS__DENMARK__SOV = EXPOSURE__IBS__DENMARK__SOV*PD__IBS__DENMARK__SOV*LGD__IBS__DENMARK__SOV&#39;,REPLACEMENTS=REPL) $
FRML &lt;&gt; EL__IBS__SWEDEN__HOUSEHOLDS = EXPOSURE__IBS__SWEDEN__HOUSEHOLDS*PD__IBS__SWEDEN__HOUSEHOLDS*LGD__IBS__SWEDEN__HOUSEHOLDS&#39;,REPLACEMENTS=REPL) $
FRML &lt;&gt; EL__IBS__SWEDEN__NFC = EXPOSURE__IBS__SWEDEN__NFC*PD__IBS__SWEDEN__NFC*LGD__IBS__SWEDEN__NFC&#39;,REPLACEMENTS=REPL) $
FRML &lt;&gt; EL__IBS__SWEDEN__RE = EXPOSURE__IBS__SWEDEN__RE*PD__IBS__SWEDEN__RE*LGD__IBS__SWEDEN__RE&#39;,REPLACEMENTS=REPL) $
FRML &lt;&gt; EL__IBS__SWEDEN__SOV = EXPOSURE__IBS__SWEDEN__SOV*PD__IBS__SWEDEN__SOV*LGD__IBS__SWEDEN__SOV&#39;,REPLACEMENTS=REPL) $
FRML &lt;&gt; EXPECTED_LOSS_DANSKE = ((EL__DANSKE__DENMARK__HOUSEHOLDS+EL__DANSKE__DENMARK__NFC+EL__DANSKE__DENMARK__RE+EL__DANSKE__DENMARK__SOV)+(EL__DANSKE__SWEDEN__HOUSEHOLDS+EL__DANSKE__SWEDEN__NFC+EL__DANSKE__SWEDEN__RE+EL__DANSKE__SWEDEN__SOV)) $
FRML &lt;&gt; EXPECTED_LOSS_NORDEA = ((EL__NORDEA__DENMARK__HOUSEHOLDS+EL__NORDEA__DENMARK__NFC+EL__NORDEA__DENMARK__RE+EL__NORDEA__DENMARK__SOV)+(EL__NORDEA__SWEDEN__HOUSEHOLDS+EL__NORDEA__SWEDEN__NFC+EL__NORDEA__SWEDEN__RE+EL__NORDEA__SWEDEN__SOV)) $
FRML &lt;&gt; EXPECTED_LOSS_IBS = ((EL__IBS__DENMARK__HOUSEHOLDS+EL__IBS__DENMARK__NFC+EL__IBS__DENMARK__RE+EL__IBS__DENMARK__SOV)+(EL__IBS__SWEDEN__HOUSEHOLDS+EL__IBS__SWEDEN__NFC+EL__IBS__SWEDEN__RE+EL__IBS__SWEDEN__SOV)) $
</pre></div>
</div>
</div>
</details>
</div>
<p>And the causal structure can be displayed</p>
<div class="cell tag_hide-output docutils container">
<div class="cell_input above-output-prompt docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">credit_risk_model</span><span class="o">.</span><span class="n">draw</span>
</pre></div>
</div>
</div>
<details class="hide below-input">
<summary aria-label="Toggle hidden content">
<span class="collapsed">Show code cell output</span>
<span class="expanded">Hide code cell output</span>
</summary>
<div class="cell_output docutils container">
<div class="output text_html"><?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 12.0.0 (0)
 -->
<!-- Title: TD Pages: 1 -->
<svg width="186pt" height="432pt"
 viewBox="0.00 0.00 185.93 432.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(0.110698 0.110698) rotate(0) translate(4 3898.5)">
<title>TD</title>
<polygon fill="white" stroke="none" points="-4,4 -4,-3898.5 1675.65,-3898.5 1675.65,4 -4,4"/>
<text text-anchor="middle" x="835.82" y="-7.2" font-family="Times New Roman,serif" font-size="14.00">A_model_graph</text>
<!-- PD__NORDEA__DENMARK__NFC(&#45;1) -->
<g id="node1" class="node">
<title>PD__NORDEA__DENMARK__NFC(&#45;1)</title>
<g id="a_node1"><a xlink:title="PD__NORDEA__DENMARK__NFC&#10;FRML &lt;&gt; PD__NORDEA__DENMARK__NFC = 0.02+0.8*PD__NORDEA__DENMARK__NFC(&#45;1)+0.1*GDP_GROWTH__DENMARK $">
<polygon fill="springgreen" stroke="black" points="454.1,-2976.5 0,-2976.5 0,-2940.5 454.1,-2940.5 454.1,-2976.5"/>
<text text-anchor="start" x="5.8" y="-2953.45" font-family="Times New Roman,serif" font-size="14.00" fill="blue">PD__NORDEA__DENMARK__NFC(&#45;1):PD__NORDEA__DENMARK__NFC</text>
</a>
</g>
</g>
<!-- PD__NORDEA__DENMARK__NFC -->
<g id="node94" class="node">
<title>PD__NORDEA__DENMARK__NFC</title>
<g id="a_node94"><a xlink:title="PD__NORDEA__DENMARK__NFC&#10;FRML &lt;&gt; PD__NORDEA__DENMARK__NFC = 0.02+0.8*PD__NORDEA__DENMARK__NFC(&#45;1)+0.1*GDP_GROWTH__DENMARK $">
<polygon fill="#63b8ff" stroke="black" points="772.82,-2976.5 548.22,-2976.5 548.22,-2940.5 772.82,-2940.5 772.82,-2976.5"/>
<text text-anchor="start" x="554.02" y="-2953.45" font-family="Times New Roman,serif" font-size="14.00" fill="blue">PD__NORDEA__DENMARK__NFC:</text>
</a>
</g>
</g>
<!-- PD__NORDEA__DENMARK__NFC(&#45;1)&#45;&gt;PD__NORDEA__DENMARK__NFC -->
<g id="edge14" class="edge">
<title>PD__NORDEA__DENMARK__NFC(&#45;1)&#45;&gt;PD__NORDEA__DENMARK__NFC</title>
<g id="a_edge14"><a xlink:href="bogus" xlink:title="NA">
<path fill="none" stroke="black" stroke-width="0.5" d="M454.53,-2951.76C483.05,-2951.8 511.32,-2951.99 537.34,-2952.35"/>
<polygon fill="black" stroke="black" stroke-width="0.5" points="537.16,-2955.85 547.21,-2952.49 537.26,-2948.85 537.16,-2955.85"/>
</a>
</g>
</g>
<!-- EL__NORDEA__SWEDEN__RE -->
<g id="node2" class="node">
<title>EL__NORDEA__SWEDEN__RE</title>
<g id="a_node2"><a xlink:title="EL__NORDEA__SWEDEN__RE&#10;FRML &lt;&gt; EL__NORDEA__SWEDEN__RE = EXPOSURE__NORDEA__SWEDEN__RE*PD__NORDEA__SWEDEN__RE*LGD__NORDEA__SWEDEN__RE $">
<polygon fill="#63b8ff" stroke="black" points="1259.17,-3840.5 1056.33,-3840.5 1056.33,-3804.5 1259.17,-3804.5 1259.17,-3840.5"/>
<text text-anchor="start" x="1062.12" y="-3817.45" font-family="Times New Roman,serif" font-size="14.00" fill="blue">EL__NORDEA__SWEDEN__RE:</text>
</a>
</g>
</g>
<!-- EXPECTED_LOSS_NORDEA -->
<g id="node33" class="node">
<title>EXPECTED_LOSS_NORDEA</title>
<g id="a_node33"><a xlink:title="EXPECTED_LOSS_NORDEA&#10;FRML &lt;&gt; EXPECTED_LOSS_NORDEA = ((EL__NORDEA__DENMARK__HOUSEHOLDS+EL__NORDEA__DENMARK__NFC+EL__NORDEA__DENMARK__RE+EL__NORDEA__DENMARK__SOV)+(EL__NORDEA__SWEDEN__HOUSEHOLDS+EL__NORDEA__SWEDEN__NFC+EL__NORDEA__SWEDEN__RE+EL__NORDEA__SWEDEN__SOV)) $">
<polygon fill="#63b8ff" stroke="black" points="1671.65,-3333.5 1484.55,-3333.5 1484.55,-3297.5 1671.65,-3297.5 1671.65,-3333.5"/>
<text text-anchor="start" x="1490.35" y="-3310.45" font-family="Times New Roman,serif" font-size="14.00" fill="blue">EXPECTED_LOSS_NORDEA:</text>
</a>
</g>
</g>
<!-- EL__NORDEA__SWEDEN__RE&#45;&gt;EXPECTED_LOSS_NORDEA -->
<g id="edge67" class="edge">
<title>EL__NORDEA__SWEDEN__RE&#45;&gt;EXPECTED_LOSS_NORDEA</title>
<g id="a_edge67"><a xlink:href="bogus" xlink:title="NA">
<path fill="none" stroke="black" stroke-width="0.5" d="M1259.6,-3839.81C1320.98,-3844.44 1397.19,-3838.85 1448.55,-3795.5 1519.35,-3735.75 1561.83,-3438.42 1573.68,-3344.19"/>
<polygon fill="black" stroke="black" stroke-width="0.5" points="1577.13,-3344.84 1574.88,-3334.49 1570.18,-3343.98 1577.13,-3344.84"/>
</a>
</g>
</g>
<!-- EL__NORDEA__DENMARK__SOV -->
<g id="node3" class="node">
<title>EL__NORDEA__DENMARK__SOV</title>
<g id="a_node3"><a xlink:title="EL__NORDEA__DENMARK__SOV&#10;FRML &lt;&gt; EL__NORDEA__DENMARK__SOV = EXPOSURE__NORDEA__DENMARK__SOV*PD__NORDEA__DENMARK__SOV*LGD__NORDEA__DENMARK__SOV $">
<polygon fill="#63b8ff" stroke="black" points="1269.67,-3651.5 1045.83,-3651.5 1045.83,-3615.5 1269.67,-3615.5 1269.67,-3651.5"/>
<text text-anchor="start" x="1051.62" y="-3628.45" font-family="Times New Roman,serif" font-size="14.00" fill="blue">EL__NORDEA__DENMARK__SOV:</text>
</a>
</g>
</g>
<!-- EL__NORDEA__DENMARK__SOV&#45;&gt;EXPECTED_LOSS_NORDEA -->
<g id="edge159" class="edge">
<title>EL__NORDEA__DENMARK__SOV&#45;&gt;EXPECTED_LOSS_NORDEA</title>
<g id="a_edge159"><a xlink:href="bogus" xlink:title="NA">
<path fill="none" stroke="black" stroke-width="0.5" d="M1270.17,-3635.91C1328.5,-3631.82 1398.07,-3617.95 1448.55,-3579.5 1527.09,-3519.68 1560.36,-3399.29 1571.91,-3344.2"/>
<polygon fill="black" stroke="black" stroke-width="0.5" points="1575.32,-3345.02 1573.85,-3334.53 1568.46,-3343.65 1575.32,-3345.02"/>
</a>
</g>
</g>
<!-- PD__DANSKE__SWEDEN__RE(&#45;1) -->
<g id="node4" class="node">
<title>PD__DANSKE__SWEDEN__RE(&#45;1)</title>
<g id="a_node4"><a xlink:title="PD__DANSKE__SWEDEN__RE&#10;FRML &lt;&gt; PD__DANSKE__SWEDEN__RE = 0.02+0.8*PD__DANSKE__SWEDEN__RE(&#45;1)+0.1*GDP_GROWTH__SWEDEN $">
<polygon fill="springgreen" stroke="black" points="1362.3,-168.5 953.2,-168.5 953.2,-132.5 1362.3,-132.5 1362.3,-168.5"/>
<text text-anchor="start" x="959" y="-145.45" font-family="Times New Roman,serif" font-size="14.00" fill="blue">PD__DANSKE__SWEDEN__RE(&#45;1):PD__DANSKE__SWEDEN__RE</text>
</a>
</g>
</g>
<!-- PD__DANSKE__SWEDEN__RE -->
<g id="node96" class="node">
<title>PD__DANSKE__SWEDEN__RE</title>
<g id="a_node96"><a xlink:title="PD__DANSKE__SWEDEN__RE&#10;FRML &lt;&gt; PD__DANSKE__SWEDEN__RE = 0.02+0.8*PD__DANSKE__SWEDEN__RE(&#45;1)+0.1*GDP_GROWTH__SWEDEN $">
<polygon fill="#63b8ff" stroke="black" points="761.57,-168.5 559.47,-168.5 559.47,-132.5 761.57,-132.5 761.57,-168.5"/>
<text text-anchor="start" x="565.27" y="-145.45" font-family="Times New Roman,serif" font-size="14.00" fill="blue">PD__DANSKE__SWEDEN__RE:</text>
</a>
</g>
</g>
<!-- PD__DANSKE__SWEDEN__RE(&#45;1)&#45;&gt;PD__DANSKE__SWEDEN__RE -->
<g id="edge39" class="edge">
<title>PD__DANSKE__SWEDEN__RE(&#45;1)&#45;&gt;PD__DANSKE__SWEDEN__RE</title>
<g id="a_edge39"><a xlink:href="bogus" xlink:title="NA">
<path fill="none" stroke="black" stroke-width="0.5" d="M952.83,-157.16C891.13,-157.42 825.7,-157.12 772.51,-156.24"/>
<polygon fill="black" stroke="black" stroke-width="0.5" points="772.86,-152.74 762.8,-156.07 772.73,-159.74 772.86,-152.74"/>
</a>
</g>
</g>
<!-- EL__NORDEA__DENMARK__RE -->
<g id="node5" class="node">
<title>EL__NORDEA__DENMARK__RE</title>
<g id="a_node5"><a xlink:title="EL__NORDEA__DENMARK__RE&#10;FRML &lt;&gt; EL__NORDEA__DENMARK__RE = EXPOSURE__NORDEA__DENMARK__RE*PD__NORDEA__DENMARK__RE*LGD__NORDEA__DENMARK__RE $">
<polygon fill="#63b8ff" stroke="black" points="1265.17,-3570.5 1050.33,-3570.5 1050.33,-3534.5 1265.17,-3534.5 1265.17,-3570.5"/>
<text text-anchor="start" x="1056.12" y="-3547.45" font-family="Times New Roman,serif" font-size="14.00" fill="blue">EL__NORDEA__DENMARK__RE:</text>
</a>
</g>
</g>
<!-- EL__NORDEA__DENMARK__RE&#45;&gt;EXPECTED_LOSS_NORDEA -->
<g id="edge114" class="edge">
<title>EL__NORDEA__DENMARK__RE&#45;&gt;EXPECTED_LOSS_NORDEA</title>
<g id="a_edge114"><a xlink:href="bogus" xlink:title="NA">
<path fill="none" stroke="black" stroke-width="0.5" d="M1265.59,-3564.74C1323.75,-3566.21 1394.62,-3559.1 1448.55,-3525.5 1516.37,-3483.24 1553.69,-3390.72 1568.89,-3343.88"/>
<polygon fill="black" stroke="black" stroke-width="0.5" points="1572.17,-3345.12 1571.82,-3334.53 1565.49,-3343.03 1572.17,-3345.12"/>
</a>
</g>
</g>
<!-- EL__DANSKE__DENMARK__RE -->
<g id="node6" class="node">
<title>EL__DANSKE__DENMARK__RE</title>
<g id="a_node6"><a xlink:title="EL__DANSKE__DENMARK__RE&#10;FRML &lt;&gt; EL__DANSKE__DENMARK__RE = EXPOSURE__DANSKE__DENMARK__RE*PD__DANSKE__DENMARK__RE*LGD__DANSKE__DENMARK__RE $">
<polygon fill="#63b8ff" stroke="black" points="1264.42,-1302.5 1051.08,-1302.5 1051.08,-1266.5 1264.42,-1266.5 1264.42,-1302.5"/>
<text text-anchor="start" x="1056.88" y="-1279.45" font-family="Times New Roman,serif" font-size="14.00" fill="blue">EL__DANSKE__DENMARK__RE:</text>
</a>
</g>
</g>
<!-- EXPECTED_LOSS_DANSKE -->
<g id="node52" class="node">
<title>EXPECTED_LOSS_DANSKE</title>
<g id="a_node52"><a xlink:title="EXPECTED_LOSS_DANSKE&#10;FRML &lt;&gt; EXPECTED_LOSS_DANSKE = ((EL__DANSKE__DENMARK__HOUSEHOLDS+EL__DANSKE__DENMARK__NFC+EL__DANSKE__DENMARK__RE+EL__DANSKE__DENMARK__SOV)+(EL__DANSKE__SWEDEN__HOUSEHOLDS+EL__DANSKE__SWEDEN__NFC+EL__DANSKE__SWEDEN__RE+EL__DANSKE__SWEDEN__SOV)) $">
<polygon fill="#63b8ff" stroke="black" points="1670.9,-815.5 1485.3,-815.5 1485.3,-779.5 1670.9,-779.5 1670.9,-815.5"/>
<text text-anchor="start" x="1491.1" y="-792.45" font-family="Times New Roman,serif" font-size="14.00" fill="blue">EXPECTED_LOSS_DANSKE:</text>
</a>
</g>
</g>
<!-- EL__DANSKE__DENMARK__RE&#45;&gt;EXPECTED_LOSS_DANSKE -->
<g id="edge56" class="edge">
<title>EL__DANSKE__DENMARK__RE&#45;&gt;EXPECTED_LOSS_DANSKE</title>
<g id="a_edge56"><a xlink:href="bogus" xlink:title="NA">
<path fill="none" stroke="black" stroke-width="0.5" d="M1264.66,-1301.98C1325.03,-1305.83 1398.41,-1299.35 1448.55,-1257.5 1516.61,-1200.69 1560.66,-917.85 1573.33,-826.21"/>
<polygon fill="black" stroke="black" stroke-width="0.5" points="1576.76,-826.9 1574.64,-816.52 1569.83,-825.96 1576.76,-826.9"/>
</a>
</g>
</g>
<!-- EXPOSURE__NORDEA__SWEDEN__HOUSEHOLDS -->
<g id="node7" class="node">
<title>EXPOSURE__NORDEA__SWEDEN__HOUSEHOLDS</title>
<g id="a_node7"><a xlink:title="EXPOSURE__NORDEA__SWEDEN__HOUSEHOLDS&#10;Exogen">
<polygon fill="yellow" stroke="black" points="824.95,-3300.5 496.1,-3300.5 496.1,-3264.5 824.95,-3264.5 824.95,-3300.5"/>
<text text-anchor="start" x="501.9" y="-3277.45" font-family="Times New Roman,serif" font-size="14.00" fill="blue">EXPOSURE__NORDEA__SWEDEN__HOUSEHOLDS:</text>
</a>
</g>
</g>
<!-- EL__NORDEA__SWEDEN__HOUSEHOLDS -->
<g id="node37" class="node">
<title>EL__NORDEA__SWEDEN__HOUSEHOLDS</title>
<g id="a_node37"><a xlink:title="EL__NORDEA__SWEDEN__HOUSEHOLDS&#10;FRML &lt;&gt; EL__NORDEA__SWEDEN__HOUSEHOLDS = EXPOSURE__NORDEA__SWEDEN__HOUSEHOLDS*PD__NORDEA__SWEDEN__HOUSEHOLDS*LGD__NORDEA__SWEDEN__HOUSEHOLDS $">
<polygon fill="#63b8ff" stroke="black" points="1295.55,-3259.5 1019.95,-3259.5 1019.95,-3223.5 1295.55,-3223.5 1295.55,-3259.5"/>
<text text-anchor="start" x="1025.75" y="-3236.45" font-family="Times New Roman,serif" font-size="14.00" fill="blue">EL__NORDEA__SWEDEN__HOUSEHOLDS:</text>
</a>
</g>
</g>
<!-- EXPOSURE__NORDEA__SWEDEN__HOUSEHOLDS&#45;&gt;EL__NORDEA__SWEDEN__HOUSEHOLDS -->
<g id="edge58" class="edge">
<title>EXPOSURE__NORDEA__SWEDEN__HOUSEHOLDS&#45;&gt;EL__NORDEA__SWEDEN__HOUSEHOLDS</title>
<g id="a_edge58"><a xlink:href="bogus" xlink:title="NA">
<path fill="none" stroke="black" stroke-width="0.5" d="M825.4,-3268.93C884.66,-3264.03 951.17,-3258.52 1008.96,-3253.74"/>
<polygon fill="black" stroke="black" stroke-width="0.5" points="1009.22,-3257.23 1018.9,-3252.91 1008.64,-3250.25 1009.22,-3257.23"/>
</a>
</g>
</g>
<!-- PD__NORDEA__SWEDEN__RE -->
<g id="node8" class="node">
<title>PD__NORDEA__SWEDEN__RE</title>
<g id="a_node8"><a xlink:title="PD__NORDEA__SWEDEN__RE&#10;FRML &lt;&gt; PD__NORDEA__SWEDEN__RE = 0.02+0.8*PD__NORDEA__SWEDEN__RE(&#45;1)+0.1*GDP_GROWTH__SWEDEN $">
<polygon fill="#63b8ff" stroke="black" points="762.32,-3786.5 558.72,-3786.5 558.72,-3750.5 762.32,-3750.5 762.32,-3786.5"/>
<text text-anchor="start" x="564.52" y="-3763.45" font-family="Times New Roman,serif" font-size="14.00" fill="blue">PD__NORDEA__SWEDEN__RE:</text>
</a>
</g>
</g>
<!-- PD__NORDEA__SWEDEN__RE&#45;&gt;EL__NORDEA__SWEDEN__RE -->
<g id="edge52" class="edge">
<title>PD__NORDEA__SWEDEN__RE&#45;&gt;EL__NORDEA__SWEDEN__RE</title>
<g id="a_edge52"><a xlink:href="bogus" xlink:title="NA">
<path fill="none" stroke="black" stroke-width="0.5" d="M762.78,-3782.58C795.95,-3786.99 832.99,-3791.69 866.95,-3795.5 925.8,-3802.11 991.49,-3808.32 1045.44,-3813.12"/>
<polygon fill="black" stroke="black" stroke-width="0.5" points="1045.04,-3816.6 1055.31,-3813.99 1045.66,-3809.63 1045.04,-3816.6"/>
</a>
</g>
</g>
<!-- PD__NORDEA__SWEDEN__RE(&#45;1) -->
<g id="node43" class="node">
<title>PD__NORDEA__SWEDEN__RE(&#45;1)</title>
<g id="a_node43"><a xlink:title="PD__NORDEA__SWEDEN__RE&#10;FRML &lt;&gt; PD__NORDEA__SWEDEN__RE = 0.02+0.8*PD__NORDEA__SWEDEN__RE(&#45;1)+0.1*GDP_GROWTH__SWEDEN $">
<polygon fill="springgreen" stroke="black" points="1363.8,-3786.5 951.7,-3786.5 951.7,-3750.5 1363.8,-3750.5 1363.8,-3786.5"/>
<text text-anchor="start" x="957.5" y="-3763.45" font-family="Times New Roman,serif" font-size="14.00" fill="blue">PD__NORDEA__SWEDEN__RE(&#45;1):PD__NORDEA__SWEDEN__RE</text>
</a>
</g>
</g>
<!-- PD__NORDEA__SWEDEN__RE&#45;&gt;PD__NORDEA__SWEDEN__RE(&#45;1) -->
<g id="edge2" class="edge">
<title>PD__NORDEA__SWEDEN__RE&#45;&gt;PD__NORDEA__SWEDEN__RE(&#45;1)</title>
<g id="a_edge2"><a xlink:href="bogus" xlink:title="NA">
<path fill="none" stroke="black" stroke-width="0.5" d="M762.64,-3762.93C814.05,-3761.99 878.62,-3761.61 940.53,-3761.8"/>
<polygon fill="black" stroke="black" stroke-width="0.5" points="940.47,-3765.3 950.48,-3761.83 940.5,-3758.3 940.47,-3765.3"/>
</a>
</g>
</g>
<!-- EL__NORDEA__SWEDEN__SOV -->
<g id="node9" class="node">
<title>EL__NORDEA__SWEDEN__SOV</title>
<g id="a_node9"><a xlink:title="EL__NORDEA__SWEDEN__SOV&#10;FRML &lt;&gt; EL__NORDEA__SWEDEN__SOV = EXPOSURE__NORDEA__SWEDEN__SOV*PD__NORDEA__SWEDEN__SOV*LGD__NORDEA__SWEDEN__SOV $">
<polygon fill="#63b8ff" stroke="black" points="1263.67,-3408.5 1051.83,-3408.5 1051.83,-3372.5 1263.67,-3372.5 1263.67,-3408.5"/>
<text text-anchor="start" x="1057.62" y="-3385.45" font-family="Times New Roman,serif" font-size="14.00" fill="blue">EL__NORDEA__SWEDEN__SOV:</text>
</a>
</g>
</g>
<!-- EL__NORDEA__SWEDEN__SOV&#45;&gt;EXPECTED_LOSS_NORDEA -->
<g id="edge6" class="edge">
<title>EL__NORDEA__SWEDEN__SOV&#45;&gt;EXPECTED_LOSS_NORDEA</title>
<g id="a_edge6"><a xlink:href="bogus" xlink:title="NA">
<path fill="none" stroke="black" stroke-width="0.5" d="M1264.1,-3387.38C1319.54,-3384.07 1388.34,-3377.29 1448.55,-3363.5 1474.96,-3357.45 1503.29,-3347.3 1526.6,-3337.89"/>
<polygon fill="black" stroke="black" stroke-width="0.5" points="1527.65,-3341.24 1535.57,-3334.2 1524.99,-3334.77 1527.65,-3341.24"/>
</a>
</g>
</g>
<!-- LGD__NORDEA__DENMARK__RE -->
<g id="node10" class="node">
<title>LGD__NORDEA__DENMARK__RE</title>
<g id="a_node10"><a xlink:title="LGD__NORDEA__DENMARK__RE&#10;Exogen">
<polygon fill="yellow" stroke="black" points="773.57,-3624.5 547.47,-3624.5 547.47,-3588.5 773.57,-3588.5 773.57,-3624.5"/>
<text text-anchor="start" x="553.27" y="-3601.45" font-family="Times New Roman,serif" font-size="14.00" fill="blue">LGD__NORDEA__DENMARK__RE:</text>
</a>
</g>
</g>
<!-- LGD__NORDEA__DENMARK__RE&#45;&gt;EL__NORDEA__DENMARK__RE -->
<g id="edge44" class="edge">
<title>LGD__NORDEA__DENMARK__RE&#45;&gt;EL__NORDEA__DENMARK__RE</title>
<g id="a_edge44"><a xlink:href="bogus" xlink:title="NA">
<path fill="none" stroke="black" stroke-width="0.5" d="M773.9,-3594.25C853.1,-3585.61 958.93,-3574.07 1039.25,-3565.31"/>
<polygon fill="black" stroke="black" stroke-width="0.5" points="1039.6,-3568.8 1049.16,-3564.23 1038.84,-3561.84 1039.6,-3568.8"/>
</a>
</g>
</g>
<!-- EXPOSURE__DANSKE__SWEDEN__SOV -->
<g id="node11" class="node">
<title>EXPOSURE__DANSKE__SWEDEN__SOV</title>
<g id="a_node11"><a xlink:title="EXPOSURE__DANSKE__SWEDEN__SOV&#10;Exogen">
<polygon fill="yellow" stroke="black" points="792.32,-438.5 528.72,-438.5 528.72,-402.5 792.32,-402.5 792.32,-438.5"/>
<text text-anchor="start" x="534.52" y="-415.45" font-family="Times New Roman,serif" font-size="14.00" fill="blue">EXPOSURE__DANSKE__SWEDEN__SOV:</text>
</a>
</g>
</g>
<!-- EL__DANSKE__SWEDEN__SOV -->
<g id="node79" class="node">
<title>EL__DANSKE__SWEDEN__SOV</title>
<g id="a_node79"><a xlink:title="EL__DANSKE__SWEDEN__SOV&#10;FRML &lt;&gt; EL__DANSKE__SWEDEN__SOV = EXPOSURE__DANSKE__SWEDEN__SOV*PD__DANSKE__SWEDEN__SOV*LGD__DANSKE__SWEDEN__SOV $">
<polygon fill="#63b8ff" stroke="black" points="1262.92,-411.5 1052.58,-411.5 1052.58,-375.5 1262.92,-375.5 1262.92,-411.5"/>
<text text-anchor="start" x="1058.38" y="-388.45" font-family="Times New Roman,serif" font-size="14.00" fill="blue">EL__DANSKE__SWEDEN__SOV:</text>
</a>
</g>
</g>
<!-- EXPOSURE__DANSKE__SWEDEN__SOV&#45;&gt;EL__DANSKE__SWEDEN__SOV -->
<g id="edge104" class="edge">
<title>EXPOSURE__DANSKE__SWEDEN__SOV&#45;&gt;EL__DANSKE__SWEDEN__SOV</title>
<g id="a_edge104"><a xlink:href="bogus" xlink:title="NA">
<path fill="none" stroke="black" stroke-width="0.5" d="M792.61,-413.35C870.2,-409.12 967.56,-403.81 1042.09,-399.75"/>
<polygon fill="black" stroke="black" stroke-width="0.5" points="1041.9,-403.27 1051.69,-399.23 1041.52,-396.28 1041.9,-403.27"/>
</a>
</g>
</g>
<!-- EXPECTED_LOSS_IBS -->
<g id="node12" class="node">
<title>EXPECTED_LOSS_IBS</title>
<g id="a_node12"><a xlink:title="EXPECTED_LOSS_IBS&#10;FRML &lt;&gt; EXPECTED_LOSS_IBS = ((EL__IBS__DENMARK__HOUSEHOLDS+EL__IBS__DENMARK__NFC+EL__IBS__DENMARK__RE+EL__IBS__DENMARK__SOV)+(EL__IBS__SWEDEN__HOUSEHOLDS+EL__IBS__SWEDEN__NFC+EL__IBS__SWEDEN__RE+EL__IBS__SWEDEN__SOV)) $">
<polygon fill="#63b8ff" stroke="black" points="1654.02,-2098.5 1502.17,-2098.5 1502.17,-2062.5 1654.02,-2062.5 1654.02,-2098.5"/>
<text text-anchor="start" x="1507.97" y="-2075.45" font-family="Times New Roman,serif" font-size="14.00" fill="blue">EXPECTED_LOSS_IBS:</text>
</a>
</g>
</g>
<!-- EXPOSURE__IBS__DENMARK__SOV -->
<g id="node13" class="node">
<title>EXPOSURE__IBS__DENMARK__SOV</title>
<g id="a_node13"><a xlink:title="EXPOSURE__IBS__DENMARK__SOV&#10;Exogen">
<polygon fill="yellow" stroke="black" points="781.45,-1896.5 539.6,-1896.5 539.6,-1860.5 781.45,-1860.5 781.45,-1896.5"/>
<text text-anchor="start" x="545.4" y="-1873.45" font-family="Times New Roman,serif" font-size="14.00" fill="blue">EXPOSURE__IBS__DENMARK__SOV:</text>
</a>
</g>
</g>
<!-- EL__IBS__DENMARK__SOV -->
<g id="node80" class="node">
<title>EL__IBS__DENMARK__SOV</title>
<g id="a_node80"><a xlink:title="EL__IBS__DENMARK__SOV&#10;FRML &lt;&gt; EL__IBS__DENMARK__SOV = EXPOSURE__IBS__DENMARK__SOV*PD__IBS__DENMARK__SOV*LGD__IBS__DENMARK__SOV $">
<polygon fill="#63b8ff" stroke="black" points="1252.05,-1869.5 1063.45,-1869.5 1063.45,-1833.5 1252.05,-1833.5 1252.05,-1869.5"/>
<text text-anchor="start" x="1069.25" y="-1846.45" font-family="Times New Roman,serif" font-size="14.00" fill="blue">EL__IBS__DENMARK__SOV:</text>
</a>
</g>
</g>
<!-- EXPOSURE__IBS__DENMARK__SOV&#45;&gt;EL__IBS__DENMARK__SOV -->
<g id="edge109" class="edge">
<title>EXPOSURE__IBS__DENMARK__SOV&#45;&gt;EL__IBS__DENMARK__SOV</title>
<g id="a_edge109"><a xlink:href="bogus" xlink:title="NA">
<path fill="none" stroke="black" stroke-width="0.5" d="M781.72,-1871.95C864.6,-1867.43 973.66,-1861.48 1052.79,-1857.17"/>
<polygon fill="black" stroke="black" stroke-width="0.5" points="1052.71,-1860.68 1062.51,-1856.64 1052.33,-1853.69 1052.71,-1860.68"/>
</a>
</g>
</g>
<!-- LGD__DANSKE__DENMARK__HOUSEHOLDS -->
<g id="node14" class="node">
<title>LGD__DANSKE__DENMARK__HOUSEHOLDS</title>
<g id="a_node14"><a xlink:title="LGD__DANSKE__DENMARK__HOUSEHOLDS&#10;Exogen">
<polygon fill="yellow" stroke="black" points="809.2,-546.5 511.85,-546.5 511.85,-510.5 809.2,-510.5 809.2,-546.5"/>
<text text-anchor="start" x="517.65" y="-523.45" font-family="Times New Roman,serif" font-size="14.00" fill="blue">LGD__DANSKE__DENMARK__HOUSEHOLDS:</text>
</a>
</g>
</g>
<!-- EL__DANSKE__DENMARK__HOUSEHOLDS -->
<g id="node82" class="node">
<title>EL__DANSKE__DENMARK__HOUSEHOLDS</title>
<g id="a_node82"><a xlink:title="EL__DANSKE__DENMARK__HOUSEHOLDS&#10;FRML &lt;&gt; EL__DANSKE__DENMARK__HOUSEHOLDS = EXPOSURE__DANSKE__DENMARK__HOUSEHOLDS*PD__DANSKE__DENMARK__HOUSEHOLDS*LGD__DANSKE__DENMARK__HOUSEHOLDS $">
<polygon fill="#63b8ff" stroke="black" points="1300.8,-546.5 1014.7,-546.5 1014.7,-510.5 1300.8,-510.5 1300.8,-546.5"/>
<text text-anchor="start" x="1020.5" y="-523.45" font-family="Times New Roman,serif" font-size="14.00" fill="blue">EL__DANSKE__DENMARK__HOUSEHOLDS:</text>
</a>
</g>
</g>
<!-- LGD__DANSKE__DENMARK__HOUSEHOLDS&#45;&gt;EL__DANSKE__DENMARK__HOUSEHOLDS -->
<g id="edge151" class="edge">
<title>LGD__DANSKE__DENMARK__HOUSEHOLDS&#45;&gt;EL__DANSKE__DENMARK__HOUSEHOLDS</title>
<g id="a_edge151"><a xlink:href="bogus" xlink:title="NA">
<path fill="none" stroke="black" stroke-width="0.5" d="M809.44,-528.5C870.73,-528.5 941.81,-528.5 1003.64,-528.5"/>
<polygon fill="black" stroke="black" stroke-width="0.5" points="1003.52,-532 1013.52,-528.5 1003.52,-525 1003.52,-532"/>
</a>
</g>
</g>
<!-- GDP_GROWTH__SWEDEN -->
<g id="node15" class="node">
<title>GDP_GROWTH__SWEDEN</title>
<g id="a_node15"><a xlink:title="GDP_GROWTH__SWEDEN&#10;Exogen">
<polygon fill="yellow" stroke="black" points="316.85,-1532.5 137.25,-1532.5 137.25,-1496.5 316.85,-1496.5 316.85,-1532.5"/>
<text text-anchor="start" x="143.05" y="-1509.45" font-family="Times New Roman,serif" font-size="14.00" fill="blue">GDP_GROWTH__SWEDEN:</text>
</a>
</g>
</g>
<!-- GDP_GROWTH__SWEDEN&#45;&gt;PD__NORDEA__SWEDEN__RE -->
<g id="edge161" class="edge">
<title>GDP_GROWTH__SWEDEN&#45;&gt;PD__NORDEA__SWEDEN__RE</title>
<g id="a_edge161"><a xlink:href="bogus" xlink:title="NA">
<path fill="none" stroke="black" stroke-width="0.5" d="M275.49,-1532.88C329.82,-1556.79 416.19,-1604.25 454.1,-1676.5 507.41,-1778.1 414.87,-3654.87 490.1,-3741.5 504.94,-3758.58 525.89,-3767.91 548.02,-3772.57"/>
<polygon fill="black" stroke="black" stroke-width="0.5" points="547.4,-3776.01 557.86,-3774.31 548.62,-3769.12 547.4,-3776.01"/>
</a>
</g>
</g>
<!-- PD__IBS__SWEDEN__HOUSEHOLDS -->
<g id="node17" class="node">
<title>PD__IBS__SWEDEN__HOUSEHOLDS</title>
<g id="a_node17"><a xlink:title="PD__IBS__SWEDEN__HOUSEHOLDS&#10;FRML &lt;&gt; PD__IBS__SWEDEN__HOUSEHOLDS = 0.02+0.8*PD__IBS__SWEDEN__HOUSEHOLDS(&#45;1)+0.1*GDP_GROWTH__SWEDEN $">
<polygon fill="#63b8ff" stroke="black" points="781.07,-2652.5 539.97,-2652.5 539.97,-2616.5 781.07,-2616.5 781.07,-2652.5"/>
<text text-anchor="start" x="545.77" y="-2629.45" font-family="Times New Roman,serif" font-size="14.00" fill="blue">PD__IBS__SWEDEN__HOUSEHOLDS:</text>
</a>
</g>
</g>
<!-- GDP_GROWTH__SWEDEN&#45;&gt;PD__IBS__SWEDEN__HOUSEHOLDS -->
<g id="edge142" class="edge">
<title>GDP_GROWTH__SWEDEN&#45;&gt;PD__IBS__SWEDEN__HOUSEHOLDS</title>
<g id="a_edge142"><a xlink:href="bogus" xlink:title="NA">
<path fill="none" stroke="black" stroke-width="0.5" d="M274.75,-1532.81C328.79,-1556.78 415.31,-1604.44 454.1,-1676.5 503.17,-1767.65 421.4,-2530.06 490.1,-2607.5 500.8,-2619.56 514.56,-2627.73 529.59,-2633.11"/>
<polygon fill="black" stroke="black" stroke-width="0.5" points="528.33,-2636.38 538.91,-2636.03 530.42,-2629.7 528.33,-2636.38"/>
</a>
</g>
</g>
<!-- PD__DANSKE__SWEDEN__SOV -->
<g id="node24" class="node">
<title>PD__DANSKE__SWEDEN__SOV</title>
<g id="a_node24"><a xlink:title="PD__DANSKE__SWEDEN__SOV&#10;FRML &lt;&gt; PD__DANSKE__SWEDEN__SOV = 0.02+0.8*PD__DANSKE__SWEDEN__SOV(&#45;1)+0.1*GDP_GROWTH__SWEDEN $">
<polygon fill="#63b8ff" stroke="black" points="766.07,-60.5 554.97,-60.5 554.97,-24.5 766.07,-24.5 766.07,-60.5"/>
<text text-anchor="start" x="560.77" y="-37.45" font-family="Times New Roman,serif" font-size="14.00" fill="blue">PD__DANSKE__SWEDEN__SOV:</text>
</a>
</g>
</g>
<!-- GDP_GROWTH__SWEDEN&#45;&gt;PD__DANSKE__SWEDEN__SOV -->
<g id="edge113" class="edge">
<title>GDP_GROWTH__SWEDEN&#45;&gt;PD__DANSKE__SWEDEN__SOV</title>
<g id="a_edge113"><a xlink:href="bogus" xlink:title="NA">
<path fill="none" stroke="black" stroke-width="0.5" d="M228.57,-1496.27C233.28,-1343.81 273.74,-281.29 490.1,-69.5 504.94,-54.97 524.26,-46.36 544.53,-41.51"/>
<polygon fill="black" stroke="black" stroke-width="0.5" points="545.04,-44.98 554.12,-39.52 543.62,-38.12 545.04,-44.98"/>
</a>
</g>
</g>
<!-- PD__DANSKE__SWEDEN__NFC -->
<g id="node36" class="node">
<title>PD__DANSKE__SWEDEN__NFC</title>
<g id="a_node36"><a xlink:title="PD__DANSKE__SWEDEN__NFC&#10;FRML &lt;&gt; PD__DANSKE__SWEDEN__NFC = 0.02+0.8*PD__DANSKE__SWEDEN__NFC(&#45;1)+0.1*GDP_GROWTH__SWEDEN $">
<polygon fill="#63b8ff" stroke="black" points="766.07,-276.5 554.97,-276.5 554.97,-240.5 766.07,-240.5 766.07,-276.5"/>
<text text-anchor="start" x="560.77" y="-253.45" font-family="Times New Roman,serif" font-size="14.00" fill="blue">PD__DANSKE__SWEDEN__NFC:</text>
</a>
</g>
</g>
<!-- GDP_GROWTH__SWEDEN&#45;&gt;PD__DANSKE__SWEDEN__NFC -->
<g id="edge85" class="edge">
<title>GDP_GROWTH__SWEDEN&#45;&gt;PD__DANSKE__SWEDEN__NFC</title>
<g id="a_edge85"><a xlink:href="bogus" xlink:title="NA">
<path fill="none" stroke="black" stroke-width="0.5" d="M229.18,-1496.41C238.22,-1357.66 303.39,-462.74 490.1,-285.5 505.07,-271.29 524.35,-262.8 544.51,-257.96"/>
<polygon fill="black" stroke="black" stroke-width="0.5" points="544.97,-261.44 554.04,-255.97 543.54,-254.59 544.97,-261.44"/>
</a>
</g>
</g>
<!-- PD__NORDEA__SWEDEN__HOUSEHOLDS -->
<g id="node44" class="node">
<title>PD__NORDEA__SWEDEN__HOUSEHOLDS</title>
<g id="a_node44"><a xlink:title="PD__NORDEA__SWEDEN__HOUSEHOLDS&#10;FRML &lt;&gt; PD__NORDEA__SWEDEN__HOUSEHOLDS = 0.02+0.8*PD__NORDEA__SWEDEN__HOUSEHOLDS(&#45;1)+0.1*GDP_GROWTH__SWEDEN $">
<polygon fill="#63b8ff" stroke="black" points="798.7,-2868.5 522.35,-2868.5 522.35,-2832.5 798.7,-2832.5 798.7,-2868.5"/>
<text text-anchor="start" x="528.15" y="-2845.45" font-family="Times New Roman,serif" font-size="14.00" fill="blue">PD__NORDEA__SWEDEN__HOUSEHOLDS:</text>
</a>
</g>
</g>
<!-- GDP_GROWTH__SWEDEN&#45;&gt;PD__NORDEA__SWEDEN__HOUSEHOLDS -->
<g id="edge3" class="edge">
<title>GDP_GROWTH__SWEDEN&#45;&gt;PD__NORDEA__SWEDEN__HOUSEHOLDS</title>
<g id="a_edge3"><a xlink:href="bogus" xlink:title="NA">
<path fill="none" stroke="black" stroke-width="0.5" d="M275.32,-1532.97C329.48,-1556.97 415.69,-1604.51 454.1,-1676.5 514.13,-1788.99 405.83,-2727.81 490.1,-2823.5 496.61,-2830.89 504.26,-2836.82 512.64,-2841.54"/>
<polygon fill="black" stroke="black" stroke-width="0.5" points="510.83,-2844.55 521.34,-2845.87 513.95,-2838.28 510.83,-2844.55"/>
</a>
</g>
</g>
<!-- PD__IBS__SWEDEN__SOV -->
<g id="node48" class="node">
<title>PD__IBS__SWEDEN__SOV</title>
<g id="a_node48"><a xlink:title="PD__IBS__SWEDEN__SOV&#10;FRML &lt;&gt; PD__IBS__SWEDEN__SOV = 0.02+0.8*PD__IBS__SWEDEN__SOV(&#45;1)+0.1*GDP_GROWTH__SWEDEN $">
<polygon fill="#63b8ff" stroke="black" points="749.2,-1086.5 571.85,-1086.5 571.85,-1050.5 749.2,-1050.5 749.2,-1086.5"/>
<text text-anchor="start" x="577.65" y="-1063.45" font-family="Times New Roman,serif" font-size="14.00" fill="blue">PD__IBS__SWEDEN__SOV:</text>
</a>
</g>
</g>
<!-- GDP_GROWTH__SWEDEN&#45;&gt;PD__IBS__SWEDEN__SOV -->
<g id="edge92" class="edge">
<title>GDP_GROWTH__SWEDEN&#45;&gt;PD__IBS__SWEDEN__SOV</title>
<g id="a_edge92"><a xlink:href="bogus" xlink:title="NA">
<path fill="none" stroke="black" stroke-width="0.5" d="M233.35,-1496.37C253.78,-1430 334.16,-1198.78 490.1,-1095.5 510.96,-1081.68 536.37,-1074.03 561.1,-1069.98"/>
<polygon fill="black" stroke="black" stroke-width="0.5" points="561.5,-1073.46 570.9,-1068.56 560.5,-1066.53 561.5,-1073.46"/>
</a>
</g>
</g>
<!-- PD__IBS__SWEDEN__NFC -->
<g id="node69" class="node">
<title>PD__IBS__SWEDEN__NFC</title>
<g id="a_node69"><a xlink:title="PD__IBS__SWEDEN__NFC&#10;FRML &lt;&gt; PD__IBS__SWEDEN__NFC = 0.02+0.8*PD__IBS__SWEDEN__NFC(&#45;1)+0.1*GDP_GROWTH__SWEDEN $">
<polygon fill="#63b8ff" stroke="black" points="749.2,-1464.5 571.85,-1464.5 571.85,-1428.5 749.2,-1428.5 749.2,-1464.5"/>
<text text-anchor="start" x="577.65" y="-1441.45" font-family="Times New Roman,serif" font-size="14.00" fill="blue">PD__IBS__SWEDEN__NFC:</text>
</a>
</g>
</g>
<!-- GDP_GROWTH__SWEDEN&#45;&gt;PD__IBS__SWEDEN__NFC -->
<g id="edge125" class="edge">
<title>GDP_GROWTH__SWEDEN&#45;&gt;PD__IBS__SWEDEN__NFC</title>
<g id="a_edge125"><a xlink:href="bogus" xlink:title="NA">
<path fill="none" stroke="black" stroke-width="0.5" d="M317.19,-1500.45C388.37,-1489.23 487.99,-1473.53 561.42,-1461.96"/>
<polygon fill="black" stroke="black" stroke-width="0.5" points="561.53,-1465.49 570.86,-1460.47 560.44,-1458.57 561.53,-1465.49"/>
</a>
</g>
</g>
<!-- PD__DANSKE__SWEDEN__HOUSEHOLDS -->
<g id="node77" class="node">
<title>PD__DANSKE__SWEDEN__HOUSEHOLDS</title>
<g id="a_node77"><a xlink:title="PD__DANSKE__SWEDEN__HOUSEHOLDS&#10;FRML &lt;&gt; PD__DANSKE__SWEDEN__HOUSEHOLDS = 0.02+0.8*PD__DANSKE__SWEDEN__HOUSEHOLDS(&#45;1)+0.1*GDP_GROWTH__SWEDEN $">
<polygon fill="#63b8ff" stroke="black" points="797.95,-114.5 523.1,-114.5 523.1,-78.5 797.95,-78.5 797.95,-114.5"/>
<text text-anchor="start" x="528.9" y="-91.45" font-family="Times New Roman,serif" font-size="14.00" fill="blue">PD__DANSKE__SWEDEN__HOUSEHOLDS:</text>
</a>
</g>
</g>
<!-- GDP_GROWTH__SWEDEN&#45;&gt;PD__DANSKE__SWEDEN__HOUSEHOLDS -->
<g id="edge73" class="edge">
<title>GDP_GROWTH__SWEDEN&#45;&gt;PD__DANSKE__SWEDEN__HOUSEHOLDS</title>
<g id="a_edge73"><a xlink:href="bogus" xlink:title="NA">
<path fill="none" stroke="black" stroke-width="0.5" d="M228.72,-1496.01C234.51,-1345.82 281.31,-326.49 490.1,-123.5 496.93,-116.86 504.69,-111.46 513.05,-107.09"/>
<polygon fill="black" stroke="black" stroke-width="0.5" points="514.45,-110.3 522.04,-102.91 511.5,-103.95 514.45,-110.3"/>
</a>
</g>
</g>
<!-- PD__NORDEA__SWEDEN__SOV -->
<g id="node87" class="node">
<title>PD__NORDEA__SWEDEN__SOV</title>
<g id="a_node87"><a xlink:title="PD__NORDEA__SWEDEN__SOV&#10;FRML &lt;&gt; PD__NORDEA__SWEDEN__SOV = 0.02+0.8*PD__NORDEA__SWEDEN__SOV(&#45;1)+0.1*GDP_GROWTH__SWEDEN $">
<polygon fill="#63b8ff" stroke="black" points="766.82,-3084.5 554.22,-3084.5 554.22,-3048.5 766.82,-3048.5 766.82,-3084.5"/>
<text text-anchor="start" x="560.02" y="-3061.45" font-family="Times New Roman,serif" font-size="14.00" fill="blue">PD__NORDEA__SWEDEN__SOV:</text>
</a>
</g>
</g>
<!-- GDP_GROWTH__SWEDEN&#45;&gt;PD__NORDEA__SWEDEN__SOV -->
<g id="edge62" class="edge">
<title>GDP_GROWTH__SWEDEN&#45;&gt;PD__NORDEA__SWEDEN__SOV</title>
<g id="a_edge62"><a xlink:href="bogus" xlink:title="NA">
<path fill="none" stroke="black" stroke-width="0.5" d="M275.38,-1532.94C329.6,-1556.9 415.86,-1604.42 454.1,-1676.5 489.59,-1743.42 440.18,-2982.53 490.1,-3039.5 503.95,-3055.31 523.05,-3064.45 543.44,-3069.41"/>
<polygon fill="black" stroke="black" stroke-width="0.5" points="542.62,-3072.81 553.12,-3071.42 544.04,-3065.96 542.62,-3072.81"/>
</a>
</g>
</g>
<!-- GDP_GROWTH__SWEDEN&#45;&gt;PD__DANSKE__SWEDEN__RE -->
<g id="edge24" class="edge">
<title>GDP_GROWTH__SWEDEN&#45;&gt;PD__DANSKE__SWEDEN__RE</title>
<g id="a_edge24"><a xlink:href="bogus" xlink:title="NA">
<path fill="none" stroke="black" stroke-width="0.5" d="M228.85,-1496.26C235.68,-1350.23 288.63,-371.94 490.1,-177.5 506.01,-162.14 526.94,-153.42 548.65,-148.78"/>
<polygon fill="black" stroke="black" stroke-width="0.5" points="549.05,-152.27 558.25,-147.01 547.79,-145.38 549.05,-152.27"/>
</a>
</g>
</g>
<!-- PD__NORDEA__SWEDEN__NFC -->
<g id="node98" class="node">
<title>PD__NORDEA__SWEDEN__NFC</title>
<g id="a_node98"><a xlink:title="PD__NORDEA__SWEDEN__NFC&#10;FRML &lt;&gt; PD__NORDEA__SWEDEN__NFC = 0.02+0.8*PD__NORDEA__SWEDEN__NFC(&#45;1)+0.1*GDP_GROWTH__SWEDEN $">
<polygon fill="#63b8ff" stroke="black" points="766.82,-2706.5 554.22,-2706.5 554.22,-2670.5 766.82,-2670.5 766.82,-2706.5"/>
<text text-anchor="start" x="560.02" y="-2683.45" font-family="Times New Roman,serif" font-size="14.00" fill="blue">PD__NORDEA__SWEDEN__NFC:</text>
</a>
</g>
</g>
<!-- GDP_GROWTH__SWEDEN&#45;&gt;PD__NORDEA__SWEDEN__NFC -->
<g id="edge162" class="edge">
<title>GDP_GROWTH__SWEDEN&#45;&gt;PD__NORDEA__SWEDEN__NFC</title>
<g id="a_edge162"><a xlink:href="bogus" xlink:title="NA">
<path fill="none" stroke="black" stroke-width="0.5" d="M274.77,-1532.79C328.84,-1556.76 415.39,-1604.4 454.1,-1676.5 505.91,-1772.99 417.5,-2579.5 490.1,-2661.5 504.03,-2677.24 523.16,-2686.35 543.56,-2691.3"/>
<polygon fill="black" stroke="black" stroke-width="0.5" points="542.75,-2694.7 553.25,-2693.3 544.17,-2687.85 542.75,-2694.7"/>
</a>
</g>
</g>
<!-- PD__IBS__SWEDEN__RE -->
<g id="node110" class="node">
<title>PD__IBS__SWEDEN__RE</title>
<g id="a_node110"><a xlink:title="PD__IBS__SWEDEN__RE&#10;FRML &lt;&gt; PD__IBS__SWEDEN__RE = 0.02+0.8*PD__IBS__SWEDEN__RE(&#45;1)+0.1*GDP_GROWTH__SWEDEN $">
<polygon fill="#63b8ff" stroke="black" points="744.7,-1950.5 576.35,-1950.5 576.35,-1914.5 744.7,-1914.5 744.7,-1950.5"/>
<text text-anchor="start" x="582.15" y="-1927.45" font-family="Times New Roman,serif" font-size="14.00" fill="blue">PD__IBS__SWEDEN__RE:</text>
</a>
</g>
</g>
<!-- GDP_GROWTH__SWEDEN&#45;&gt;PD__IBS__SWEDEN__RE -->
<g id="edge74" class="edge">
<title>GDP_GROWTH__SWEDEN&#45;&gt;PD__IBS__SWEDEN__RE</title>
<g id="a_edge74"><a xlink:href="bogus" xlink:title="NA">
<path fill="none" stroke="black" stroke-width="0.5" d="M271.93,-1532.97C324.47,-1557.55 410.77,-1606.22 454.1,-1676.5 508.17,-1764.2 417.33,-1832.57 490.1,-1905.5 509.88,-1925.32 537.97,-1934.22 565.61,-1937.56"/>
<polygon fill="black" stroke="black" stroke-width="0.5" points="565.11,-1941.02 575.4,-1938.5 565.79,-1934.06 565.11,-1941.02"/>
</a>
</g>
</g>
<!-- EXPOSURE__IBS__DENMARK__NFC -->
<g id="node16" class="node">
<title>EXPOSURE__IBS__DENMARK__NFC</title>
<g id="a_node16"><a xlink:title="EXPOSURE__IBS__DENMARK__NFC&#10;Exogen">
<polygon fill="yellow" stroke="black" points="781.45,-2598.5 539.6,-2598.5 539.6,-2562.5 781.45,-2562.5 781.45,-2598.5"/>
<text text-anchor="start" x="545.4" y="-2575.45" font-family="Times New Roman,serif" font-size="14.00" fill="blue">EXPOSURE__IBS__DENMARK__NFC:</text>
</a>
</g>
</g>
<!-- EL__IBS__DENMARK__NFC -->
<g id="node41" class="node">
<title>EL__IBS__DENMARK__NFC</title>
<g id="a_node41"><a xlink:title="EL__IBS__DENMARK__NFC&#10;FRML &lt;&gt; EL__IBS__DENMARK__NFC = EXPOSURE__IBS__DENMARK__NFC*PD__IBS__DENMARK__NFC*LGD__IBS__DENMARK__NFC $">
<polygon fill="#63b8ff" stroke="black" points="1252.05,-2544.5 1063.45,-2544.5 1063.45,-2508.5 1252.05,-2508.5 1252.05,-2544.5"/>
<text text-anchor="start" x="1069.25" y="-2521.45" font-family="Times New Roman,serif" font-size="14.00" fill="blue">EL__IBS__DENMARK__NFC:</text>
</a>
</g>
</g>
<!-- EXPOSURE__IBS__DENMARK__NFC&#45;&gt;EL__IBS__DENMARK__NFC -->
<g id="edge100" class="edge">
<title>EXPOSURE__IBS__DENMARK__NFC&#45;&gt;EL__IBS__DENMARK__NFC</title>
<g id="a_edge100"><a xlink:href="bogus" xlink:title="NA">
<path fill="none" stroke="black" stroke-width="0.5" d="M781.72,-2567.39C864.6,-2558.36 973.66,-2546.46 1052.79,-2537.84"/>
<polygon fill="black" stroke="black" stroke-width="0.5" points="1052.95,-2541.34 1062.51,-2536.78 1052.19,-2534.38 1052.95,-2541.34"/>
</a>
</g>
</g>
<!-- PD__IBS__SWEDEN__HOUSEHOLDS(&#45;1) -->
<g id="node60" class="node">
<title>PD__IBS__SWEDEN__HOUSEHOLDS(&#45;1)</title>
<g id="a_node60"><a xlink:title="PD__IBS__SWEDEN__HOUSEHOLDS&#10;FRML &lt;&gt; PD__IBS__SWEDEN__HOUSEHOLDS = 0.02+0.8*PD__IBS__SWEDEN__HOUSEHOLDS(&#45;1)+0.1*GDP_GROWTH__SWEDEN $">
<polygon fill="springgreen" stroke="black" points="1401.3,-2652.5 914.2,-2652.5 914.2,-2616.5 1401.3,-2616.5 1401.3,-2652.5"/>
<text text-anchor="start" x="920" y="-2629.45" font-family="Times New Roman,serif" font-size="14.00" fill="blue">PD__IBS__SWEDEN__HOUSEHOLDS(&#45;1):PD__IBS__SWEDEN__HOUSEHOLDS</text>
</a>
</g>
</g>
<!-- PD__IBS__SWEDEN__HOUSEHOLDS&#45;&gt;PD__IBS__SWEDEN__HOUSEHOLDS(&#45;1) -->
<g id="edge17" class="edge">
<title>PD__IBS__SWEDEN__HOUSEHOLDS&#45;&gt;PD__IBS__SWEDEN__HOUSEHOLDS(&#45;1)</title>
<g id="a_edge17"><a xlink:href="bogus" xlink:title="NA">
<path fill="none" stroke="black" stroke-width="0.5" d="M781.41,-2628.62C818.43,-2628.07 860.7,-2627.78 903.2,-2627.75"/>
<polygon fill="black" stroke="black" stroke-width="0.5" points="902.96,-2631.25 912.96,-2627.75 902.96,-2624.25 902.96,-2631.25"/>
</a>
</g>
</g>
<!-- EL__IBS__SWEDEN__HOUSEHOLDS -->
<g id="node70" class="node">
<title>EL__IBS__SWEDEN__HOUSEHOLDS</title>
<g id="a_node70"><a xlink:title="EL__IBS__SWEDEN__HOUSEHOLDS&#10;FRML &lt;&gt; EL__IBS__SWEDEN__HOUSEHOLDS = EXPOSURE__IBS__SWEDEN__HOUSEHOLDS*PD__IBS__SWEDEN__HOUSEHOLDS*LGD__IBS__SWEDEN__HOUSEHOLDS $">
<polygon fill="#63b8ff" stroke="black" points="1277.92,-2409.5 1037.58,-2409.5 1037.58,-2373.5 1277.92,-2373.5 1277.92,-2409.5"/>
<text text-anchor="start" x="1043.38" y="-2386.45" font-family="Times New Roman,serif" font-size="14.00" fill="blue">EL__IBS__SWEDEN__HOUSEHOLDS:</text>
</a>
</g>
</g>
<!-- PD__IBS__SWEDEN__HOUSEHOLDS&#45;&gt;EL__IBS__SWEDEN__HOUSEHOLDS -->
<g id="edge163" class="edge">
<title>PD__IBS__SWEDEN__HOUSEHOLDS&#45;&gt;EL__IBS__SWEDEN__HOUSEHOLDS</title>
<g id="a_edge163"><a xlink:href="bogus" xlink:title="NA">
<path fill="none" stroke="black" stroke-width="0.5" d="M781.49,-2633.65C799.81,-2628.66 817.18,-2620.46 830.95,-2607.5 884.66,-2556.95 813.91,-2496.75 866.95,-2445.5 908.79,-2405.08 970.61,-2389.91 1026.42,-2385.53"/>
<polygon fill="black" stroke="black" stroke-width="0.5" points="1026.63,-2389.02 1036.38,-2384.87 1026.16,-2382.04 1026.63,-2389.02"/>
</a>
</g>
</g>
<!-- LGD__IBS__SWEDEN__HOUSEHOLDS -->
<g id="node18" class="node">
<title>LGD__IBS__SWEDEN__HOUSEHOLDS</title>
<g id="a_node18"><a xlink:title="LGD__IBS__SWEDEN__HOUSEHOLDS&#10;Exogen">
<polygon fill="yellow" stroke="black" points="786.32,-2436.5 534.72,-2436.5 534.72,-2400.5 786.32,-2400.5 786.32,-2436.5"/>
<text text-anchor="start" x="540.52" y="-2413.45" font-family="Times New Roman,serif" font-size="14.00" fill="blue">LGD__IBS__SWEDEN__HOUSEHOLDS:</text>
</a>
</g>
</g>
<!-- LGD__IBS__SWEDEN__HOUSEHOLDS&#45;&gt;EL__IBS__SWEDEN__HOUSEHOLDS -->
<g id="edge71" class="edge">
<title>LGD__IBS__SWEDEN__HOUSEHOLDS&#45;&gt;EL__IBS__SWEDEN__HOUSEHOLDS</title>
<g id="a_edge71"><a xlink:href="bogus" xlink:title="NA">
<path fill="none" stroke="black" stroke-width="0.5" d="M786.81,-2411.67C860.16,-2407.67 952.62,-2402.63 1026.76,-2398.59"/>
<polygon fill="black" stroke="black" stroke-width="0.5" points="1026.55,-2402.1 1036.34,-2398.06 1026.17,-2395.11 1026.55,-2402.1"/>
</a>
</g>
</g>
<!-- EL__DANSKE__DENMARK__NFC -->
<g id="node19" class="node">
<title>EL__DANSKE__DENMARK__NFC</title>
<g id="a_node19"><a xlink:title="EL__DANSKE__DENMARK__NFC&#10;FRML &lt;&gt; EL__DANSKE__DENMARK__NFC = EXPOSURE__DANSKE__DENMARK__NFC*PD__DANSKE__DENMARK__NFC*LGD__DANSKE__DENMARK__NFC $">
<polygon fill="#63b8ff" stroke="black" points="1268.92,-1140.5 1046.58,-1140.5 1046.58,-1104.5 1268.92,-1104.5 1268.92,-1140.5"/>
<text text-anchor="start" x="1052.38" y="-1117.45" font-family="Times New Roman,serif" font-size="14.00" fill="blue">EL__DANSKE__DENMARK__NFC:</text>
</a>
</g>
</g>
<!-- EL__DANSKE__DENMARK__NFC&#45;&gt;EXPECTED_LOSS_DANSKE -->
<g id="edge160" class="edge">
<title>EL__DANSKE__DENMARK__NFC&#45;&gt;EXPECTED_LOSS_DANSKE</title>
<g id="a_edge160"><a xlink:href="bogus" xlink:title="NA">
<path fill="none" stroke="black" stroke-width="0.5" d="M1269.3,-1137.71C1327.72,-1139.87 1397.65,-1132.47 1448.55,-1095.5 1538.89,-1029.88 1566.4,-887.29 1574.21,-826.21"/>
<polygon fill="black" stroke="black" stroke-width="0.5" points="1577.66,-826.88 1575.37,-816.54 1570.71,-826.06 1577.66,-826.88"/>
</a>
</g>
</g>
<!-- PD__DANSKE__SWEDEN__NFC(&#45;1) -->
<g id="node20" class="node">
<title>PD__DANSKE__SWEDEN__NFC(&#45;1)</title>
<g id="a_node20"><a xlink:title="PD__DANSKE__SWEDEN__NFC&#10;FRML &lt;&gt; PD__DANSKE__SWEDEN__NFC = 0.02+0.8*PD__DANSKE__SWEDEN__NFC(&#45;1)+0.1*GDP_GROWTH__SWEDEN $">
<polygon fill="springgreen" stroke="black" points="1371.3,-276.5 944.2,-276.5 944.2,-240.5 1371.3,-240.5 1371.3,-276.5"/>
<text text-anchor="start" x="950" y="-253.45" font-family="Times New Roman,serif" font-size="14.00" fill="blue">PD__DANSKE__SWEDEN__NFC(&#45;1):PD__DANSKE__SWEDEN__NFC</text>
</a>
</g>
</g>
<!-- PD__DANSKE__SWEDEN__NFC(&#45;1)&#45;&gt;PD__DANSKE__SWEDEN__NFC -->
<g id="edge57" class="edge">
<title>PD__DANSKE__SWEDEN__NFC(&#45;1)&#45;&gt;PD__DANSKE__SWEDEN__NFC</title>
<g id="a_edge57"><a xlink:href="bogus" xlink:title="NA">
<path fill="none" stroke="black" stroke-width="0.5" d="M943.81,-265.19C886.54,-265.39 826.74,-265.09 777.01,-264.31"/>
<polygon fill="black" stroke="black" stroke-width="0.5" points="777.36,-260.82 767.31,-264.15 777.25,-267.82 777.36,-260.82"/>
</a>
</g>
</g>
<!-- PD__NORDEA__DENMARK__HOUSEHOLDS -->
<g id="node21" class="node">
<title>PD__NORDEA__DENMARK__HOUSEHOLDS</title>
<g id="a_node21"><a xlink:title="PD__NORDEA__DENMARK__HOUSEHOLDS&#10;FRML &lt;&gt; PD__NORDEA__DENMARK__HOUSEHOLDS = 0.02+0.8*PD__NORDEA__DENMARK__HOUSEHOLDS(&#45;1)+0.1*GDP_GROWTH__DENMARK $">
<polygon fill="#63b8ff" stroke="black" points="804.7,-2490.5 516.35,-2490.5 516.35,-2454.5 804.7,-2454.5 804.7,-2490.5"/>
<text text-anchor="start" x="522.15" y="-2467.45" font-family="Times New Roman,serif" font-size="14.00" fill="blue">PD__NORDEA__DENMARK__HOUSEHOLDS:</text>
</a>
</g>
</g>
<!-- EL__NORDEA__DENMARK__HOUSEHOLDS -->
<g id="node118" class="node">
<title>EL__NORDEA__DENMARK__HOUSEHOLDS</title>
<g id="a_node118"><a xlink:title="EL__NORDEA__DENMARK__HOUSEHOLDS&#10;FRML &lt;&gt; EL__NORDEA__DENMARK__HOUSEHOLDS = EXPOSURE__NORDEA__DENMARK__HOUSEHOLDS*PD__NORDEA__DENMARK__HOUSEHOLDS*LGD__NORDEA__DENMARK__HOUSEHOLDS $">
<polygon fill="#63b8ff" stroke="black" points="1301.55,-2787.5 1013.95,-2787.5 1013.95,-2751.5 1301.55,-2751.5 1301.55,-2787.5"/>
<text text-anchor="start" x="1019.75" y="-2764.45" font-family="Times New Roman,serif" font-size="14.00" fill="blue">EL__NORDEA__DENMARK__HOUSEHOLDS:</text>
</a>
</g>
</g>
<!-- PD__NORDEA__DENMARK__HOUSEHOLDS&#45;&gt;EL__NORDEA__DENMARK__HOUSEHOLDS -->
<g id="edge126" class="edge">
<title>PD__NORDEA__DENMARK__HOUSEHOLDS&#45;&gt;EL__NORDEA__DENMARK__HOUSEHOLDS</title>
<g id="a_edge126"><a xlink:href="bogus" xlink:title="NA">
<path fill="none" stroke="black" stroke-width="0.5" d="M804.98,-2481.31C814.52,-2485.98 823.34,-2491.94 830.95,-2499.5 900.01,-2568.07 798.79,-2646.03 866.95,-2715.5 902.34,-2751.57 953.53,-2767.85 1003.08,-2774.24"/>
<polygon fill="black" stroke="black" stroke-width="0.5" points="1002.53,-2777.7 1012.87,-2775.37 1003.33,-2770.74 1002.53,-2777.7"/>
</a>
</g>
</g>
<!-- PD__NORDEA__DENMARK__HOUSEHOLDS(&#45;1) -->
<g id="node119" class="node">
<title>PD__NORDEA__DENMARK__HOUSEHOLDS(&#45;1)</title>
<g id="a_node119"><a xlink:title="PD__NORDEA__DENMARK__HOUSEHOLDS&#10;FRML &lt;&gt; PD__NORDEA__DENMARK__HOUSEHOLDS = 0.02+0.8*PD__NORDEA__DENMARK__HOUSEHOLDS(&#45;1)+0.1*GDP_GROWTH__DENMARK $">
<polygon fill="springgreen" stroke="black" points="1448.55,-2490.5 866.95,-2490.5 866.95,-2454.5 1448.55,-2454.5 1448.55,-2490.5"/>
<text text-anchor="start" x="872.75" y="-2467.45" font-family="Times New Roman,serif" font-size="14.00" fill="blue">PD__NORDEA__DENMARK__HOUSEHOLDS(&#45;1):PD__NORDEA__DENMARK__HOUSEHOLDS</text>
</a>
</g>
</g>
<!-- PD__NORDEA__DENMARK__HOUSEHOLDS&#45;&gt;PD__NORDEA__DENMARK__HOUSEHOLDS(&#45;1) -->
<g id="edge168" class="edge">
<title>PD__NORDEA__DENMARK__HOUSEHOLDS&#45;&gt;PD__NORDEA__DENMARK__HOUSEHOLDS(&#45;1)</title>
<g id="a_edge168"><a xlink:href="bogus" xlink:title="NA">
<path fill="none" stroke="black" stroke-width="0.5" d="M805.1,-2466.31C821.57,-2466.12 838.8,-2465.98 856.4,-2465.89"/>
<polygon fill="black" stroke="black" stroke-width="0.5" points="856.06,-2469.39 866.04,-2465.84 856.02,-2462.39 856.06,-2469.39"/>
</a>
</g>
</g>
<!-- EXPOSURE__NORDEA__DENMARK__RE -->
<g id="node22" class="node">
<title>EXPOSURE__NORDEA__DENMARK__RE</title>
<g id="a_node22"><a xlink:title="EXPOSURE__NORDEA__DENMARK__RE&#10;Exogen">
<polygon fill="yellow" stroke="black" points="794.57,-3570.5 526.47,-3570.5 526.47,-3534.5 794.57,-3534.5 794.57,-3570.5"/>
<text text-anchor="start" x="532.27" y="-3547.45" font-family="Times New Roman,serif" font-size="14.00" fill="blue">EXPOSURE__NORDEA__DENMARK__RE:</text>
</a>
</g>
</g>
<!-- EXPOSURE__NORDEA__DENMARK__RE&#45;&gt;EL__NORDEA__DENMARK__RE -->
<g id="edge129" class="edge">
<title>EXPOSURE__NORDEA__DENMARK__RE&#45;&gt;EL__NORDEA__DENMARK__RE</title>
<g id="a_edge129"><a xlink:href="bogus" xlink:title="NA">
<path fill="none" stroke="black" stroke-width="0.5" d="M794.89,-3552.5C871.21,-3552.5 966.07,-3552.5 1039.52,-3552.5"/>
<polygon fill="black" stroke="black" stroke-width="0.5" points="1039.44,-3556 1049.44,-3552.5 1039.44,-3549 1039.44,-3556"/>
</a>
</g>
</g>
<!-- EL__DANSKE__SWEDEN__NFC -->
<g id="node23" class="node">
<title>EL__DANSKE__SWEDEN__NFC</title>
<g id="a_node23"><a xlink:title="EL__DANSKE__SWEDEN__NFC&#10;FRML &lt;&gt; EL__DANSKE__SWEDEN__NFC = EXPOSURE__DANSKE__SWEDEN__NFC*PD__DANSKE__SWEDEN__NFC*LGD__DANSKE__SWEDEN__NFC $">
<polygon fill="#63b8ff" stroke="black" points="1262.92,-964.5 1052.58,-964.5 1052.58,-928.5 1262.92,-928.5 1262.92,-964.5"/>
<text text-anchor="start" x="1058.38" y="-941.45" font-family="Times New Roman,serif" font-size="14.00" fill="blue">EL__DANSKE__SWEDEN__NFC:</text>
</a>
</g>
</g>
<!-- EL__DANSKE__SWEDEN__NFC&#45;&gt;EXPECTED_LOSS_DANSKE -->
<g id="edge133" class="edge">
<title>EL__DANSKE__SWEDEN__NFC&#45;&gt;EXPECTED_LOSS_DANSKE</title>
<g id="a_edge133"><a xlink:href="bogus" xlink:title="NA">
<path fill="none" stroke="black" stroke-width="0.5" d="M1242.75,-928.07C1301.46,-913.97 1381.1,-892.4 1448.55,-865.5 1479.53,-853.14 1512.78,-835.43 1537.69,-821.18"/>
<polygon fill="black" stroke="black" stroke-width="0.5" points="1539.25,-824.32 1546.16,-816.28 1535.75,-818.26 1539.25,-824.32"/>
</a>
</g>
</g>
<!-- PD__DANSKE__SWEDEN__SOV&#45;&gt;EL__DANSKE__SWEDEN__SOV -->
<g id="edge55" class="edge">
<title>PD__DANSKE__SWEDEN__SOV&#45;&gt;EL__DANSKE__SWEDEN__SOV</title>
<g id="a_edge55"><a xlink:href="bogus" xlink:title="NA">
<path fill="none" stroke="black" stroke-width="0.5" d="M766.31,-38.73C790.39,-42.96 813.9,-52.01 830.95,-69.5 915.46,-156.19 783.59,-251.71 866.95,-339.5 911,-385.89 981.12,-399.85 1041.36,-401.99"/>
<polygon fill="black" stroke="black" stroke-width="0.5" points="1041.25,-405.49 1051.33,-402.24 1041.42,-398.49 1041.25,-405.49"/>
</a>
</g>
</g>
<!-- PD__DANSKE__SWEDEN__SOV(&#45;1) -->
<g id="node123" class="node">
<title>PD__DANSKE__SWEDEN__SOV(&#45;1)</title>
<g id="a_node123"><a xlink:title="PD__DANSKE__SWEDEN__SOV&#10;FRML &lt;&gt; PD__DANSKE__SWEDEN__SOV = 0.02+0.8*PD__DANSKE__SWEDEN__SOV(&#45;1)+0.1*GDP_GROWTH__SWEDEN $">
<polygon fill="springgreen" stroke="black" points="1372.05,-60.5 943.45,-60.5 943.45,-24.5 1372.05,-24.5 1372.05,-60.5"/>
<text text-anchor="start" x="949.25" y="-37.45" font-family="Times New Roman,serif" font-size="14.00" fill="blue">PD__DANSKE__SWEDEN__SOV(&#45;1):PD__DANSKE__SWEDEN__SOV</text>
</a>
</g>
</g>
<!-- PD__DANSKE__SWEDEN__SOV&#45;&gt;PD__DANSKE__SWEDEN__SOV(&#45;1) -->
<g id="edge158" class="edge">
<title>PD__DANSKE__SWEDEN__SOV&#45;&gt;PD__DANSKE__SWEDEN__SOV(&#45;1)</title>
<g id="a_edge158"><a xlink:href="bogus" xlink:title="NA">
<path fill="none" stroke="black" stroke-width="0.5" d="M766.55,-36.86C815.1,-36.01 874.73,-35.64 932.64,-35.78"/>
<polygon fill="black" stroke="black" stroke-width="0.5" points="932.29,-39.28 942.3,-35.8 932.31,-32.28 932.29,-39.28"/>
</a>
</g>
</g>
<!-- LGD__NORDEA__SWEDEN__SOV -->
<g id="node25" class="node">
<title>LGD__NORDEA__SWEDEN__SOV</title>
<g id="a_node25"><a xlink:title="LGD__NORDEA__SWEDEN__SOV&#10;Exogen">
<polygon fill="yellow" stroke="black" points="772.07,-3462.5 548.97,-3462.5 548.97,-3426.5 772.07,-3426.5 772.07,-3462.5"/>
<text text-anchor="start" x="554.77" y="-3439.45" font-family="Times New Roman,serif" font-size="14.00" fill="blue">LGD__NORDEA__SWEDEN__SOV:</text>
</a>
</g>
</g>
<!-- LGD__NORDEA__SWEDEN__SOV&#45;&gt;EL__NORDEA__SWEDEN__SOV -->
<g id="edge54" class="edge">
<title>LGD__NORDEA__SWEDEN__SOV&#45;&gt;EL__NORDEA__SWEDEN__SOV</title>
<g id="a_edge54"><a xlink:href="bogus" xlink:title="NA">
<path fill="none" stroke="black" stroke-width="0.5" d="M772.35,-3432.41C852.33,-3423.69 960.05,-3411.95 1041.11,-3403.11"/>
<polygon fill="black" stroke="black" stroke-width="0.5" points="1041.05,-3406.64 1050.61,-3402.07 1040.29,-3399.68 1041.05,-3406.64"/>
</a>
</g>
</g>
<!-- GDP_GROWTH__DENMARK -->
<g id="node26" class="node">
<title>GDP_GROWTH__DENMARK</title>
<g id="a_node26"><a xlink:title="GDP_GROWTH__DENMARK&#10;Exogen">
<polygon fill="yellow" stroke="black" points="322.85,-1721.5 131.25,-1721.5 131.25,-1685.5 322.85,-1685.5 322.85,-1721.5"/>
<text text-anchor="start" x="137.05" y="-1698.45" font-family="Times New Roman,serif" font-size="14.00" fill="blue">GDP_GROWTH__DENMARK:</text>
</a>
</g>
</g>
<!-- GDP_GROWTH__DENMARK&#45;&gt;PD__NORDEA__DENMARK__HOUSEHOLDS -->
<g id="edge81" class="edge">
<title>GDP_GROWTH__DENMARK&#45;&gt;PD__NORDEA__DENMARK__HOUSEHOLDS</title>
<g id="a_edge81"><a xlink:href="bogus" xlink:title="NA">
<path fill="none" stroke="black" stroke-width="0.5" d="M228.2,-1721.95C230.03,-1816.16 251.58,-2246.76 490.1,-2445.5 495.28,-2449.82 500.87,-2453.58 506.76,-2456.86"/>
<polygon fill="black" stroke="black" stroke-width="0.5" points="505.05,-2459.92 515.56,-2461.27 508.19,-2453.66 505.05,-2459.92"/>
</a>
</g>
</g>
<!-- PD__IBS__DENMARK__HOUSEHOLDS -->
<g id="node30" class="node">
<title>PD__IBS__DENMARK__HOUSEHOLDS</title>
<g id="a_node30"><a xlink:title="PD__IBS__DENMARK__HOUSEHOLDS&#10;FRML &lt;&gt; PD__IBS__DENMARK__HOUSEHOLDS = 0.02+0.8*PD__IBS__DENMARK__HOUSEHOLDS(&#45;1)+0.1*GDP_GROWTH__DENMARK $">
<polygon fill="#63b8ff" stroke="black" points="787.07,-1518.5 533.97,-1518.5 533.97,-1482.5 787.07,-1482.5 787.07,-1518.5"/>
<text text-anchor="start" x="539.77" y="-1495.45" font-family="Times New Roman,serif" font-size="14.00" fill="blue">PD__IBS__DENMARK__HOUSEHOLDS:</text>
</a>
</g>
</g>
<!-- GDP_GROWTH__DENMARK&#45;&gt;PD__IBS__DENMARK__HOUSEHOLDS -->
<g id="edge167" class="edge">
<title>GDP_GROWTH__DENMARK&#45;&gt;PD__IBS__DENMARK__HOUSEHOLDS</title>
<g id="a_edge167"><a xlink:href="bogus" xlink:title="NA">
<path fill="none" stroke="black" stroke-width="0.5" d="M248.33,-1685.23C290.15,-1648.68 390.39,-1566.72 490.1,-1527.5 500.82,-1523.28 512.17,-1519.73 523.71,-1516.72"/>
<polygon fill="black" stroke="black" stroke-width="0.5" points="524.27,-1520.19 533.15,-1514.4 522.61,-1513.39 524.27,-1520.19"/>
</a>
</g>
</g>
<!-- PD__DANSKE__DENMARK__HOUSEHOLDS -->
<g id="node46" class="node">
<title>PD__DANSKE__DENMARK__HOUSEHOLDS</title>
<g id="a_node46"><a xlink:title="PD__DANSKE__DENMARK__HOUSEHOLDS&#10;FRML &lt;&gt; PD__DANSKE__DENMARK__HOUSEHOLDS = 0.02+0.8*PD__DANSKE__DENMARK__HOUSEHOLDS(&#45;1)+0.1*GDP_GROWTH__DENMARK $">
<polygon fill="#63b8ff" stroke="black" points="803.95,-1410.5 517.1,-1410.5 517.1,-1374.5 803.95,-1374.5 803.95,-1410.5"/>
<text text-anchor="start" x="522.9" y="-1387.45" font-family="Times New Roman,serif" font-size="14.00" fill="blue">PD__DANSKE__DENMARK__HOUSEHOLDS:</text>
</a>
</g>
</g>
<!-- GDP_GROWTH__DENMARK&#45;&gt;PD__DANSKE__DENMARK__HOUSEHOLDS -->
<g id="edge47" class="edge">
<title>GDP_GROWTH__DENMARK&#45;&gt;PD__DANSKE__DENMARK__HOUSEHOLDS</title>
<g id="a_edge47"><a xlink:href="bogus" xlink:title="NA">
<path fill="none" stroke="black" stroke-width="0.5" d="M268.23,-1685.14C318.99,-1659.92 405.57,-1609.78 454.1,-1541.5 486.85,-1495.42 447.63,-1456.82 490.1,-1419.5 495.44,-1414.81 501.25,-1410.76 507.4,-1407.27"/>
<polygon fill="black" stroke="black" stroke-width="0.5" points="508.66,-1410.56 515.97,-1402.9 505.48,-1404.33 508.66,-1410.56"/>
</a>
</g>
</g>
<!-- PD__DANSKE__DENMARK__SOV -->
<g id="node55" class="node">
<title>PD__DANSKE__DENMARK__SOV</title>
<g id="a_node55"><a xlink:title="PD__DANSKE__DENMARK__SOV&#10;FRML &lt;&gt; PD__DANSKE__DENMARK__SOV = 0.02+0.8*PD__DANSKE__DENMARK__SOV(&#45;1)+0.1*GDP_GROWTH__DENMARK $">
<polygon fill="#63b8ff" stroke="black" points="772.07,-222.5 548.97,-222.5 548.97,-186.5 772.07,-186.5 772.07,-222.5"/>
<text text-anchor="start" x="554.77" y="-199.45" font-family="Times New Roman,serif" font-size="14.00" fill="blue">PD__DANSKE__DENMARK__SOV:</text>
</a>
</g>
</g>
<!-- GDP_GROWTH__DENMARK&#45;&gt;PD__DANSKE__DENMARK__SOV -->
<g id="edge30" class="edge">
<title>GDP_GROWTH__DENMARK&#45;&gt;PD__DANSKE__DENMARK__SOV</title>
<g id="a_edge30"><a xlink:href="bogus" xlink:title="NA">
<path fill="none" stroke="black" stroke-width="0.5" d="M275.37,-1685.06C329.57,-1661.08 415.83,-1613.56 454.1,-1541.5 488.25,-1477.2 442.09,-286.23 490.1,-231.5 502.78,-217.05 519.83,-208.17 538.25,-202.97"/>
<polygon fill="black" stroke="black" stroke-width="0.5" points="538.99,-206.39 547.87,-200.62 537.33,-199.59 538.99,-206.39"/>
</a>
</g>
</g>
<!-- PD__DANSKE__DENMARK__RE -->
<g id="node67" class="node">
<title>PD__DANSKE__DENMARK__RE</title>
<g id="a_node67"><a xlink:title="PD__DANSKE__DENMARK__RE&#10;FRML &lt;&gt; PD__DANSKE__DENMARK__RE = 0.02+0.8*PD__DANSKE__DENMARK__RE(&#45;1)+0.1*GDP_GROWTH__DENMARK $">
<polygon fill="#63b8ff" stroke="black" points="767.57,-600.5 553.47,-600.5 553.47,-564.5 767.57,-564.5 767.57,-600.5"/>
<text text-anchor="start" x="559.27" y="-577.45" font-family="Times New Roman,serif" font-size="14.00" fill="blue">PD__DANSKE__DENMARK__RE:</text>
</a>
</g>
</g>
<!-- GDP_GROWTH__DENMARK&#45;&gt;PD__DANSKE__DENMARK__RE -->
<g id="edge97" class="edge">
<title>GDP_GROWTH__DENMARK&#45;&gt;PD__DANSKE__DENMARK__RE</title>
<g id="a_edge97"><a xlink:href="bogus" xlink:title="NA">
<path fill="none" stroke="black" stroke-width="0.5" d="M274.75,-1685.19C328.79,-1661.22 415.31,-1613.56 454.1,-1541.5 503.22,-1450.25 421.32,-687.02 490.1,-609.5 503.88,-593.97 522.72,-584.89 542.85,-579.91"/>
<polygon fill="black" stroke="black" stroke-width="0.5" points="543.34,-583.38 552.4,-577.88 541.89,-576.53 543.34,-583.38"/>
</a>
</g>
</g>
<!-- PD__IBS__DENMARK__NFC -->
<g id="node74" class="node">
<title>PD__IBS__DENMARK__NFC</title>
<g id="a_node74"><a xlink:title="PD__IBS__DENMARK__NFC&#10;FRML &lt;&gt; PD__IBS__DENMARK__NFC = 0.02+0.8*PD__IBS__DENMARK__NFC(&#45;1)+0.1*GDP_GROWTH__DENMARK $">
<polygon fill="#63b8ff" stroke="black" points="755.2,-2112.5 565.85,-2112.5 565.85,-2076.5 755.2,-2076.5 755.2,-2112.5"/>
<text text-anchor="start" x="571.65" y="-2089.45" font-family="Times New Roman,serif" font-size="14.00" fill="blue">PD__IBS__DENMARK__NFC:</text>
</a>
</g>
</g>
<!-- GDP_GROWTH__DENMARK&#45;&gt;PD__IBS__DENMARK__NFC -->
<g id="edge50" class="edge">
<title>GDP_GROWTH__DENMARK&#45;&gt;PD__IBS__DENMARK__NFC</title>
<g id="a_edge50"><a xlink:href="bogus" xlink:title="NA">
<path fill="none" stroke="black" stroke-width="0.5" d="M235.1,-1721.76C259.62,-1782.62 347.59,-1979.65 490.1,-2067.5 509.56,-2079.5 532.58,-2086.73 555.27,-2090.97"/>
<polygon fill="black" stroke="black" stroke-width="0.5" points="554.48,-2094.38 564.92,-2092.59 555.64,-2087.48 554.48,-2094.38"/>
</a>
</g>
</g>
<!-- PD__IBS__DENMARK__RE -->
<g id="node84" class="node">
<title>PD__IBS__DENMARK__RE</title>
<g id="a_node84"><a xlink:title="PD__IBS__DENMARK__RE&#10;FRML &lt;&gt; PD__IBS__DENMARK__RE = 0.02+0.8*PD__IBS__DENMARK__RE(&#45;1)+0.1*GDP_GROWTH__DENMARK $">
<polygon fill="#63b8ff" stroke="black" points="750.7,-1788.5 570.35,-1788.5 570.35,-1752.5 750.7,-1752.5 750.7,-1788.5"/>
<text text-anchor="start" x="576.15" y="-1765.45" font-family="Times New Roman,serif" font-size="14.00" fill="blue">PD__IBS__DENMARK__RE:</text>
</a>
</g>
</g>
<!-- GDP_GROWTH__DENMARK&#45;&gt;PD__IBS__DENMARK__RE -->
<g id="edge145" class="edge">
<title>GDP_GROWTH__DENMARK&#45;&gt;PD__IBS__DENMARK__RE</title>
<g id="a_edge145"><a xlink:href="bogus" xlink:title="NA">
<path fill="none" stroke="black" stroke-width="0.5" d="M323.27,-1718.29C393.41,-1729.18 488.56,-1743.95 559.75,-1755.01"/>
<polygon fill="black" stroke="black" stroke-width="0.5" points="558.9,-1758.42 569.32,-1756.49 559.98,-1751.5 558.9,-1758.42"/>
</a>
</g>
</g>
<!-- PD__NORDEA__DENMARK__RE -->
<g id="node90" class="node">
<title>PD__NORDEA__DENMARK__RE</title>
<g id="a_node90"><a xlink:title="PD__NORDEA__DENMARK__RE&#10;FRML &lt;&gt; PD__NORDEA__DENMARK__RE = 0.02+0.8*PD__NORDEA__DENMARK__RE(&#45;1)+0.1*GDP_GROWTH__DENMARK $">
<polygon fill="#63b8ff" stroke="black" points="768.32,-3354.5 552.72,-3354.5 552.72,-3318.5 768.32,-3318.5 768.32,-3354.5"/>
<text text-anchor="start" x="558.52" y="-3331.45" font-family="Times New Roman,serif" font-size="14.00" fill="blue">PD__NORDEA__DENMARK__RE:</text>
</a>
</g>
</g>
<!-- GDP_GROWTH__DENMARK&#45;&gt;PD__NORDEA__DENMARK__RE -->
<g id="edge135" class="edge">
<title>GDP_GROWTH__DENMARK&#45;&gt;PD__NORDEA__DENMARK__RE</title>
<g id="a_edge135"><a xlink:href="bogus" xlink:title="NA">
<path fill="none" stroke="black" stroke-width="0.5" d="M232.04,-1721.79C256.26,-1833.47 384.89,-2435 454.1,-2931.5 465.75,-3015.07 432.35,-3247.98 490.1,-3309.5 503.99,-3324.29 522.48,-3333.13 542.15,-3338.12"/>
<polygon fill="black" stroke="black" stroke-width="0.5" points="541.26,-3341.51 551.78,-3340.23 542.76,-3334.67 541.26,-3341.51"/>
</a>
</g>
</g>
<!-- PD__IBS__DENMARK__SOV -->
<g id="node93" class="node">
<title>PD__IBS__DENMARK__SOV</title>
<g id="a_node93"><a xlink:title="PD__IBS__DENMARK__SOV&#10;FRML &lt;&gt; PD__IBS__DENMARK__SOV = 0.02+0.8*PD__IBS__DENMARK__SOV(&#45;1)+0.1*GDP_GROWTH__DENMARK $">
<polygon fill="#63b8ff" stroke="black" points="755.2,-1248.5 565.85,-1248.5 565.85,-1212.5 755.2,-1212.5 755.2,-1248.5"/>
<text text-anchor="start" x="571.65" y="-1225.45" font-family="Times New Roman,serif" font-size="14.00" fill="blue">PD__IBS__DENMARK__SOV:</text>
</a>
</g>
</g>
<!-- GDP_GROWTH__DENMARK&#45;&gt;PD__IBS__DENMARK__SOV -->
<g id="edge152" class="edge">
<title>GDP_GROWTH__DENMARK&#45;&gt;PD__IBS__DENMARK__SOV</title>
<g id="a_edge152"><a xlink:href="bogus" xlink:title="NA">
<path fill="none" stroke="black" stroke-width="0.5" d="M272.75,-1685.02C325.67,-1660.59 411.95,-1612.21 454.1,-1541.5 519.25,-1432.21 401.58,-1348.89 490.1,-1257.5 507.23,-1239.81 530.98,-1230.73 555.27,-1226.54"/>
<polygon fill="black" stroke="black" stroke-width="0.5" points="555.55,-1230.04 564.95,-1225.15 554.55,-1223.11 555.55,-1230.04"/>
</a>
</g>
</g>
<!-- GDP_GROWTH__DENMARK&#45;&gt;PD__NORDEA__DENMARK__NFC -->
<g id="edge101" class="edge">
<title>GDP_GROWTH__DENMARK&#45;&gt;PD__NORDEA__DENMARK__NFC</title>
<g id="a_edge101"><a xlink:href="bogus" xlink:title="NA">
<path fill="none" stroke="black" stroke-width="0.5" d="M229.18,-1721.57C238.24,-1860.21 303.52,-2754.42 490.1,-2931.5 503.28,-2944.01 519.81,-2952.09 537.33,-2957.15"/>
<polygon fill="black" stroke="black" stroke-width="0.5" points="536.46,-2960.54 547.02,-2959.6 538.18,-2953.75 536.46,-2960.54"/>
</a>
</g>
</g>
<!-- PD__DANSKE__DENMARK__NFC -->
<g id="node120" class="node">
<title>PD__DANSKE__DENMARK__NFC</title>
<g id="a_node120"><a xlink:title="PD__DANSKE__DENMARK__NFC&#10;FRML &lt;&gt; PD__DANSKE__DENMARK__NFC = 0.02+0.8*PD__DANSKE__DENMARK__NFC(&#45;1)+0.1*GDP_GROWTH__DENMARK $">
<polygon fill="#63b8ff" stroke="black" points="772.07,-330.5 548.97,-330.5 548.97,-294.5 772.07,-294.5 772.07,-330.5"/>
<text text-anchor="start" x="554.77" y="-307.45" font-family="Times New Roman,serif" font-size="14.00" fill="blue">PD__DANSKE__DENMARK__NFC:</text>
</a>
</g>
</g>
<!-- GDP_GROWTH__DENMARK&#45;&gt;PD__DANSKE__DENMARK__NFC -->
<g id="edge22" class="edge">
<title>GDP_GROWTH__DENMARK&#45;&gt;PD__DANSKE__DENMARK__NFC</title>
<g id="a_edge22"><a xlink:href="bogus" xlink:title="NA">
<path fill="none" stroke="black" stroke-width="0.5" d="M275.34,-1685.04C329.51,-1661.05 415.74,-1613.52 454.1,-1541.5 516.92,-1423.57 401.86,-439.83 490.1,-339.5 502.8,-325.06 519.86,-316.19 538.28,-310.99"/>
<polygon fill="black" stroke="black" stroke-width="0.5" points="539.02,-314.42 547.9,-308.65 537.36,-307.62 539.02,-314.42"/>
</a>
</g>
</g>
<!-- PD__NORDEA__DENMARK__SOV -->
<g id="node121" class="node">
<title>PD__NORDEA__DENMARK__SOV</title>
<g id="a_node121"><a xlink:title="PD__NORDEA__DENMARK__SOV&#10;FRML &lt;&gt; PD__NORDEA__DENMARK__SOV = 0.02+0.8*PD__NORDEA__DENMARK__SOV(&#45;1)+0.1*GDP_GROWTH__DENMARK $">
<polygon fill="#63b8ff" stroke="black" points="772.82,-3516.5 548.22,-3516.5 548.22,-3480.5 772.82,-3480.5 772.82,-3516.5"/>
<text text-anchor="start" x="554.02" y="-3493.45" font-family="Times New Roman,serif" font-size="14.00" fill="blue">PD__NORDEA__DENMARK__SOV:</text>
</a>
</g>
</g>
<!-- GDP_GROWTH__DENMARK&#45;&gt;PD__NORDEA__DENMARK__SOV -->
<g id="edge124" class="edge">
<title>GDP_GROWTH__DENMARK&#45;&gt;PD__NORDEA__DENMARK__SOV</title>
<g id="a_edge124"><a xlink:href="bogus" xlink:title="NA">
<path fill="none" stroke="black" stroke-width="0.5" d="M232.24,-1721.77C257.63,-1833.28 391.95,-2434.07 454.1,-2931.5 461.56,-2991.17 449.57,-3427.08 490.1,-3471.5 502.75,-3485.36 519.43,-3494.03 537.39,-3499.23"/>
<polygon fill="black" stroke="black" stroke-width="0.5" points="536.5,-3502.62 547.05,-3501.66 538.2,-3495.83 536.5,-3502.62"/>
</a>
</g>
</g>
<!-- LGD__NORDEA__SWEDEN__HOUSEHOLDS -->
<g id="node27" class="node">
<title>LGD__NORDEA__SWEDEN__HOUSEHOLDS</title>
<g id="a_node27"><a xlink:title="LGD__NORDEA__SWEDEN__HOUSEHOLDS&#10;Exogen">
<polygon fill="yellow" stroke="black" points="803.95,-3246.5 517.1,-3246.5 517.1,-3210.5 803.95,-3210.5 803.95,-3246.5"/>
<text text-anchor="start" x="522.9" y="-3223.45" font-family="Times New Roman,serif" font-size="14.00" fill="blue">LGD__NORDEA__SWEDEN__HOUSEHOLDS:</text>
</a>
</g>
</g>
<!-- LGD__NORDEA__SWEDEN__HOUSEHOLDS&#45;&gt;EL__NORDEA__SWEDEN__HOUSEHOLDS -->
<g id="edge13" class="edge">
<title>LGD__NORDEA__SWEDEN__HOUSEHOLDS&#45;&gt;EL__NORDEA__SWEDEN__HOUSEHOLDS</title>
<g id="a_edge13"><a xlink:href="bogus" xlink:title="NA">
<path fill="none" stroke="black" stroke-width="0.5" d="M804.43,-3232.25C868.57,-3233.94 944.2,-3235.92 1008.91,-3237.62"/>
<polygon fill="black" stroke="black" stroke-width="0.5" points="1008.77,-3241.12 1018.86,-3237.88 1008.96,-3234.12 1008.77,-3241.12"/>
</a>
</g>
</g>
<!-- PD__IBS__DENMARK__SOV(&#45;1) -->
<g id="node28" class="node">
<title>PD__IBS__DENMARK__SOV(&#45;1)</title>
<g id="a_node28"><a xlink:title="PD__IBS__DENMARK__SOV&#10;FRML &lt;&gt; PD__IBS__DENMARK__SOV = 0.02+0.8*PD__IBS__DENMARK__SOV(&#45;1)+0.1*GDP_GROWTH__DENMARK $">
<polygon fill="springgreen" stroke="black" points="1350.3,-1248.5 965.2,-1248.5 965.2,-1212.5 1350.3,-1212.5 1350.3,-1248.5"/>
<text text-anchor="start" x="971" y="-1225.45" font-family="Times New Roman,serif" font-size="14.00" fill="blue">PD__IBS__DENMARK__SOV(&#45;1):PD__IBS__DENMARK__SOV</text>
</a>
</g>
</g>
<!-- PD__IBS__DENMARK__SOV(&#45;1)&#45;&gt;PD__IBS__DENMARK__SOV -->
<g id="edge116" class="edge">
<title>PD__IBS__DENMARK__SOV(&#45;1)&#45;&gt;PD__IBS__DENMARK__SOV</title>
<g id="a_edge116"><a xlink:href="bogus" xlink:title="NA">
<path fill="none" stroke="black" stroke-width="0.5" d="M964.92,-1237.1C897.3,-1237.48 823.84,-1237.15 766.13,-1236.13"/>
<polygon fill="black" stroke="black" stroke-width="0.5" points="766.37,-1232.63 756.3,-1235.94 766.24,-1239.63 766.37,-1232.63"/>
</a>
</g>
</g>
<!-- PD__DANSKE__SWEDEN__HOUSEHOLDS(&#45;1) -->
<g id="node29" class="node">
<title>PD__DANSKE__SWEDEN__HOUSEHOLDS(&#45;1)</title>
<g id="a_node29"><a xlink:title="PD__DANSKE__SWEDEN__HOUSEHOLDS&#10;FRML &lt;&gt; PD__DANSKE__SWEDEN__HOUSEHOLDS = 0.02+0.8*PD__DANSKE__SWEDEN__HOUSEHOLDS(&#45;1)+0.1*GDP_GROWTH__SWEDEN $">
<polygon fill="springgreen" stroke="black" points="1435.05,-114.5 880.45,-114.5 880.45,-78.5 1435.05,-78.5 1435.05,-114.5"/>
<text text-anchor="start" x="886.25" y="-91.45" font-family="Times New Roman,serif" font-size="14.00" fill="blue">PD__DANSKE__SWEDEN__HOUSEHOLDS(&#45;1):PD__DANSKE__SWEDEN__HOUSEHOLDS</text>
</a>
</g>
</g>
<!-- PD__DANSKE__SWEDEN__HOUSEHOLDS(&#45;1)&#45;&gt;PD__DANSKE__SWEDEN__HOUSEHOLDS -->
<g id="edge110" class="edge">
<title>PD__DANSKE__SWEDEN__HOUSEHOLDS(&#45;1)&#45;&gt;PD__DANSKE__SWEDEN__HOUSEHOLDS</title>
<g id="a_edge110"><a xlink:href="bogus" xlink:title="NA">
<path fill="none" stroke="black" stroke-width="0.5" d="M880.02,-103.21C855.58,-103.14 831.53,-102.98 808.84,-102.73"/>
<polygon fill="black" stroke="black" stroke-width="0.5" points="808.96,-99.23 798.92,-102.62 808.87,-106.23 808.96,-99.23"/>
</a>
</g>
</g>
<!-- PD__IBS__DENMARK__HOUSEHOLDS(&#45;1) -->
<g id="node56" class="node">
<title>PD__IBS__DENMARK__HOUSEHOLDS(&#45;1)</title>
<g id="a_node56"><a xlink:title="PD__IBS__DENMARK__HOUSEHOLDS&#10;FRML &lt;&gt; PD__IBS__DENMARK__HOUSEHOLDS = 0.02+0.8*PD__IBS__DENMARK__HOUSEHOLDS(&#45;1)+0.1*GDP_GROWTH__DENMARK $">
<polygon fill="springgreen" stroke="black" points="1413.3,-1518.5 902.2,-1518.5 902.2,-1482.5 1413.3,-1482.5 1413.3,-1518.5"/>
<text text-anchor="start" x="908" y="-1495.45" font-family="Times New Roman,serif" font-size="14.00" fill="blue">PD__IBS__DENMARK__HOUSEHOLDS(&#45;1):PD__IBS__DENMARK__HOUSEHOLDS</text>
</a>
</g>
</g>
<!-- PD__IBS__DENMARK__HOUSEHOLDS&#45;&gt;PD__IBS__DENMARK__HOUSEHOLDS(&#45;1) -->
<g id="edge80" class="edge">
<title>PD__IBS__DENMARK__HOUSEHOLDS&#45;&gt;PD__IBS__DENMARK__HOUSEHOLDS(&#45;1)</title>
<g id="a_edge80"><a xlink:href="bogus" xlink:title="NA">
<path fill="none" stroke="black" stroke-width="0.5" d="M787.45,-1494.53C819.4,-1494.09 854.95,-1493.83 891.01,-1493.77"/>
<polygon fill="black" stroke="black" stroke-width="0.5" points="890.95,-1497.27 900.95,-1493.75 890.94,-1490.27 890.95,-1497.27"/>
</a>
</g>
</g>
<!-- EL__IBS__DENMARK__HOUSEHOLDS -->
<g id="node113" class="node">
<title>EL__IBS__DENMARK__HOUSEHOLDS</title>
<g id="a_node113"><a xlink:title="EL__IBS__DENMARK__HOUSEHOLDS&#10;FRML &lt;&gt; EL__IBS__DENMARK__HOUSEHOLDS = EXPOSURE__IBS__DENMARK__HOUSEHOLDS*PD__IBS__DENMARK__HOUSEHOLDS*LGD__IBS__DENMARK__HOUSEHOLDS $">
<polygon fill="#63b8ff" stroke="black" points="1283.92,-1599.5 1031.58,-1599.5 1031.58,-1563.5 1283.92,-1563.5 1283.92,-1599.5"/>
<text text-anchor="start" x="1037.38" y="-1576.45" font-family="Times New Roman,serif" font-size="14.00" fill="blue">EL__IBS__DENMARK__HOUSEHOLDS:</text>
</a>
</g>
</g>
<!-- PD__IBS__DENMARK__HOUSEHOLDS&#45;&gt;EL__IBS__DENMARK__HOUSEHOLDS -->
<g id="edge149" class="edge">
<title>PD__IBS__DENMARK__HOUSEHOLDS&#45;&gt;EL__IBS__DENMARK__HOUSEHOLDS</title>
<g id="a_edge149"><a xlink:href="bogus" xlink:title="NA">
<path fill="none" stroke="black" stroke-width="0.5" d="M778.2,-1519C795.88,-1521.83 813.9,-1524.73 830.95,-1527.5 898.76,-1538.52 974.46,-1551.06 1035.82,-1561.27"/>
<polygon fill="black" stroke="black" stroke-width="0.5" points="1035.13,-1564.71 1045.57,-1562.9 1036.28,-1557.8 1035.13,-1564.71"/>
</a>
</g>
</g>
<!-- EXPOSURE__IBS__SWEDEN__SOV -->
<g id="node31" class="node">
<title>EXPOSURE__IBS__SWEDEN__SOV</title>
<g id="a_node31"><a xlink:title="EXPOSURE__IBS__SWEDEN__SOV&#10;Exogen">
<polygon fill="yellow" stroke="black" points="775.45,-1734.5 545.6,-1734.5 545.6,-1698.5 775.45,-1698.5 775.45,-1734.5"/>
<text text-anchor="start" x="551.4" y="-1711.45" font-family="Times New Roman,serif" font-size="14.00" fill="blue">EXPOSURE__IBS__SWEDEN__SOV:</text>
</a>
</g>
</g>
<!-- EL__IBS__SWEDEN__SOV -->
<g id="node97" class="node">
<title>EL__IBS__SWEDEN__SOV</title>
<g id="a_node97"><a xlink:title="EL__IBS__SWEDEN__SOV&#10;FRML &lt;&gt; EL__IBS__SWEDEN__SOV = EXPOSURE__IBS__SWEDEN__SOV*PD__IBS__SWEDEN__SOV*LGD__IBS__SWEDEN__SOV $">
<polygon fill="#63b8ff" stroke="black" points="1246.05,-1707.5 1069.45,-1707.5 1069.45,-1671.5 1246.05,-1671.5 1246.05,-1707.5"/>
<text text-anchor="start" x="1075.25" y="-1684.45" font-family="Times New Roman,serif" font-size="14.00" fill="blue">EL__IBS__SWEDEN__SOV:</text>
</a>
</g>
</g>
<!-- EXPOSURE__IBS__SWEDEN__SOV&#45;&gt;EL__IBS__SWEDEN__SOV -->
<g id="edge157" class="edge">
<title>EXPOSURE__IBS__SWEDEN__SOV&#45;&gt;EL__IBS__SWEDEN__SOV</title>
<g id="a_edge157"><a xlink:href="bogus" xlink:title="NA">
<path fill="none" stroke="black" stroke-width="0.5" d="M775.76,-1710.27C861.37,-1705.6 977.28,-1699.28 1058.7,-1694.85"/>
<polygon fill="black" stroke="black" stroke-width="0.5" points="1058.4,-1698.37 1068.2,-1694.33 1058.02,-1691.38 1058.4,-1698.37"/>
</a>
</g>
</g>
<!-- EXPOSURE__DANSKE__DENMARK__RE -->
<g id="node32" class="node">
<title>EXPOSURE__DANSKE__DENMARK__RE</title>
<g id="a_node32"><a xlink:title="EXPOSURE__DANSKE__DENMARK__RE&#10;Exogen">
<polygon fill="yellow" stroke="black" points="793.82,-1356.5 527.22,-1356.5 527.22,-1320.5 793.82,-1320.5 793.82,-1356.5"/>
<text text-anchor="start" x="533.02" y="-1333.45" font-family="Times New Roman,serif" font-size="14.00" fill="blue">EXPOSURE__DANSKE__DENMARK__RE:</text>
</a>
</g>
</g>
<!-- EXPOSURE__DANSKE__DENMARK__RE&#45;&gt;EL__DANSKE__DENMARK__RE -->
<g id="edge106" class="edge">
<title>EXPOSURE__DANSKE__DENMARK__RE&#45;&gt;EL__DANSKE__DENMARK__RE</title>
<g id="a_edge106"><a xlink:href="bogus" xlink:title="NA">
<path fill="none" stroke="black" stroke-width="0.5" d="M794.24,-1324.03C870.99,-1315.66 966.67,-1305.23 1040.46,-1297.18"/>
<polygon fill="black" stroke="black" stroke-width="0.5" points="1040.41,-1300.71 1049.97,-1296.14 1039.65,-1293.75 1040.41,-1300.71"/>
</a>
</g>
</g>
<!-- LGD__DANSKE__DENMARK__RE -->
<g id="node34" class="node">
<title>LGD__DANSKE__DENMARK__RE</title>
<g id="a_node34"><a xlink:title="LGD__DANSKE__DENMARK__RE&#10;Exogen">
<polygon fill="yellow" stroke="black" points="772.82,-1302.5 548.22,-1302.5 548.22,-1266.5 772.82,-1266.5 772.82,-1302.5"/>
<text text-anchor="start" x="554.02" y="-1279.45" font-family="Times New Roman,serif" font-size="14.00" fill="blue">LGD__DANSKE__DENMARK__RE:</text>
</a>
</g>
</g>
<!-- LGD__DANSKE__DENMARK__RE&#45;&gt;EL__DANSKE__DENMARK__RE -->
<g id="edge166" class="edge">
<title>LGD__DANSKE__DENMARK__RE&#45;&gt;EL__DANSKE__DENMARK__RE</title>
<g id="a_edge166"><a xlink:href="bogus" xlink:title="NA">
<path fill="none" stroke="black" stroke-width="0.5" d="M773.28,-1284.5C852.87,-1284.5 959.57,-1284.5 1040.21,-1284.5"/>
<polygon fill="black" stroke="black" stroke-width="0.5" points="1040.16,-1288 1050.16,-1284.5 1040.16,-1281 1040.16,-1288"/>
</a>
</g>
</g>
<!-- PD__NORDEA__DENMARK__SOV(&#45;1) -->
<g id="node35" class="node">
<title>PD__NORDEA__DENMARK__SOV(&#45;1)</title>
<g id="a_node35"><a xlink:title="PD__NORDEA__DENMARK__SOV&#10;FRML &lt;&gt; PD__NORDEA__DENMARK__SOV = 0.02+0.8*PD__NORDEA__DENMARK__SOV(&#45;1)+0.1*GDP_GROWTH__DENMARK $">
<polygon fill="springgreen" stroke="black" points="1385.55,-3516.5 929.95,-3516.5 929.95,-3480.5 1385.55,-3480.5 1385.55,-3516.5"/>
<text text-anchor="start" x="935.75" y="-3493.45" font-family="Times New Roman,serif" font-size="14.00" fill="blue">PD__NORDEA__DENMARK__SOV(&#45;1):PD__NORDEA__DENMARK__SOV</text>
</a>
</g>
</g>
<!-- PD__NORDEA__DENMARK__SOV(&#45;1)&#45;&gt;PD__NORDEA__DENMARK__SOV -->
<g id="edge147" class="edge">
<title>PD__NORDEA__DENMARK__SOV(&#45;1)&#45;&gt;PD__NORDEA__DENMARK__SOV</title>
<g id="a_edge147"><a xlink:href="bogus" xlink:title="NA">
<path fill="none" stroke="black" stroke-width="0.5" d="M929.7,-3505.23C879.4,-3505.33 827.96,-3505.06 783.77,-3504.41"/>
<polygon fill="black" stroke="black" stroke-width="0.5" points="784.09,-3500.92 774.04,-3504.26 783.98,-3507.92 784.09,-3500.92"/>
</a>
</g>
</g>
<!-- PD__DANSKE__SWEDEN__NFC&#45;&gt;PD__DANSKE__SWEDEN__NFC(&#45;1) -->
<g id="edge127" class="edge">
<title>PD__DANSKE__SWEDEN__NFC&#45;&gt;PD__DANSKE__SWEDEN__NFC(&#45;1)</title>
<g id="a_edge127"><a xlink:href="bogus" xlink:title="NA">
<path fill="none" stroke="black" stroke-width="0.5" d="M766.55,-252.86C815.3,-252 875.23,-251.64 933.36,-251.78"/>
<polygon fill="black" stroke="black" stroke-width="0.5" points="933.04,-255.28 943.05,-251.81 933.06,-248.28 933.04,-255.28"/>
</a>
</g>
</g>
<!-- PD__DANSKE__SWEDEN__NFC&#45;&gt;EL__DANSKE__SWEDEN__NFC -->
<g id="edge1" class="edge">
<title>PD__DANSKE__SWEDEN__NFC&#45;&gt;EL__DANSKE__SWEDEN__NFC</title>
<g id="a_edge1"><a xlink:href="bogus" xlink:title="NA">
<path fill="none" stroke="black" stroke-width="0.5" d="M766.3,-253.75C790.68,-257.93 814.33,-267.2 830.95,-285.5 917.77,-381.09 785.74,-765.1 866.95,-865.5 908.64,-917.05 980.22,-937.39 1041.8,-944.8"/>
<polygon fill="black" stroke="black" stroke-width="0.5" points="1041.31,-948.27 1051.63,-945.88 1042.07,-941.31 1041.31,-948.27"/>
</a>
</g>
</g>
<!-- EL__NORDEA__SWEDEN__HOUSEHOLDS&#45;&gt;EXPECTED_LOSS_NORDEA -->
<g id="edge121" class="edge">
<title>EL__NORDEA__SWEDEN__HOUSEHOLDS&#45;&gt;EXPECTED_LOSS_NORDEA</title>
<g id="a_edge121"><a xlink:href="bogus" xlink:title="NA">
<path fill="none" stroke="black" stroke-width="0.5" d="M1263.24,-3259.98C1327.54,-3271.36 1409.63,-3285.88 1473.73,-3297.22"/>
<polygon fill="black" stroke="black" stroke-width="0.5" points="1473.06,-3300.65 1483.52,-3298.95 1474.28,-3293.76 1473.06,-3300.65"/>
</a>
</g>
</g>
<!-- PD__DANSKE__DENMARK__HOUSEHOLDS(&#45;1) -->
<g id="node38" class="node">
<title>PD__DANSKE__DENMARK__HOUSEHOLDS(&#45;1)</title>
<g id="a_node38"><a xlink:title="PD__DANSKE__DENMARK__HOUSEHOLDS&#10;FRML &lt;&gt; PD__DANSKE__DENMARK__HOUSEHOLDS = 0.02+0.8*PD__DANSKE__DENMARK__HOUSEHOLDS(&#45;1)+0.1*GDP_GROWTH__DENMARK $">
<polygon fill="springgreen" stroke="black" points="1447.05,-1410.5 868.45,-1410.5 868.45,-1374.5 1447.05,-1374.5 1447.05,-1410.5"/>
<text text-anchor="start" x="874.25" y="-1387.45" font-family="Times New Roman,serif" font-size="14.00" fill="blue">PD__DANSKE__DENMARK__HOUSEHOLDS(&#45;1):PD__DANSKE__DENMARK__HOUSEHOLDS</text>
</a>
</g>
</g>
<!-- PD__DANSKE__DENMARK__HOUSEHOLDS(&#45;1)&#45;&gt;PD__DANSKE__DENMARK__HOUSEHOLDS -->
<g id="edge7" class="edge">
<title>PD__DANSKE__DENMARK__HOUSEHOLDS(&#45;1)&#45;&gt;PD__DANSKE__DENMARK__HOUSEHOLDS</title>
<g id="a_edge7"><a xlink:href="bogus" xlink:title="NA">
<path fill="none" stroke="black" stroke-width="0.5" d="M868.03,-1399.17C849.91,-1399.09 832.1,-1398.97 814.99,-1398.8"/>
<polygon fill="black" stroke="black" stroke-width="0.5" points="815.23,-1395.3 805.19,-1398.69 815.15,-1402.3 815.23,-1395.3"/>
</a>
</g>
</g>
<!-- PD__DANSKE__DENMARK__SOV(&#45;1) -->
<g id="node39" class="node">
<title>PD__DANSKE__DENMARK__SOV(&#45;1)</title>
<g id="a_node39"><a xlink:title="PD__DANSKE__DENMARK__SOV&#10;FRML &lt;&gt; PD__DANSKE__DENMARK__SOV = 0.02+0.8*PD__DANSKE__DENMARK__SOV(&#45;1)+0.1*GDP_GROWTH__DENMARK $">
<polygon fill="springgreen" stroke="black" points="1384.05,-222.5 931.45,-222.5 931.45,-186.5 1384.05,-186.5 1384.05,-222.5"/>
<text text-anchor="start" x="937.25" y="-199.45" font-family="Times New Roman,serif" font-size="14.00" fill="blue">PD__DANSKE__DENMARK__SOV(&#45;1):PD__DANSKE__DENMARK__SOV</text>
</a>
</g>
</g>
<!-- PD__DANSKE__DENMARK__SOV(&#45;1)&#45;&gt;PD__DANSKE__DENMARK__SOV -->
<g id="edge48" class="edge">
<title>PD__DANSKE__DENMARK__SOV(&#45;1)&#45;&gt;PD__DANSKE__DENMARK__SOV</title>
<g id="a_edge48"><a xlink:href="bogus" xlink:title="NA">
<path fill="none" stroke="black" stroke-width="0.5" d="M930.96,-211.23C879.96,-211.34 827.71,-211.06 782.97,-210.4"/>
<polygon fill="black" stroke="black" stroke-width="0.5" points="783.17,-206.9 773.11,-210.25 783.06,-213.9 783.17,-206.9"/>
</a>
</g>
</g>
<!-- EXPOSURE__NORDEA__SWEDEN__RE -->
<g id="node40" class="node">
<title>EXPOSURE__NORDEA__SWEDEN__RE</title>
<g id="a_node40"><a xlink:title="EXPOSURE__NORDEA__SWEDEN__RE&#10;Exogen">
<polygon fill="yellow" stroke="black" points="788.57,-3894.5 532.47,-3894.5 532.47,-3858.5 788.57,-3858.5 788.57,-3894.5"/>
<text text-anchor="start" x="538.27" y="-3871.45" font-family="Times New Roman,serif" font-size="14.00" fill="blue">EXPOSURE__NORDEA__SWEDEN__RE:</text>
</a>
</g>
</g>
<!-- EXPOSURE__NORDEA__SWEDEN__RE&#45;&gt;EL__NORDEA__SWEDEN__RE -->
<g id="edge89" class="edge">
<title>EXPOSURE__NORDEA__SWEDEN__RE&#45;&gt;EL__NORDEA__SWEDEN__RE</title>
<g id="a_edge89"><a xlink:href="bogus" xlink:title="NA">
<path fill="none" stroke="black" stroke-width="0.5" d="M789.06,-3862.59C868.43,-3853.94 969.53,-3842.91 1045.62,-3834.62"/>
<polygon fill="black" stroke="black" stroke-width="0.5" points="1045.87,-3838.11 1055.44,-3833.55 1045.12,-3831.15 1045.87,-3838.11"/>
</a>
</g>
</g>
<!-- EL__IBS__DENMARK__NFC&#45;&gt;EXPECTED_LOSS_IBS -->
<g id="edge153" class="edge">
<title>EL__IBS__DENMARK__NFC&#45;&gt;EXPECTED_LOSS_IBS</title>
<g id="a_edge153"><a xlink:href="bogus" xlink:title="NA">
<path fill="none" stroke="black" stroke-width="0.5" d="M1252.23,-2542.63C1314.47,-2547.92 1394.46,-2543.51 1448.55,-2499.5 1510.97,-2448.72 1557.99,-2195.84 1572.46,-2109.47"/>
<polygon fill="black" stroke="black" stroke-width="0.5" points="1575.91,-2110.06 1574.08,-2099.63 1569,-2108.92 1575.91,-2110.06"/>
</a>
</g>
</g>
<!-- LGD__IBS__DENMARK__NFC -->
<g id="node42" class="node">
<title>LGD__IBS__DENMARK__NFC</title>
<g id="a_node42"><a xlink:title="LGD__IBS__DENMARK__NFC&#10;Exogen">
<polygon fill="yellow" stroke="black" points="760.45,-2544.5 560.6,-2544.5 560.6,-2508.5 760.45,-2508.5 760.45,-2544.5"/>
<text text-anchor="start" x="566.4" y="-2521.45" font-family="Times New Roman,serif" font-size="14.00" fill="blue">LGD__IBS__DENMARK__NFC:</text>
</a>
</g>
</g>
<!-- LGD__IBS__DENMARK__NFC&#45;&gt;EL__IBS__DENMARK__NFC -->
<g id="edge155" class="edge">
<title>LGD__IBS__DENMARK__NFC&#45;&gt;EL__IBS__DENMARK__NFC</title>
<g id="a_edge155"><a xlink:href="bogus" xlink:title="NA">
<path fill="none" stroke="black" stroke-width="0.5" d="M760.85,-2526.5C845.42,-2526.5 966.52,-2526.5 1052.48,-2526.5"/>
<polygon fill="black" stroke="black" stroke-width="0.5" points="1052.29,-2530 1062.29,-2526.5 1052.29,-2523 1052.29,-2530"/>
</a>
</g>
</g>
<!-- PD__NORDEA__SWEDEN__RE(&#45;1)&#45;&gt;PD__NORDEA__SWEDEN__RE -->
<g id="edge78" class="edge">
<title>PD__NORDEA__SWEDEN__RE(&#45;1)&#45;&gt;PD__NORDEA__SWEDEN__RE</title>
<g id="a_edge78"><a xlink:href="bogus" xlink:title="NA">
<path fill="none" stroke="black" stroke-width="0.5" d="M951.24,-3775.16C890.33,-3775.42 825.92,-3775.11 773.33,-3774.25"/>
<polygon fill="black" stroke="black" stroke-width="0.5" points="773.45,-3770.75 763.39,-3774.08 773.33,-3777.75 773.45,-3770.75"/>
</a>
</g>
</g>
<!-- PD__NORDEA__SWEDEN__HOUSEHOLDS&#45;&gt;EL__NORDEA__SWEDEN__HOUSEHOLDS -->
<g id="edge66" class="edge">
<title>PD__NORDEA__SWEDEN__HOUSEHOLDS&#45;&gt;EL__NORDEA__SWEDEN__HOUSEHOLDS</title>
<g id="a_edge66"><a xlink:href="bogus" xlink:title="NA">
<path fill="none" stroke="black" stroke-width="0.5" d="M799,-2855.92C810.93,-2861.03 821.88,-2868.04 830.95,-2877.5 926.93,-2977.64 772.29,-3086.12 866.95,-3187.5 903.06,-3226.17 957.26,-3242.42 1009.06,-3248.04"/>
<polygon fill="black" stroke="black" stroke-width="0.5" points="1008.68,-3251.52 1018.97,-3248.98 1009.34,-3244.55 1008.68,-3251.52"/>
</a>
</g>
</g>
<!-- PD__NORDEA__SWEDEN__HOUSEHOLDS(&#45;1) -->
<g id="node108" class="node">
<title>PD__NORDEA__SWEDEN__HOUSEHOLDS(&#45;1)</title>
<g id="a_node108"><a xlink:title="PD__NORDEA__SWEDEN__HOUSEHOLDS&#10;FRML &lt;&gt; PD__NORDEA__SWEDEN__HOUSEHOLDS = 0.02+0.8*PD__NORDEA__SWEDEN__HOUSEHOLDS(&#45;1)+0.1*GDP_GROWTH__SWEDEN $">
<polygon fill="springgreen" stroke="black" points="1436.55,-2868.5 878.95,-2868.5 878.95,-2832.5 1436.55,-2832.5 1436.55,-2868.5"/>
<text text-anchor="start" x="884.75" y="-2845.45" font-family="Times New Roman,serif" font-size="14.00" fill="blue">PD__NORDEA__SWEDEN__HOUSEHOLDS(&#45;1):PD__NORDEA__SWEDEN__HOUSEHOLDS</text>
</a>
</g>
</g>
<!-- PD__NORDEA__SWEDEN__HOUSEHOLDS&#45;&gt;PD__NORDEA__SWEDEN__HOUSEHOLDS(&#45;1) -->
<g id="edge40" class="edge">
<title>PD__NORDEA__SWEDEN__HOUSEHOLDS&#45;&gt;PD__NORDEA__SWEDEN__HOUSEHOLDS(&#45;1)</title>
<g id="a_edge40"><a xlink:href="bogus" xlink:title="NA">
<path fill="none" stroke="black" stroke-width="0.5" d="M799.14,-2844.38C820.96,-2844.11 844.21,-2843.93 867.97,-2843.83"/>
<polygon fill="black" stroke="black" stroke-width="0.5" points="867.81,-2847.33 877.8,-2843.8 867.79,-2840.33 867.81,-2847.33"/>
</a>
</g>
</g>
<!-- LGD__DANSKE__SWEDEN__RE -->
<g id="node45" class="node">
<title>LGD__DANSKE__SWEDEN__RE</title>
<g id="a_node45"><a xlink:title="LGD__DANSKE__SWEDEN__RE&#10;Exogen">
<polygon fill="yellow" stroke="black" points="766.82,-816.5 554.22,-816.5 554.22,-780.5 766.82,-780.5 766.82,-816.5"/>
<text text-anchor="start" x="560.02" y="-793.45" font-family="Times New Roman,serif" font-size="14.00" fill="blue">LGD__DANSKE__SWEDEN__RE:</text>
</a>
</g>
</g>
<!-- EL__DANSKE__SWEDEN__RE -->
<g id="node64" class="node">
<title>EL__DANSKE__SWEDEN__RE</title>
<g id="a_node64"><a xlink:title="EL__DANSKE__SWEDEN__RE&#10;FRML &lt;&gt; EL__DANSKE__SWEDEN__RE = EXPOSURE__DANSKE__SWEDEN__RE*PD__DANSKE__SWEDEN__RE*LGD__DANSKE__SWEDEN__RE $">
<polygon fill="#63b8ff" stroke="black" points="1258.42,-775.5 1057.08,-775.5 1057.08,-739.5 1258.42,-739.5 1258.42,-775.5"/>
<text text-anchor="start" x="1062.88" y="-752.45" font-family="Times New Roman,serif" font-size="14.00" fill="blue">EL__DANSKE__SWEDEN__RE:</text>
</a>
</g>
</g>
<!-- LGD__DANSKE__SWEDEN__RE&#45;&gt;EL__DANSKE__SWEDEN__RE -->
<g id="edge31" class="edge">
<title>LGD__DANSKE__SWEDEN__RE&#45;&gt;EL__DANSKE__SWEDEN__RE</title>
<g id="a_edge31"><a xlink:href="bogus" xlink:title="NA">
<path fill="none" stroke="black" stroke-width="0.5" d="M767.16,-789.75C849.29,-782.95 962.9,-773.55 1046.25,-766.65"/>
<polygon fill="black" stroke="black" stroke-width="0.5" points="1046.34,-770.15 1056.02,-765.84 1045.76,-763.18 1046.34,-770.15"/>
</a>
</g>
</g>
<!-- PD__DANSKE__DENMARK__HOUSEHOLDS&#45;&gt;PD__DANSKE__DENMARK__HOUSEHOLDS(&#45;1) -->
<g id="edge132" class="edge">
<title>PD__DANSKE__DENMARK__HOUSEHOLDS&#45;&gt;PD__DANSKE__DENMARK__HOUSEHOLDS(&#45;1)</title>
<g id="a_edge132"><a xlink:href="bogus" xlink:title="NA">
<path fill="none" stroke="black" stroke-width="0.5" d="M804.43,-1386.32C821.39,-1386.12 839.15,-1385.98 857.3,-1385.88"/>
<polygon fill="black" stroke="black" stroke-width="0.5" points="857.29,-1389.38 867.27,-1385.84 857.25,-1382.38 857.29,-1389.38"/>
</a>
</g>
</g>
<!-- PD__DANSKE__DENMARK__HOUSEHOLDS&#45;&gt;EL__DANSKE__DENMARK__HOUSEHOLDS -->
<g id="edge79" class="edge">
<title>PD__DANSKE__DENMARK__HOUSEHOLDS&#45;&gt;EL__DANSKE__DENMARK__HOUSEHOLDS</title>
<g id="a_edge79"><a xlink:href="bogus" xlink:title="NA">
<path fill="none" stroke="black" stroke-width="0.5" d="M804.07,-1385.68C814.14,-1380.65 823.31,-1374.06 830.95,-1365.5 890.93,-1298.28 804.81,-620.73 866.95,-555.5 915.98,-504.03 998.63,-500.98 1063.14,-508.67"/>
<polygon fill="black" stroke="black" stroke-width="0.5" points="1062.62,-512.13 1072.99,-509.95 1063.53,-505.19 1062.62,-512.13"/>
</a>
</g>
</g>
<!-- EL__IBS__SWEDEN__RE -->
<g id="node47" class="node">
<title>EL__IBS__SWEDEN__RE</title>
<g id="a_node47"><a xlink:title="EL__IBS__SWEDEN__RE&#10;FRML &lt;&gt; EL__IBS__SWEDEN__RE = EXPOSURE__IBS__SWEDEN__RE*PD__IBS__SWEDEN__RE*LGD__IBS__SWEDEN__RE $">
<polygon fill="#63b8ff" stroke="black" points="1241.55,-2247.5 1073.95,-2247.5 1073.95,-2211.5 1241.55,-2211.5 1241.55,-2247.5"/>
<text text-anchor="start" x="1079.75" y="-2224.45" font-family="Times New Roman,serif" font-size="14.00" fill="blue">EL__IBS__SWEDEN__RE:</text>
</a>
</g>
</g>
<!-- EL__IBS__SWEDEN__RE&#45;&gt;EXPECTED_LOSS_IBS -->
<g id="edge25" class="edge">
<title>EL__IBS__SWEDEN__RE&#45;&gt;EXPECTED_LOSS_IBS</title>
<g id="a_edge25"><a xlink:href="bogus" xlink:title="NA">
<path fill="none" stroke="black" stroke-width="0.5" d="M1241.91,-2223.99C1301.47,-2217.7 1382.5,-2204.23 1448.55,-2175.5 1487.65,-2158.49 1526.11,-2127.68 1550.63,-2105.76"/>
<polygon fill="black" stroke="black" stroke-width="0.5" points="1552.79,-2108.53 1557.83,-2099.21 1548.08,-2103.35 1552.79,-2108.53"/>
</a>
</g>
</g>
<!-- PD__IBS__SWEDEN__SOV&#45;&gt;EL__IBS__SWEDEN__SOV -->
<g id="edge42" class="edge">
<title>PD__IBS__SWEDEN__SOV&#45;&gt;EL__IBS__SWEDEN__SOV</title>
<g id="a_edge42"><a xlink:href="bogus" xlink:title="NA">
<path fill="none" stroke="black" stroke-width="0.5" d="M749.42,-1061.73C779.37,-1064.26 810.43,-1073.09 830.95,-1095.5 908.13,-1179.78 794.72,-1519.94 866.95,-1608.5 912.69,-1664.59 993.8,-1683.69 1058.59,-1689.41"/>
<polygon fill="black" stroke="black" stroke-width="0.5" points="1058.26,-1692.9 1068.5,-1690.19 1058.8,-1685.92 1058.26,-1692.9"/>
</a>
</g>
</g>
<!-- PD__IBS__SWEDEN__SOV(&#45;1) -->
<g id="node102" class="node">
<title>PD__IBS__SWEDEN__SOV(&#45;1)</title>
<g id="a_node102"><a xlink:title="PD__IBS__SWEDEN__SOV&#10;FRML &lt;&gt; PD__IBS__SWEDEN__SOV = 0.02+0.8*PD__IBS__SWEDEN__SOV(&#45;1)+0.1*GDP_GROWTH__SWEDEN $">
<polygon fill="springgreen" stroke="black" points="1338.3,-1086.5 977.2,-1086.5 977.2,-1050.5 1338.3,-1050.5 1338.3,-1086.5"/>
<text text-anchor="start" x="983" y="-1063.45" font-family="Times New Roman,serif" font-size="14.00" fill="blue">PD__IBS__SWEDEN__SOV(&#45;1):PD__IBS__SWEDEN__SOV</text>
</a>
</g>
</g>
<!-- PD__IBS__SWEDEN__SOV&#45;&gt;PD__IBS__SWEDEN__SOV(&#45;1) -->
<g id="edge37" class="edge">
<title>PD__IBS__SWEDEN__SOV&#45;&gt;PD__IBS__SWEDEN__SOV(&#45;1)</title>
<g id="a_edge37"><a xlink:href="bogus" xlink:title="NA">
<path fill="none" stroke="black" stroke-width="0.5" d="M749.49,-1063.2C809.62,-1061.91 891.64,-1061.48 966.32,-1061.91"/>
<polygon fill="black" stroke="black" stroke-width="0.5" points="966.02,-1065.41 976.05,-1061.97 966.07,-1058.41 966.02,-1065.41"/>
</a>
</g>
</g>
<!-- LGD__IBS__SWEDEN__NFC -->
<g id="node49" class="node">
<title>LGD__IBS__SWEDEN__NFC</title>
<g id="a_node49"><a xlink:title="LGD__IBS__SWEDEN__NFC&#10;Exogen">
<polygon fill="yellow" stroke="black" points="754.45,-2058.5 566.6,-2058.5 566.6,-2022.5 754.45,-2022.5 754.45,-2058.5"/>
<text text-anchor="start" x="572.4" y="-2035.45" font-family="Times New Roman,serif" font-size="14.00" fill="blue">LGD__IBS__SWEDEN__NFC:</text>
</a>
</g>
</g>
<!-- EL__IBS__SWEDEN__NFC -->
<g id="node78" class="node">
<title>EL__IBS__SWEDEN__NFC</title>
<g id="a_node78"><a xlink:title="EL__IBS__SWEDEN__NFC&#10;FRML &lt;&gt; EL__IBS__SWEDEN__NFC = EXPOSURE__IBS__SWEDEN__NFC*PD__IBS__SWEDEN__NFC*LGD__IBS__SWEDEN__NFC $">
<polygon fill="#63b8ff" stroke="black" points="1246.05,-2031.5 1069.45,-2031.5 1069.45,-1995.5 1246.05,-1995.5 1246.05,-2031.5"/>
<text text-anchor="start" x="1075.25" y="-2008.45" font-family="Times New Roman,serif" font-size="14.00" fill="blue">EL__IBS__SWEDEN__NFC:</text>
</a>
</g>
</g>
<!-- LGD__IBS__SWEDEN__NFC&#45;&gt;EL__IBS__SWEDEN__NFC -->
<g id="edge94" class="edge">
<title>LGD__IBS__SWEDEN__NFC&#45;&gt;EL__IBS__SWEDEN__NFC</title>
<g id="a_edge94"><a xlink:href="bogus" xlink:title="NA">
<path fill="none" stroke="black" stroke-width="0.5" d="M754.67,-2035.42C841.37,-2030.69 970.13,-2023.67 1058.44,-2018.86"/>
<polygon fill="black" stroke="black" stroke-width="0.5" points="1058.46,-2022.36 1068.25,-2018.33 1058.08,-2015.37 1058.46,-2022.36"/>
</a>
</g>
</g>
<!-- PD__IBS__DENMARK__NFC(&#45;1) -->
<g id="node50" class="node">
<title>PD__IBS__DENMARK__NFC(&#45;1)</title>
<g id="a_node50"><a xlink:title="PD__IBS__DENMARK__NFC&#10;FRML &lt;&gt; PD__IBS__DENMARK__NFC = 0.02+0.8*PD__IBS__DENMARK__NFC(&#45;1)+0.1*GDP_GROWTH__DENMARK $">
<polygon fill="springgreen" stroke="black" points="1349.55,-2112.5 965.95,-2112.5 965.95,-2076.5 1349.55,-2076.5 1349.55,-2112.5"/>
<text text-anchor="start" x="971.75" y="-2089.45" font-family="Times New Roman,serif" font-size="14.00" fill="blue">PD__IBS__DENMARK__NFC(&#45;1):PD__IBS__DENMARK__NFC</text>
</a>
</g>
</g>
<!-- PD__IBS__DENMARK__NFC(&#45;1)&#45;&gt;PD__IBS__DENMARK__NFC -->
<g id="edge33" class="edge">
<title>PD__IBS__DENMARK__NFC(&#45;1)&#45;&gt;PD__IBS__DENMARK__NFC</title>
<g id="a_edge33"><a xlink:href="bogus" xlink:title="NA">
<path fill="none" stroke="black" stroke-width="0.5" d="M965.68,-2101.09C897.87,-2101.48 824.09,-2101.16 766.17,-2100.13"/>
<polygon fill="black" stroke="black" stroke-width="0.5" points="766.37,-2096.63 756.3,-2099.94 766.24,-2103.63 766.37,-2096.63"/>
</a>
</g>
</g>
<!-- PD__IBS__DENMARK__RE(&#45;1) -->
<g id="node51" class="node">
<title>PD__IBS__DENMARK__RE(&#45;1)</title>
<g id="a_node51"><a xlink:title="PD__IBS__DENMARK__RE&#10;FRML &lt;&gt; PD__IBS__DENMARK__RE = 0.02+0.8*PD__IBS__DENMARK__RE(&#45;1)+0.1*GDP_GROWTH__DENMARK $">
<polygon fill="springgreen" stroke="black" points="1340.55,-1788.5 974.95,-1788.5 974.95,-1752.5 1340.55,-1752.5 1340.55,-1788.5"/>
<text text-anchor="start" x="980.75" y="-1765.45" font-family="Times New Roman,serif" font-size="14.00" fill="blue">PD__IBS__DENMARK__RE(&#45;1):PD__IBS__DENMARK__RE</text>
</a>
</g>
</g>
<!-- PD__IBS__DENMARK__RE(&#45;1)&#45;&gt;PD__IBS__DENMARK__RE -->
<g id="edge28" class="edge">
<title>PD__IBS__DENMARK__RE(&#45;1)&#45;&gt;PD__IBS__DENMARK__RE</title>
<g id="a_edge28"><a xlink:href="bogus" xlink:title="NA">
<path fill="none" stroke="black" stroke-width="0.5" d="M974.46,-1777.04C902.4,-1777.52 822.4,-1777.19 761.32,-1776.04"/>
<polygon fill="black" stroke="black" stroke-width="0.5" points="761.74,-1772.55 751.68,-1775.85 761.6,-1779.55 761.74,-1772.55"/>
</a>
</g>
</g>
<!-- PD__DANSKE__DENMARK__RE(&#45;1) -->
<g id="node53" class="node">
<title>PD__DANSKE__DENMARK__RE(&#45;1)</title>
<g id="a_node53"><a xlink:title="PD__DANSKE__DENMARK__RE&#10;FRML &lt;&gt; PD__DANSKE__DENMARK__RE = 0.02+0.8*PD__DANSKE__DENMARK__RE(&#45;1)+0.1*GDP_GROWTH__DENMARK $">
<polygon fill="springgreen" stroke="black" points="1374.3,-600.5 941.2,-600.5 941.2,-564.5 1374.3,-564.5 1374.3,-600.5"/>
<text text-anchor="start" x="947" y="-577.45" font-family="Times New Roman,serif" font-size="14.00" fill="blue">PD__DANSKE__DENMARK__RE(&#45;1):PD__DANSKE__DENMARK__RE</text>
</a>
</g>
</g>
<!-- PD__DANSKE__DENMARK__RE(&#45;1)&#45;&gt;PD__DANSKE__DENMARK__RE -->
<g id="edge103" class="edge">
<title>PD__DANSKE__DENMARK__RE(&#45;1)&#45;&gt;PD__DANSKE__DENMARK__RE</title>
<g id="a_edge103"><a xlink:href="bogus" xlink:title="NA">
<path fill="none" stroke="black" stroke-width="0.5" d="M940.94,-589.2C885.16,-589.38 827.19,-589.09 778.61,-588.34"/>
<polygon fill="black" stroke="black" stroke-width="0.5" points="778.88,-584.84 768.82,-588.18 778.77,-591.84 778.88,-584.84"/>
</a>
</g>
</g>
<!-- EL__DANSKE__DENMARK__SOV -->
<g id="node54" class="node">
<title>EL__DANSKE__DENMARK__SOV</title>
<g id="a_node54"><a xlink:title="EL__DANSKE__DENMARK__SOV&#10;FRML &lt;&gt; EL__DANSKE__DENMARK__SOV = EXPOSURE__DANSKE__DENMARK__SOV*PD__DANSKE__DENMARK__SOV*LGD__DANSKE__DENMARK__SOV $">
<polygon fill="#63b8ff" stroke="black" points="1268.92,-856.5 1046.58,-856.5 1046.58,-820.5 1268.92,-820.5 1268.92,-856.5"/>
<text text-anchor="start" x="1052.38" y="-833.45" font-family="Times New Roman,serif" font-size="14.00" fill="blue">EL__DANSKE__DENMARK__SOV:</text>
</a>
</g>
</g>
<!-- EL__DANSKE__DENMARK__SOV&#45;&gt;EXPECTED_LOSS_DANSKE -->
<g id="edge130" class="edge">
<title>EL__DANSKE__DENMARK__SOV&#45;&gt;EXPECTED_LOSS_DANSKE</title>
<g id="a_edge130"><a xlink:href="bogus" xlink:title="NA">
<path fill="none" stroke="black" stroke-width="0.5" d="M1269.21,-827.67C1332.83,-821.44 1412.26,-813.66 1474.5,-807.56"/>
<polygon fill="black" stroke="black" stroke-width="0.5" points="1474.76,-811.05 1484.37,-806.59 1474.08,-804.08 1474.76,-811.05"/>
</a>
</g>
</g>
<!-- PD__DANSKE__DENMARK__SOV&#45;&gt;PD__DANSKE__DENMARK__SOV(&#45;1) -->
<g id="edge41" class="edge">
<title>PD__DANSKE__DENMARK__SOV&#45;&gt;PD__DANSKE__DENMARK__SOV(&#45;1)</title>
<g id="a_edge41"><a xlink:href="bogus" xlink:title="NA">
<path fill="none" stroke="black" stroke-width="0.5" d="M772.35,-198.76C816.3,-198.04 868.62,-197.7 920.3,-197.76"/>
<polygon fill="black" stroke="black" stroke-width="0.5" points="920.2,-201.26 930.21,-197.77 920.21,-194.26 920.2,-201.26"/>
</a>
</g>
</g>
<!-- PD__DANSKE__DENMARK__SOV&#45;&gt;EL__DANSKE__DENMARK__SOV -->
<g id="edge4" class="edge">
<title>PD__DANSKE__DENMARK__SOV&#45;&gt;EL__DANSKE__DENMARK__SOV</title>
<g id="a_edge4"><a xlink:href="bogus" xlink:title="NA">
<path fill="none" stroke="black" stroke-width="0.5" d="M772.41,-200.96C794.58,-205.59 815.7,-214.77 830.95,-231.5 913.89,-322.53 785.21,-692.39 866.95,-784.5 908.37,-831.17 976.07,-845.64 1035.63,-847.99"/>
<polygon fill="black" stroke="black" stroke-width="0.5" points="1035.41,-851.48 1045.5,-848.26 1035.61,-844.48 1035.41,-851.48"/>
</a>
</g>
</g>
<!-- PD__IBS__DENMARK__HOUSEHOLDS(&#45;1)&#45;&gt;PD__IBS__DENMARK__HOUSEHOLDS -->
<g id="edge112" class="edge">
<title>PD__IBS__DENMARK__HOUSEHOLDS(&#45;1)&#45;&gt;PD__IBS__DENMARK__HOUSEHOLDS</title>
<g id="a_edge112"><a xlink:href="bogus" xlink:title="NA">
<path fill="none" stroke="black" stroke-width="0.5" d="M901.7,-1507.25C865.88,-1507.22 830.26,-1507.01 797.86,-1506.6"/>
<polygon fill="black" stroke="black" stroke-width="0.5" points="798.25,-1503.11 788.21,-1506.48 798.16,-1510.11 798.25,-1503.11"/>
</a>
</g>
</g>
<!-- LGD__IBS__DENMARK__SOV -->
<g id="node57" class="node">
<title>LGD__IBS__DENMARK__SOV</title>
<g id="a_node57"><a xlink:title="LGD__IBS__DENMARK__SOV&#10;Exogen">
<polygon fill="yellow" stroke="black" points="760.45,-1842.5 560.6,-1842.5 560.6,-1806.5 760.45,-1806.5 760.45,-1842.5"/>
<text text-anchor="start" x="566.4" y="-1819.45" font-family="Times New Roman,serif" font-size="14.00" fill="blue">LGD__IBS__DENMARK__SOV:</text>
</a>
</g>
</g>
<!-- LGD__IBS__DENMARK__SOV&#45;&gt;EL__IBS__DENMARK__SOV -->
<g id="edge23" class="edge">
<title>LGD__IBS__DENMARK__SOV&#45;&gt;EL__IBS__DENMARK__SOV</title>
<g id="a_edge23"><a xlink:href="bogus" xlink:title="NA">
<path fill="none" stroke="black" stroke-width="0.5" d="M760.85,-1829.92C845.42,-1834.53 966.52,-1841.13 1052.48,-1845.81"/>
<polygon fill="black" stroke="black" stroke-width="0.5" points="1052.11,-1849.3 1062.29,-1846.35 1052.49,-1842.31 1052.11,-1849.3"/>
</a>
</g>
</g>
<!-- EXPOSURE__NORDEA__SWEDEN__NFC -->
<g id="node58" class="node">
<title>EXPOSURE__NORDEA__SWEDEN__NFC</title>
<g id="a_node58"><a xlink:title="EXPOSURE__NORDEA__SWEDEN__NFC&#10;Exogen">
<polygon fill="yellow" stroke="black" points="793.07,-3192.5 527.97,-3192.5 527.97,-3156.5 793.07,-3156.5 793.07,-3192.5"/>
<text text-anchor="start" x="533.77" y="-3169.45" font-family="Times New Roman,serif" font-size="14.00" fill="blue">EXPOSURE__NORDEA__SWEDEN__NFC:</text>
</a>
</g>
</g>
<!-- EL__NORDEA__SWEDEN__NFC -->
<g id="node104" class="node">
<title>EL__NORDEA__SWEDEN__NFC</title>
<g id="a_node104"><a xlink:title="EL__NORDEA__SWEDEN__NFC&#10;FRML &lt;&gt; EL__NORDEA__SWEDEN__NFC = EXPOSURE__NORDEA__SWEDEN__NFC*PD__NORDEA__SWEDEN__NFC*LGD__NORDEA__SWEDEN__NFC $">
<polygon fill="#63b8ff" stroke="black" points="1263.67,-3178.5 1051.83,-3178.5 1051.83,-3142.5 1263.67,-3142.5 1263.67,-3178.5"/>
<text text-anchor="start" x="1057.62" y="-3155.45" font-family="Times New Roman,serif" font-size="14.00" fill="blue">EL__NORDEA__SWEDEN__NFC:</text>
</a>
</g>
</g>
<!-- EXPOSURE__NORDEA__SWEDEN__NFC&#45;&gt;EL__NORDEA__SWEDEN__NFC -->
<g id="edge86" class="edge">
<title>EXPOSURE__NORDEA__SWEDEN__NFC&#45;&gt;EL__NORDEA__SWEDEN__NFC</title>
<g id="a_edge86"><a xlink:href="bogus" xlink:title="NA">
<path fill="none" stroke="black" stroke-width="0.5" d="M793.26,-3170.78C870.44,-3168.59 967,-3165.86 1041.2,-3163.77"/>
<polygon fill="black" stroke="black" stroke-width="0.5" points="1040.86,-3167.28 1050.76,-3163.5 1040.66,-3160.28 1040.86,-3167.28"/>
</a>
</g>
</g>
<!-- EXPOSURE__NORDEA__DENMARK__HOUSEHOLDS -->
<g id="node59" class="node">
<title>EXPOSURE__NORDEA__DENMARK__HOUSEHOLDS</title>
<g id="a_node59"><a xlink:title="EXPOSURE__NORDEA__DENMARK__HOUSEHOLDS&#10;Exogen">
<polygon fill="yellow" stroke="black" points="830.95,-2814.5 490.1,-2814.5 490.1,-2778.5 830.95,-2778.5 830.95,-2814.5"/>
<text text-anchor="start" x="495.9" y="-2791.45" font-family="Times New Roman,serif" font-size="14.00" fill="blue">EXPOSURE__NORDEA__DENMARK__HOUSEHOLDS:</text>
</a>
</g>
</g>
<!-- EXPOSURE__NORDEA__DENMARK__HOUSEHOLDS&#45;&gt;EL__NORDEA__DENMARK__HOUSEHOLDS -->
<g id="edge95" class="edge">
<title>EXPOSURE__NORDEA__DENMARK__HOUSEHOLDS&#45;&gt;EL__NORDEA__DENMARK__HOUSEHOLDS</title>
<g id="a_edge95"><a xlink:href="bogus" xlink:title="NA">
<path fill="none" stroke="black" stroke-width="0.5" d="M831.26,-2787.25C887.03,-2784.21 948.66,-2780.85 1003.15,-2777.87"/>
<polygon fill="black" stroke="black" stroke-width="0.5" points="1003.05,-2781.39 1012.84,-2777.35 1002.67,-2774.4 1003.05,-2781.39"/>
</a>
</g>
</g>
<!-- PD__IBS__SWEDEN__HOUSEHOLDS(&#45;1)&#45;&gt;PD__IBS__SWEDEN__HOUSEHOLDS -->
<g id="edge65" class="edge">
<title>PD__IBS__SWEDEN__HOUSEHOLDS(&#45;1)&#45;&gt;PD__IBS__SWEDEN__HOUSEHOLDS</title>
<g id="a_edge65"><a xlink:href="bogus" xlink:title="NA">
<path fill="none" stroke="black" stroke-width="0.5" d="M913.72,-2641.25C871.66,-2641.27 829.42,-2641.03 791.87,-2640.53"/>
<polygon fill="black" stroke="black" stroke-width="0.5" points="792.21,-2637.03 782.16,-2640.39 792.11,-2644.03 792.21,-2637.03"/>
</a>
</g>
</g>
<!-- LGD__NORDEA__DENMARK__SOV -->
<g id="node61" class="node">
<title>LGD__NORDEA__DENMARK__SOV</title>
<g id="a_node61"><a xlink:title="LGD__NORDEA__DENMARK__SOV&#10;Exogen">
<polygon fill="yellow" stroke="black" points="778.07,-3732.5 542.97,-3732.5 542.97,-3696.5 778.07,-3696.5 778.07,-3732.5"/>
<text text-anchor="start" x="548.77" y="-3709.45" font-family="Times New Roman,serif" font-size="14.00" fill="blue">LGD__NORDEA__DENMARK__SOV:</text>
</a>
</g>
</g>
<!-- LGD__NORDEA__DENMARK__SOV&#45;&gt;EL__NORDEA__DENMARK__SOV -->
<g id="edge154" class="edge">
<title>LGD__NORDEA__DENMARK__SOV&#45;&gt;EL__NORDEA__DENMARK__SOV</title>
<g id="a_edge154"><a xlink:href="bogus" xlink:title="NA">
<path fill="none" stroke="black" stroke-width="0.5" d="M778.2,-3696C795.88,-3693.17 813.9,-3690.27 830.95,-3687.5 898.76,-3676.48 974.46,-3663.94 1035.82,-3653.73"/>
<polygon fill="black" stroke="black" stroke-width="0.5" points="1036.28,-3657.2 1045.57,-3652.1 1035.13,-3650.29 1036.28,-3657.2"/>
</a>
</g>
</g>
<!-- EXPOSURE__DANSKE__DENMARK__HOUSEHOLDS -->
<g id="node62" class="node">
<title>EXPOSURE__DANSKE__DENMARK__HOUSEHOLDS</title>
<g id="a_node62"><a xlink:title="EXPOSURE__DANSKE__DENMARK__HOUSEHOLDS&#10;Exogen">
<polygon fill="yellow" stroke="black" points="830.2,-492.5 490.85,-492.5 490.85,-456.5 830.2,-456.5 830.2,-492.5"/>
<text text-anchor="start" x="496.65" y="-469.45" font-family="Times New Roman,serif" font-size="14.00" fill="blue">EXPOSURE__DANSKE__DENMARK__HOUSEHOLDS:</text>
</a>
</g>
</g>
<!-- EXPOSURE__DANSKE__DENMARK__HOUSEHOLDS&#45;&gt;EL__DANSKE__DENMARK__HOUSEHOLDS -->
<g id="edge29" class="edge">
<title>EXPOSURE__DANSKE__DENMARK__HOUSEHOLDS&#45;&gt;EL__DANSKE__DENMARK__HOUSEHOLDS</title>
<g id="a_edge29"><a xlink:href="bogus" xlink:title="NA">
<path fill="none" stroke="black" stroke-width="0.5" d="M830.57,-492.93C886.77,-499.06 948.99,-505.85 1003.9,-511.83"/>
<polygon fill="black" stroke="black" stroke-width="0.5" points="1003.35,-515.29 1013.67,-512.9 1004.11,-508.33 1003.35,-515.29"/>
</a>
</g>
</g>
<!-- EXPOSURE__NORDEA__SWEDEN__SOV -->
<g id="node63" class="node">
<title>EXPOSURE__NORDEA__SWEDEN__SOV</title>
<g id="a_node63"><a xlink:title="EXPOSURE__NORDEA__SWEDEN__SOV&#10;Exogen">
<polygon fill="yellow" stroke="black" points="793.07,-3408.5 527.97,-3408.5 527.97,-3372.5 793.07,-3372.5 793.07,-3408.5"/>
<text text-anchor="start" x="533.77" y="-3385.45" font-family="Times New Roman,serif" font-size="14.00" fill="blue">EXPOSURE__NORDEA__SWEDEN__SOV:</text>
</a>
</g>
</g>
<!-- EXPOSURE__NORDEA__SWEDEN__SOV&#45;&gt;EL__NORDEA__SWEDEN__SOV -->
<g id="edge91" class="edge">
<title>EXPOSURE__NORDEA__SWEDEN__SOV&#45;&gt;EL__NORDEA__SWEDEN__SOV</title>
<g id="a_edge91"><a xlink:href="bogus" xlink:title="NA">
<path fill="none" stroke="black" stroke-width="0.5" d="M793.26,-3390.5C870.44,-3390.5 967,-3390.5 1041.2,-3390.5"/>
<polygon fill="black" stroke="black" stroke-width="0.5" points="1040.76,-3394 1050.76,-3390.5 1040.76,-3387 1040.76,-3394"/>
</a>
</g>
</g>
<!-- EL__DANSKE__SWEDEN__RE&#45;&gt;EXPECTED_LOSS_DANSKE -->
<g id="edge9" class="edge">
<title>EL__DANSKE__SWEDEN__RE&#45;&gt;EXPECTED_LOSS_DANSKE</title>
<g id="a_edge9"><a xlink:href="bogus" xlink:title="NA">
<path fill="none" stroke="black" stroke-width="0.5" d="M1258.69,-767.06C1323.96,-773.3 1408.96,-781.42 1474.72,-787.71"/>
<polygon fill="black" stroke="black" stroke-width="0.5" points="1474.06,-791.16 1484.35,-788.63 1474.73,-784.2 1474.06,-791.16"/>
</a>
</g>
</g>
<!-- EXPOSURE__IBS__SWEDEN__HOUSEHOLDS -->
<g id="node65" class="node">
<title>EXPOSURE__IBS__SWEDEN__HOUSEHOLDS</title>
<g id="a_node65"><a xlink:title="EXPOSURE__IBS__SWEDEN__HOUSEHOLDS&#10;Exogen">
<polygon fill="yellow" stroke="black" points="807.32,-2382.5 513.72,-2382.5 513.72,-2346.5 807.32,-2346.5 807.32,-2382.5"/>
<text text-anchor="start" x="519.52" y="-2359.45" font-family="Times New Roman,serif" font-size="14.00" fill="blue">EXPOSURE__IBS__SWEDEN__HOUSEHOLDS:</text>
</a>
</g>
</g>
<!-- EXPOSURE__IBS__SWEDEN__HOUSEHOLDS&#45;&gt;EL__IBS__SWEDEN__HOUSEHOLDS -->
<g id="edge93" class="edge">
<title>EXPOSURE__IBS__SWEDEN__HOUSEHOLDS&#45;&gt;EL__IBS__SWEDEN__HOUSEHOLDS</title>
<g id="a_edge93"><a xlink:href="bogus" xlink:title="NA">
<path fill="none" stroke="black" stroke-width="0.5" d="M807.76,-2372.47C877.22,-2376.26 959.53,-2380.75 1026.77,-2384.41"/>
<polygon fill="black" stroke="black" stroke-width="0.5" points="1026.5,-2387.9 1036.68,-2384.95 1026.88,-2380.91 1026.5,-2387.9"/>
</a>
</g>
</g>
<!-- EL__IBS__DENMARK__RE -->
<g id="node66" class="node">
<title>EL__IBS__DENMARK__RE</title>
<g id="a_node66"><a xlink:title="EL__IBS__DENMARK__RE&#10;FRML &lt;&gt; EL__IBS__DENMARK__RE = EXPOSURE__IBS__DENMARK__RE*PD__IBS__DENMARK__RE*LGD__IBS__DENMARK__RE $">
<polygon fill="#63b8ff" stroke="black" points="1247.55,-2166.5 1067.95,-2166.5 1067.95,-2130.5 1247.55,-2130.5 1247.55,-2166.5"/>
<text text-anchor="start" x="1073.75" y="-2143.45" font-family="Times New Roman,serif" font-size="14.00" fill="blue">EL__IBS__DENMARK__RE:</text>
</a>
</g>
</g>
<!-- EL__IBS__DENMARK__RE&#45;&gt;EXPECTED_LOSS_IBS -->
<g id="edge59" class="edge">
<title>EL__IBS__DENMARK__RE&#45;&gt;EXPECTED_LOSS_IBS</title>
<g id="a_edge59"><a xlink:href="bogus" xlink:title="NA">
<path fill="none" stroke="black" stroke-width="0.5" d="M1247.94,-2145.17C1305.62,-2141.8 1382.08,-2135.03 1448.55,-2121.5 1471.64,-2116.8 1496.42,-2109.47 1518.01,-2102.29"/>
<polygon fill="black" stroke="black" stroke-width="0.5" points="1518.94,-2105.67 1527.29,-2099.15 1516.7,-2099.04 1518.94,-2105.67"/>
</a>
</g>
</g>
<!-- PD__DANSKE__DENMARK__RE&#45;&gt;EL__DANSKE__DENMARK__RE -->
<g id="edge45" class="edge">
<title>PD__DANSKE__DENMARK__RE&#45;&gt;EL__DANSKE__DENMARK__RE</title>
<g id="a_edge45"><a xlink:href="bogus" xlink:title="NA">
<path fill="none" stroke="black" stroke-width="0.5" d="M767.7,-577.91C791.61,-582.19 814.69,-591.48 830.95,-609.5 927.57,-716.57 766.89,-1153.63 866.95,-1257.5 915.93,-1308.35 997.77,-1311.73 1062.01,-1304.32"/>
<polygon fill="black" stroke="black" stroke-width="0.5" points="1062.34,-1307.81 1071.82,-1303.08 1061.46,-1300.86 1062.34,-1307.81"/>
</a>
</g>
</g>
<!-- PD__DANSKE__DENMARK__RE&#45;&gt;PD__DANSKE__DENMARK__RE(&#45;1) -->
<g id="edge83" class="edge">
<title>PD__DANSKE__DENMARK__RE&#45;&gt;PD__DANSKE__DENMARK__RE(&#45;1)</title>
<g id="a_edge83"><a xlink:href="bogus" xlink:title="NA">
<path fill="none" stroke="black" stroke-width="0.5" d="M768.07,-576.84C815.7,-576.01 873.79,-575.65 930.39,-575.77"/>
<polygon fill="black" stroke="black" stroke-width="0.5" points="930.17,-579.27 940.18,-575.8 930.19,-572.27 930.17,-579.27"/>
</a>
</g>
</g>
<!-- LGD__NORDEA__SWEDEN__NFC -->
<g id="node68" class="node">
<title>LGD__NORDEA__SWEDEN__NFC</title>
<g id="a_node68"><a xlink:title="LGD__NORDEA__SWEDEN__NFC&#10;Exogen">
<polygon fill="yellow" stroke="black" points="772.07,-3138.5 548.97,-3138.5 548.97,-3102.5 772.07,-3102.5 772.07,-3138.5"/>
<text text-anchor="start" x="554.77" y="-3115.45" font-family="Times New Roman,serif" font-size="14.00" fill="blue">LGD__NORDEA__SWEDEN__NFC:</text>
</a>
</g>
</g>
<!-- LGD__NORDEA__SWEDEN__NFC&#45;&gt;EL__NORDEA__SWEDEN__NFC -->
<g id="edge11" class="edge">
<title>LGD__NORDEA__SWEDEN__NFC&#45;&gt;EL__NORDEA__SWEDEN__NFC</title>
<g id="a_edge11"><a xlink:href="bogus" xlink:title="NA">
<path fill="none" stroke="black" stroke-width="0.5" d="M772.35,-3129.45C852.33,-3135.91 960.05,-3144.61 1041.11,-3151.16"/>
<polygon fill="black" stroke="black" stroke-width="0.5" points="1040.36,-3154.61 1050.61,-3151.93 1040.92,-3147.63 1040.36,-3154.61"/>
</a>
</g>
</g>
<!-- PD__IBS__SWEDEN__NFC&#45;&gt;EL__IBS__SWEDEN__NFC -->
<g id="edge123" class="edge">
<title>PD__IBS__SWEDEN__NFC&#45;&gt;EL__IBS__SWEDEN__NFC</title>
<g id="a_edge123"><a xlink:href="bogus" xlink:title="NA">
<path fill="none" stroke="black" stroke-width="0.5" d="M749.37,-1439.77C779.32,-1442.3 810.39,-1451.13 830.95,-1473.5 904.24,-1553.23 794.71,-1878.82 866.95,-1959.5 914,-2012.05 994.39,-2023.67 1058.58,-2023.2"/>
<polygon fill="black" stroke="black" stroke-width="0.5" points="1058.45,-2026.7 1068.39,-2023.02 1058.33,-2019.7 1058.45,-2026.7"/>
</a>
</g>
</g>
<!-- PD__IBS__SWEDEN__NFC(&#45;1) -->
<g id="node95" class="node">
<title>PD__IBS__SWEDEN__NFC(&#45;1)</title>
<g id="a_node95"><a xlink:title="PD__IBS__SWEDEN__NFC&#10;FRML &lt;&gt; PD__IBS__SWEDEN__NFC = 0.02+0.8*PD__IBS__SWEDEN__NFC(&#45;1)+0.1*GDP_GROWTH__SWEDEN $">
<polygon fill="springgreen" stroke="black" points="1337.55,-1464.5 977.95,-1464.5 977.95,-1428.5 1337.55,-1428.5 1337.55,-1464.5"/>
<text text-anchor="start" x="983.75" y="-1441.45" font-family="Times New Roman,serif" font-size="14.00" fill="blue">PD__IBS__SWEDEN__NFC(&#45;1):PD__IBS__SWEDEN__NFC</text>
</a>
</g>
</g>
<!-- PD__IBS__SWEDEN__NFC&#45;&gt;PD__IBS__SWEDEN__NFC(&#45;1) -->
<g id="edge136" class="edge">
<title>PD__IBS__SWEDEN__NFC&#45;&gt;PD__IBS__SWEDEN__NFC(&#45;1)</title>
<g id="a_edge136"><a xlink:href="bogus" xlink:title="NA">
<path fill="none" stroke="black" stroke-width="0.5" d="M749.49,-1441.2C809.82,-1439.9 892.18,-1439.48 967.06,-1439.92"/>
<polygon fill="black" stroke="black" stroke-width="0.5" points="966.79,-1443.42 976.81,-1439.98 966.84,-1436.42 966.79,-1443.42"/>
</a>
</g>
</g>
<!-- EL__IBS__SWEDEN__HOUSEHOLDS&#45;&gt;EXPECTED_LOSS_IBS -->
<g id="edge10" class="edge">
<title>EL__IBS__SWEDEN__HOUSEHOLDS&#45;&gt;EXPECTED_LOSS_IBS</title>
<g id="a_edge10"><a xlink:href="bogus" xlink:title="NA">
<path fill="none" stroke="black" stroke-width="0.5" d="M1220.04,-2373.06C1282.39,-2352.13 1379.41,-2313.33 1448.55,-2256.5 1500.34,-2213.93 1542.01,-2145.99 1562.77,-2108.18"/>
<polygon fill="black" stroke="black" stroke-width="0.5" points="1565.8,-2109.94 1567.47,-2099.47 1559.64,-2106.61 1565.8,-2109.94"/>
</a>
</g>
</g>
<!-- LGD__IBS__SWEDEN__RE -->
<g id="node71" class="node">
<title>LGD__IBS__SWEDEN__RE</title>
<g id="a_node71"><a xlink:title="LGD__IBS__SWEDEN__RE&#10;Exogen">
<polygon fill="yellow" stroke="black" points="749.95,-2328.5 571.1,-2328.5 571.1,-2292.5 749.95,-2292.5 749.95,-2328.5"/>
<text text-anchor="start" x="576.9" y="-2305.45" font-family="Times New Roman,serif" font-size="14.00" fill="blue">LGD__IBS__SWEDEN__RE:</text>
</a>
</g>
</g>
<!-- LGD__IBS__SWEDEN__RE&#45;&gt;EL__IBS__SWEDEN__RE -->
<g id="edge102" class="edge">
<title>LGD__IBS__SWEDEN__RE&#45;&gt;EL__IBS__SWEDEN__RE</title>
<g id="a_edge102"><a xlink:href="bogus" xlink:title="NA">
<path fill="none" stroke="black" stroke-width="0.5" d="M750.35,-2296.45C776.33,-2292.31 804.78,-2287.75 830.95,-2283.5 909.38,-2270.75 998.37,-2255.98 1063.51,-2245.11"/>
<polygon fill="black" stroke="black" stroke-width="0.5" points="1063.72,-2248.63 1073,-2243.53 1062.56,-2241.72 1063.72,-2248.63"/>
</a>
</g>
</g>
<!-- EXPOSURE__IBS__SWEDEN__NFC -->
<g id="node72" class="node">
<title>EXPOSURE__IBS__SWEDEN__NFC</title>
<g id="a_node72"><a xlink:title="EXPOSURE__IBS__SWEDEN__NFC&#10;Exogen">
<polygon fill="yellow" stroke="black" points="775.45,-2004.5 545.6,-2004.5 545.6,-1968.5 775.45,-1968.5 775.45,-2004.5"/>
<text text-anchor="start" x="551.4" y="-1981.45" font-family="Times New Roman,serif" font-size="14.00" fill="blue">EXPOSURE__IBS__SWEDEN__NFC:</text>
</a>
</g>
</g>
<!-- EXPOSURE__IBS__SWEDEN__NFC&#45;&gt;EL__IBS__SWEDEN__NFC -->
<g id="edge27" class="edge">
<title>EXPOSURE__IBS__SWEDEN__NFC&#45;&gt;EL__IBS__SWEDEN__NFC</title>
<g id="a_edge27"><a xlink:href="bogus" xlink:title="NA">
<path fill="none" stroke="black" stroke-width="0.5" d="M775.76,-1992.73C861.37,-1997.4 977.28,-2003.72 1058.7,-2008.15"/>
<polygon fill="black" stroke="black" stroke-width="0.5" points="1058.02,-2011.62 1068.2,-2008.67 1058.4,-2004.63 1058.02,-2011.62"/>
</a>
</g>
</g>
<!-- LGD__DANSKE__SWEDEN__SOV -->
<g id="node73" class="node">
<title>LGD__DANSKE__SWEDEN__SOV</title>
<g id="a_node73"><a xlink:title="LGD__DANSKE__SWEDEN__SOV&#10;Exogen">
<polygon fill="yellow" stroke="black" points="771.32,-384.5 549.72,-384.5 549.72,-348.5 771.32,-348.5 771.32,-384.5"/>
<text text-anchor="start" x="555.52" y="-361.45" font-family="Times New Roman,serif" font-size="14.00" fill="blue">LGD__DANSKE__SWEDEN__SOV:</text>
</a>
</g>
</g>
<!-- LGD__DANSKE__SWEDEN__SOV&#45;&gt;EL__DANSKE__SWEDEN__SOV -->
<g id="edge128" class="edge">
<title>LGD__DANSKE__SWEDEN__SOV&#45;&gt;EL__DANSKE__SWEDEN__SOV</title>
<g id="a_edge128"><a xlink:href="bogus" xlink:title="NA">
<path fill="none" stroke="black" stroke-width="0.5" d="M771.74,-372.51C852.1,-376.89 960.7,-382.81 1042.08,-387.25"/>
<polygon fill="black" stroke="black" stroke-width="0.5" points="1041.43,-390.72 1051.61,-387.77 1041.81,-383.73 1041.43,-390.72"/>
</a>
</g>
</g>
<!-- PD__IBS__DENMARK__NFC&#45;&gt;EL__IBS__DENMARK__NFC -->
<g id="edge90" class="edge">
<title>PD__IBS__DENMARK__NFC&#45;&gt;EL__IBS__DENMARK__NFC</title>
<g id="a_edge90"><a xlink:href="bogus" xlink:title="NA">
<path fill="none" stroke="black" stroke-width="0.5" d="M755.29,-2088.63C783.26,-2091.83 811.58,-2100.87 830.95,-2121.5 888.7,-2183.02 807.22,-2439.9 866.95,-2499.5 915.82,-2548.27 995.09,-2552.67 1058.38,-2546.17"/>
<polygon fill="black" stroke="black" stroke-width="0.5" points="1058.5,-2549.68 1068.04,-2545.08 1057.71,-2542.73 1058.5,-2549.68"/>
</a>
</g>
</g>
<!-- PD__IBS__DENMARK__NFC&#45;&gt;PD__IBS__DENMARK__NFC(&#45;1) -->
<g id="edge131" class="edge">
<title>PD__IBS__DENMARK__NFC&#45;&gt;PD__IBS__DENMARK__NFC(&#45;1)</title>
<g id="a_edge131"><a xlink:href="bogus" xlink:title="NA">
<path fill="none" stroke="black" stroke-width="0.5" d="M755.55,-2089.07C811.98,-2087.94 886.01,-2087.54 955.09,-2087.85"/>
<polygon fill="black" stroke="black" stroke-width="0.5" points="954.91,-2091.35 964.93,-2087.91 954.94,-2084.35 954.91,-2091.35"/>
</a>
</g>
</g>
<!-- LGD__DANSKE__DENMARK__SOV -->
<g id="node75" class="node">
<title>LGD__DANSKE__DENMARK__SOV</title>
<g id="a_node75"><a xlink:title="LGD__DANSKE__DENMARK__SOV&#10;Exogen">
<polygon fill="yellow" stroke="black" points="777.32,-924.5 543.72,-924.5 543.72,-888.5 777.32,-888.5 777.32,-924.5"/>
<text text-anchor="start" x="549.52" y="-901.45" font-family="Times New Roman,serif" font-size="14.00" fill="blue">LGD__DANSKE__DENMARK__SOV:</text>
</a>
</g>
</g>
<!-- LGD__DANSKE__DENMARK__SOV&#45;&gt;EL__DANSKE__DENMARK__SOV -->
<g id="edge21" class="edge">
<title>LGD__DANSKE__DENMARK__SOV&#45;&gt;EL__DANSKE__DENMARK__SOV</title>
<g id="a_edge21"><a xlink:href="bogus" xlink:title="NA">
<path fill="none" stroke="black" stroke-width="0.5" d="M777.63,-890.56C855.34,-879.89 957.38,-865.88 1036.02,-855.08"/>
<polygon fill="black" stroke="black" stroke-width="0.5" points="1036.29,-858.57 1045.72,-853.75 1035.34,-851.64 1036.29,-858.57"/>
</a>
</g>
</g>
<!-- EL__DANSKE__SWEDEN__HOUSEHOLDS -->
<g id="node76" class="node">
<title>EL__DANSKE__SWEDEN__HOUSEHOLDS</title>
<g id="a_node76"><a xlink:title="EL__DANSKE__SWEDEN__HOUSEHOLDS&#10;FRML &lt;&gt; EL__DANSKE__SWEDEN__HOUSEHOLDS = EXPOSURE__DANSKE__SWEDEN__HOUSEHOLDS*PD__DANSKE__SWEDEN__HOUSEHOLDS*LGD__DANSKE__SWEDEN__HOUSEHOLDS $">
<polygon fill="#63b8ff" stroke="black" points="1294.8,-681.5 1020.7,-681.5 1020.7,-645.5 1294.8,-645.5 1294.8,-681.5"/>
<text text-anchor="start" x="1026.5" y="-658.45" font-family="Times New Roman,serif" font-size="14.00" fill="blue">EL__DANSKE__SWEDEN__HOUSEHOLDS:</text>
</a>
</g>
</g>
<!-- EL__DANSKE__SWEDEN__HOUSEHOLDS&#45;&gt;EXPECTED_LOSS_DANSKE -->
<g id="edge98" class="edge">
<title>EL__DANSKE__SWEDEN__HOUSEHOLDS&#45;&gt;EXPECTED_LOSS_DANSKE</title>
<g id="a_edge98"><a xlink:href="bogus" xlink:title="NA">
<path fill="none" stroke="black" stroke-width="0.5" d="M1268,-681.96C1323.11,-692.96 1390.42,-709.03 1448.55,-730.5 1479.85,-742.06 1513.2,-759.61 1538.09,-773.85"/>
<polygon fill="black" stroke="black" stroke-width="0.5" points="1536.13,-776.76 1546.54,-778.75 1539.64,-770.71 1536.13,-776.76"/>
</a>
</g>
</g>
<!-- PD__DANSKE__SWEDEN__HOUSEHOLDS&#45;&gt;PD__DANSKE__SWEDEN__HOUSEHOLDS(&#45;1) -->
<g id="edge60" class="edge">
<title>PD__DANSKE__SWEDEN__HOUSEHOLDS&#45;&gt;PD__DANSKE__SWEDEN__HOUSEHOLDS(&#45;1)</title>
<g id="a_edge60"><a xlink:href="bogus" xlink:title="NA">
<path fill="none" stroke="black" stroke-width="0.5" d="M798.16,-90.39C820.7,-90.11 844.8,-89.92 869.43,-89.83"/>
<polygon fill="black" stroke="black" stroke-width="0.5" points="869.27,-93.33 879.26,-89.79 869.25,-86.33 869.27,-93.33"/>
</a>
</g>
</g>
<!-- PD__DANSKE__SWEDEN__HOUSEHOLDS&#45;&gt;EL__DANSKE__SWEDEN__HOUSEHOLDS -->
<g id="edge26" class="edge">
<title>PD__DANSKE__SWEDEN__HOUSEHOLDS&#45;&gt;EL__DANSKE__SWEDEN__HOUSEHOLDS</title>
<g id="a_edge26"><a xlink:href="bogus" xlink:title="NA">
<path fill="none" stroke="black" stroke-width="0.5" d="M798.19,-101.01C810.51,-106.24 821.78,-113.52 830.95,-123.5 904.24,-203.23 794.71,-528.82 866.95,-609.5 902.64,-649.36 957.5,-665.67 1009.92,-671.02"/>
<polygon fill="black" stroke="black" stroke-width="0.5" points="1009.35,-674.48 1019.62,-671.88 1009.97,-667.51 1009.35,-674.48"/>
</a>
</g>
</g>
<!-- EL__IBS__SWEDEN__NFC&#45;&gt;EXPECTED_LOSS_IBS -->
<g id="edge139" class="edge">
<title>EL__IBS__SWEDEN__NFC&#45;&gt;EXPECTED_LOSS_IBS</title>
<g id="a_edge139"><a xlink:href="bogus" xlink:title="NA">
<path fill="none" stroke="black" stroke-width="0.5" d="M1246.45,-2027.55C1318.5,-2039.08 1419.97,-2055.34 1491.46,-2066.78"/>
<polygon fill="black" stroke="black" stroke-width="0.5" points="1490.6,-2070.19 1501.03,-2068.32 1491.71,-2063.28 1490.6,-2070.19"/>
</a>
</g>
</g>
<!-- EL__DANSKE__SWEDEN__SOV&#45;&gt;EXPECTED_LOSS_DANSKE -->
<g id="edge19" class="edge">
<title>EL__DANSKE__SWEDEN__SOV&#45;&gt;EXPECTED_LOSS_DANSKE</title>
<g id="a_edge19"><a xlink:href="bogus" xlink:title="NA">
<path fill="none" stroke="black" stroke-width="0.5" d="M1263.1,-411.24C1323.68,-426.26 1397.81,-453.38 1448.55,-501.5 1528.18,-577.02 1561.21,-710.26 1572.34,-768.68"/>
<polygon fill="black" stroke="black" stroke-width="0.5" points="1568.85,-769.06 1574.08,-778.27 1575.73,-767.8 1568.85,-769.06"/>
</a>
</g>
</g>
<!-- EL__IBS__DENMARK__SOV&#45;&gt;EXPECTED_LOSS_IBS -->
<g id="edge76" class="edge">
<title>EL__IBS__DENMARK__SOV&#45;&gt;EXPECTED_LOSS_IBS</title>
<g id="a_edge76"><a xlink:href="bogus" xlink:title="NA">
<path fill="none" stroke="black" stroke-width="0.5" d="M1252.23,-1851.64C1312.36,-1855.7 1389.93,-1868.69 1448.55,-1905.5 1505.82,-1941.46 1545.95,-2012.95 1564.84,-2052.52"/>
<polygon fill="black" stroke="black" stroke-width="0.5" points="1561.58,-2053.81 1568.97,-2061.4 1567.92,-2050.86 1561.58,-2053.81"/>
</a>
</g>
</g>
<!-- LGD__DANSKE__DENMARK__NFC -->
<g id="node81" class="node">
<title>LGD__DANSKE__DENMARK__NFC</title>
<g id="a_node81"><a xlink:title="LGD__DANSKE__DENMARK__NFC&#10;Exogen">
<polygon fill="yellow" stroke="black" points="777.32,-1194.5 543.72,-1194.5 543.72,-1158.5 777.32,-1158.5 777.32,-1194.5"/>
<text text-anchor="start" x="549.52" y="-1171.45" font-family="Times New Roman,serif" font-size="14.00" fill="blue">LGD__DANSKE__DENMARK__NFC:</text>
</a>
</g>
</g>
<!-- LGD__DANSKE__DENMARK__NFC&#45;&gt;EL__DANSKE__DENMARK__NFC -->
<g id="edge16" class="edge">
<title>LGD__DANSKE__DENMARK__NFC&#45;&gt;EL__DANSKE__DENMARK__NFC</title>
<g id="a_edge16"><a xlink:href="bogus" xlink:title="NA">
<path fill="none" stroke="black" stroke-width="0.5" d="M777.63,-1163.84C855.34,-1155.37 957.38,-1144.24 1036.02,-1135.66"/>
<polygon fill="black" stroke="black" stroke-width="0.5" points="1036.15,-1139.17 1045.72,-1134.61 1035.4,-1132.21 1036.15,-1139.17"/>
</a>
</g>
</g>
<!-- EL__DANSKE__DENMARK__HOUSEHOLDS&#45;&gt;EXPECTED_LOSS_DANSKE -->
<g id="edge75" class="edge">
<title>EL__DANSKE__DENMARK__HOUSEHOLDS&#45;&gt;EXPECTED_LOSS_DANSKE</title>
<g id="a_edge75"><a xlink:href="bogus" xlink:title="NA">
<path fill="none" stroke="black" stroke-width="0.5" d="M1301,-515.05C1351.21,-516.88 1405.76,-526.99 1448.55,-555.5 1524.51,-606.11 1558.81,-716.78 1571.24,-769.06"/>
<polygon fill="black" stroke="black" stroke-width="0.5" points="1567.77,-769.58 1573.4,-778.55 1574.59,-768.03 1567.77,-769.58"/>
</a>
</g>
</g>
<!-- PD__DANSKE__DENMARK__NFC(&#45;1) -->
<g id="node83" class="node">
<title>PD__DANSKE__DENMARK__NFC(&#45;1)</title>
<g id="a_node83"><a xlink:title="PD__DANSKE__DENMARK__NFC&#10;FRML &lt;&gt; PD__DANSKE__DENMARK__NFC = 0.02+0.8*PD__DANSKE__DENMARK__NFC(&#45;1)+0.1*GDP_GROWTH__DENMARK $">
<polygon fill="springgreen" stroke="black" points="1383.3,-330.5 932.2,-330.5 932.2,-294.5 1383.3,-294.5 1383.3,-330.5"/>
<text text-anchor="start" x="938" y="-307.45" font-family="Times New Roman,serif" font-size="14.00" fill="blue">PD__DANSKE__DENMARK__NFC(&#45;1):PD__DANSKE__DENMARK__NFC</text>
</a>
</g>
</g>
<!-- PD__DANSKE__DENMARK__NFC(&#45;1)&#45;&gt;PD__DANSKE__DENMARK__NFC -->
<g id="edge141" class="edge">
<title>PD__DANSKE__DENMARK__NFC(&#45;1)&#45;&gt;PD__DANSKE__DENMARK__NFC</title>
<g id="a_edge141"><a xlink:href="bogus" xlink:title="NA">
<path fill="none" stroke="black" stroke-width="0.5" d="M931.72,-319.22C880.49,-319.34 827.97,-319.06 783.02,-318.4"/>
<polygon fill="black" stroke="black" stroke-width="0.5" points="783.17,-314.9 773.11,-318.25 783.06,-321.9 783.17,-314.9"/>
</a>
</g>
</g>
<!-- PD__IBS__DENMARK__RE&#45;&gt;PD__IBS__DENMARK__RE(&#45;1) -->
<g id="edge143" class="edge">
<title>PD__IBS__DENMARK__RE&#45;&gt;PD__IBS__DENMARK__RE(&#45;1)</title>
<g id="a_edge143"><a xlink:href="bogus" xlink:title="NA">
<path fill="none" stroke="black" stroke-width="0.5" d="M750.92,-1765.17C810.32,-1763.91 890.63,-1763.49 964.13,-1763.9"/>
<polygon fill="black" stroke="black" stroke-width="0.5" points="963.68,-1767.4 973.7,-1763.96 963.72,-1760.4 963.68,-1767.4"/>
</a>
</g>
</g>
<!-- PD__IBS__DENMARK__RE&#45;&gt;EL__IBS__DENMARK__RE -->
<g id="edge61" class="edge">
<title>PD__IBS__DENMARK__RE&#45;&gt;EL__IBS__DENMARK__RE</title>
<g id="a_edge61"><a xlink:href="bogus" xlink:title="NA">
<path fill="none" stroke="black" stroke-width="0.5" d="M751.13,-1764.39C780.35,-1767.2 810.5,-1776.05 830.95,-1797.5 930.94,-1902.35 763.59,-2019.96 866.95,-2121.5 915.86,-2169.55 994.35,-2174.25 1057.31,-2168.05"/>
<polygon fill="black" stroke="black" stroke-width="0.5" points="1057.36,-2171.57 1066.92,-2167 1056.6,-2164.61 1057.36,-2171.57"/>
</a>
</g>
</g>
<!-- PD__IBS__SWEDEN__RE(&#45;1) -->
<g id="node85" class="node">
<title>PD__IBS__SWEDEN__RE(&#45;1)</title>
<g id="a_node85"><a xlink:title="PD__IBS__SWEDEN__RE&#10;FRML &lt;&gt; PD__IBS__SWEDEN__RE = 0.02+0.8*PD__IBS__SWEDEN__RE(&#45;1)+0.1*GDP_GROWTH__SWEDEN $">
<polygon fill="springgreen" stroke="black" points="1328.55,-1950.5 986.95,-1950.5 986.95,-1914.5 1328.55,-1914.5 1328.55,-1950.5"/>
<text text-anchor="start" x="992.75" y="-1927.45" font-family="Times New Roman,serif" font-size="14.00" fill="blue">PD__IBS__SWEDEN__RE(&#45;1):PD__IBS__SWEDEN__RE</text>
</a>
</g>
</g>
<!-- PD__IBS__SWEDEN__RE(&#45;1)&#45;&gt;PD__IBS__SWEDEN__RE -->
<g id="edge118" class="edge">
<title>PD__IBS__SWEDEN__RE(&#45;1)&#45;&gt;PD__IBS__SWEDEN__RE</title>
<g id="a_edge118"><a xlink:href="bogus" xlink:title="NA">
<path fill="none" stroke="black" stroke-width="0.5" d="M986.57,-1938.95C909.26,-1939.57 820.74,-1939.23 755.63,-1937.93"/>
<polygon fill="black" stroke="black" stroke-width="0.5" points="755.8,-1934.43 745.73,-1937.72 755.65,-1941.43 755.8,-1934.43"/>
</a>
</g>
</g>
<!-- EXPOSURE__IBS__DENMARK__RE -->
<g id="node86" class="node">
<title>EXPOSURE__IBS__DENMARK__RE</title>
<g id="a_node86"><a xlink:title="EXPOSURE__IBS__DENMARK__RE&#10;Exogen">
<polygon fill="yellow" stroke="black" points="776.95,-2220.5 544.1,-2220.5 544.1,-2184.5 776.95,-2184.5 776.95,-2220.5"/>
<text text-anchor="start" x="549.9" y="-2197.45" font-family="Times New Roman,serif" font-size="14.00" fill="blue">EXPOSURE__IBS__DENMARK__RE:</text>
</a>
</g>
</g>
<!-- EXPOSURE__IBS__DENMARK__RE&#45;&gt;EL__IBS__DENMARK__RE -->
<g id="edge165" class="edge">
<title>EXPOSURE__IBS__DENMARK__RE&#45;&gt;EL__IBS__DENMARK__RE</title>
<g id="a_edge165"><a xlink:href="bogus" xlink:title="NA">
<path fill="none" stroke="black" stroke-width="0.5" d="M777.32,-2189.87C862.13,-2180.63 976.05,-2168.2 1056.87,-2159.39"/>
<polygon fill="black" stroke="black" stroke-width="0.5" points="1057.24,-2162.87 1066.8,-2158.31 1056.48,-2155.91 1057.24,-2162.87"/>
</a>
</g>
</g>
<!-- PD__NORDEA__SWEDEN__SOV&#45;&gt;EL__NORDEA__SWEDEN__SOV -->
<g id="edge164" class="edge">
<title>PD__NORDEA__SWEDEN__SOV&#45;&gt;EL__NORDEA__SWEDEN__SOV</title>
<g id="a_edge164"><a xlink:href="bogus" xlink:title="NA">
<path fill="none" stroke="black" stroke-width="0.5" d="M767.19,-3062.88C790.96,-3067.18 814.11,-3076.22 830.95,-3093.5 915.46,-3180.19 779.67,-3279.61 866.95,-3363.5 915.42,-3410.09 991.79,-3415.54 1053.97,-3410.04"/>
<polygon fill="black" stroke="black" stroke-width="0.5" points="1054.25,-3413.53 1063.85,-3409.05 1053.56,-3406.56 1054.25,-3413.53"/>
</a>
</g>
</g>
<!-- PD__NORDEA__SWEDEN__SOV(&#45;1) -->
<g id="node115" class="node">
<title>PD__NORDEA__SWEDEN__SOV(&#45;1)</title>
<g id="a_node115"><a xlink:title="PD__NORDEA__SWEDEN__SOV&#10;FRML &lt;&gt; PD__NORDEA__SWEDEN__SOV = 0.02+0.8*PD__NORDEA__SWEDEN__SOV(&#45;1)+0.1*GDP_GROWTH__SWEDEN $">
<polygon fill="springgreen" stroke="black" points="1373.55,-3084.5 941.95,-3084.5 941.95,-3048.5 1373.55,-3048.5 1373.55,-3084.5"/>
<text text-anchor="start" x="947.75" y="-3061.45" font-family="Times New Roman,serif" font-size="14.00" fill="blue">PD__NORDEA__SWEDEN__SOV(&#45;1):PD__NORDEA__SWEDEN__SOV</text>
</a>
</g>
</g>
<!-- PD__NORDEA__SWEDEN__SOV&#45;&gt;PD__NORDEA__SWEDEN__SOV(&#45;1) -->
<g id="edge138" class="edge">
<title>PD__NORDEA__SWEDEN__SOV&#45;&gt;PD__NORDEA__SWEDEN__SOV(&#45;1)</title>
<g id="a_edge138"><a xlink:href="bogus" xlink:title="NA">
<path fill="none" stroke="black" stroke-width="0.5" d="M767.16,-3060.85C815.09,-3060.01 873.75,-3059.65 930.85,-3059.77"/>
<polygon fill="black" stroke="black" stroke-width="0.5" points="930.73,-3063.27 940.74,-3059.8 930.75,-3056.27 930.73,-3063.27"/>
</a>
</g>
</g>
<!-- LGD__NORDEA__SWEDEN__RE -->
<g id="node88" class="node">
<title>LGD__NORDEA__SWEDEN__RE</title>
<g id="a_node88"><a xlink:title="LGD__NORDEA__SWEDEN__RE&#10;Exogen">
<polygon fill="yellow" stroke="black" points="767.57,-3840.5 553.47,-3840.5 553.47,-3804.5 767.57,-3804.5 767.57,-3840.5"/>
<text text-anchor="start" x="559.27" y="-3817.45" font-family="Times New Roman,serif" font-size="14.00" fill="blue">LGD__NORDEA__SWEDEN__RE:</text>
</a>
</g>
</g>
<!-- LGD__NORDEA__SWEDEN__RE&#45;&gt;EL__NORDEA__SWEDEN__RE -->
<g id="edge99" class="edge">
<title>LGD__NORDEA__SWEDEN__RE&#45;&gt;EL__NORDEA__SWEDEN__RE</title>
<g id="a_edge99"><a xlink:href="bogus" xlink:title="NA">
<path fill="none" stroke="black" stroke-width="0.5" d="M768.07,-3822.5C849.77,-3822.5 962.22,-3822.5 1045.15,-3822.5"/>
<polygon fill="black" stroke="black" stroke-width="0.5" points="1045.13,-3826 1055.13,-3822.5 1045.13,-3819 1045.13,-3826"/>
</a>
</g>
</g>
<!-- LGD__NORDEA__DENMARK__HOUSEHOLDS -->
<g id="node89" class="node">
<title>LGD__NORDEA__DENMARK__HOUSEHOLDS</title>
<g id="a_node89"><a xlink:title="LGD__NORDEA__DENMARK__HOUSEHOLDS&#10;Exogen">
<polygon fill="yellow" stroke="black" points="809.95,-2760.5 511.1,-2760.5 511.1,-2724.5 809.95,-2724.5 809.95,-2760.5"/>
<text text-anchor="start" x="516.9" y="-2737.45" font-family="Times New Roman,serif" font-size="14.00" fill="blue">LGD__NORDEA__DENMARK__HOUSEHOLDS:</text>
</a>
</g>
</g>
<!-- LGD__NORDEA__DENMARK__HOUSEHOLDS&#45;&gt;EL__NORDEA__DENMARK__HOUSEHOLDS -->
<g id="edge35" class="edge">
<title>LGD__NORDEA__DENMARK__HOUSEHOLDS&#45;&gt;EL__NORDEA__DENMARK__HOUSEHOLDS</title>
<g id="a_edge35"><a xlink:href="bogus" xlink:title="NA">
<path fill="none" stroke="black" stroke-width="0.5" d="M810.44,-2750.62C871.3,-2753.94 941.67,-2757.77 1003.01,-2761.12"/>
<polygon fill="black" stroke="black" stroke-width="0.5" points="1002.63,-2764.6 1012.81,-2761.65 1003.01,-2757.61 1002.63,-2764.6"/>
</a>
</g>
</g>
<!-- PD__NORDEA__DENMARK__RE&#45;&gt;EL__NORDEA__DENMARK__RE -->
<g id="edge72" class="edge">
<title>PD__NORDEA__DENMARK__RE&#45;&gt;EL__NORDEA__DENMARK__RE</title>
<g id="a_edge72"><a xlink:href="bogus" xlink:title="NA">
<path fill="none" stroke="black" stroke-width="0.5" d="M768.81,-3334.41C791.69,-3338.85 814.03,-3347.58 830.95,-3363.5 884.66,-3414.05 811.62,-3476.73 866.95,-3525.5 913.17,-3566.24 981.1,-3574.3 1039.58,-3571.56"/>
<polygon fill="black" stroke="black" stroke-width="0.5" points="1039.47,-3575.08 1049.25,-3571 1039.06,-3568.09 1039.47,-3575.08"/>
</a>
</g>
</g>
<!-- PD__NORDEA__DENMARK__RE(&#45;1) -->
<g id="node122" class="node">
<title>PD__NORDEA__DENMARK__RE(&#45;1)</title>
<g id="a_node122"><a xlink:title="PD__NORDEA__DENMARK__RE&#10;FRML &lt;&gt; PD__NORDEA__DENMARK__RE = 0.02+0.8*PD__NORDEA__DENMARK__RE(&#45;1)+0.1*GDP_GROWTH__DENMARK $">
<polygon fill="springgreen" stroke="black" points="1375.8,-3354.5 939.7,-3354.5 939.7,-3318.5 1375.8,-3318.5 1375.8,-3354.5"/>
<text text-anchor="start" x="945.5" y="-3331.45" font-family="Times New Roman,serif" font-size="14.00" fill="blue">PD__NORDEA__DENMARK__RE(&#45;1):PD__NORDEA__DENMARK__RE</text>
</a>
</g>
</g>
<!-- PD__NORDEA__DENMARK__RE&#45;&gt;PD__NORDEA__DENMARK__RE(&#45;1) -->
<g id="edge70" class="edge">
<title>PD__NORDEA__DENMARK__RE&#45;&gt;PD__NORDEA__DENMARK__RE(&#45;1)</title>
<g id="a_edge70"><a xlink:href="bogus" xlink:title="NA">
<path fill="none" stroke="black" stroke-width="0.5" d="M768.68,-3330.83C815.8,-3330.01 873.06,-3329.66 928.97,-3329.77"/>
<polygon fill="black" stroke="black" stroke-width="0.5" points="928.63,-3333.27 938.63,-3329.79 928.64,-3326.27 928.63,-3333.27"/>
</a>
</g>
</g>
<!-- LGD__NORDEA__DENMARK__NFC -->
<g id="node91" class="node">
<title>LGD__NORDEA__DENMARK__NFC</title>
<g id="a_node91"><a xlink:title="LGD__NORDEA__DENMARK__NFC&#10;Exogen">
<polygon fill="yellow" stroke="black" points="778.07,-3030.5 542.97,-3030.5 542.97,-2994.5 778.07,-2994.5 778.07,-3030.5"/>
<text text-anchor="start" x="548.77" y="-3007.45" font-family="Times New Roman,serif" font-size="14.00" fill="blue">LGD__NORDEA__DENMARK__NFC:</text>
</a>
</g>
</g>
<!-- EL__NORDEA__DENMARK__NFC -->
<g id="node105" class="node">
<title>EL__NORDEA__DENMARK__NFC</title>
<g id="a_node105"><a xlink:title="EL__NORDEA__DENMARK__NFC&#10;FRML &lt;&gt; EL__NORDEA__DENMARK__NFC = EXPOSURE__NORDEA__DENMARK__NFC*PD__NORDEA__DENMARK__NFC*LGD__NORDEA__DENMARK__NFC $">
<polygon fill="#63b8ff" stroke="black" points="1269.67,-3003.5 1045.83,-3003.5 1045.83,-2967.5 1269.67,-2967.5 1269.67,-3003.5"/>
<text text-anchor="start" x="1051.62" y="-2980.45" font-family="Times New Roman,serif" font-size="14.00" fill="blue">EL__NORDEA__DENMARK__NFC:</text>
</a>
</g>
</g>
<!-- LGD__NORDEA__DENMARK__NFC&#45;&gt;EL__NORDEA__DENMARK__NFC -->
<g id="edge87" class="edge">
<title>LGD__NORDEA__DENMARK__NFC&#45;&gt;EL__NORDEA__DENMARK__NFC</title>
<g id="a_edge87"><a xlink:href="bogus" xlink:title="NA">
<path fill="none" stroke="black" stroke-width="0.5" d="M778.57,-3006.12C855.89,-3001.9 957.01,-2996.39 1035.22,-2992.13"/>
<polygon fill="black" stroke="black" stroke-width="0.5" points="1035.07,-2995.64 1044.86,-2991.6 1034.68,-2988.65 1035.07,-2995.64"/>
</a>
</g>
</g>
<!-- LGD__IBS__DENMARK__HOUSEHOLDS -->
<g id="node92" class="node">
<title>LGD__IBS__DENMARK__HOUSEHOLDS</title>
<g id="a_node92"><a xlink:title="LGD__IBS__DENMARK__HOUSEHOLDS&#10;Exogen">
<polygon fill="yellow" stroke="black" points="792.32,-1626.5 528.72,-1626.5 528.72,-1590.5 792.32,-1590.5 792.32,-1626.5"/>
<text text-anchor="start" x="534.52" y="-1603.45" font-family="Times New Roman,serif" font-size="14.00" fill="blue">LGD__IBS__DENMARK__HOUSEHOLDS:</text>
</a>
</g>
</g>
<!-- LGD__IBS__DENMARK__HOUSEHOLDS&#45;&gt;EL__IBS__DENMARK__HOUSEHOLDS -->
<g id="edge46" class="edge">
<title>LGD__IBS__DENMARK__HOUSEHOLDS&#45;&gt;EL__IBS__DENMARK__HOUSEHOLDS</title>
<g id="a_edge46"><a xlink:href="bogus" xlink:title="NA">
<path fill="none" stroke="black" stroke-width="0.5" d="M792.61,-1601.35C863.08,-1597.51 949.85,-1592.78 1021.02,-1588.9"/>
<polygon fill="black" stroke="black" stroke-width="0.5" points="1020.85,-1592.41 1030.64,-1588.38 1020.47,-1585.43 1020.85,-1592.41"/>
</a>
</g>
</g>
<!-- PD__IBS__DENMARK__SOV&#45;&gt;PD__IBS__DENMARK__SOV(&#45;1) -->
<g id="edge53" class="edge">
<title>PD__IBS__DENMARK__SOV&#45;&gt;PD__IBS__DENMARK__SOV(&#45;1)</title>
<g id="a_edge53"><a xlink:href="bogus" xlink:title="NA">
<path fill="none" stroke="black" stroke-width="0.5" d="M755.55,-1225.07C811.78,-1223.95 885.48,-1223.54 954.35,-1223.85"/>
<polygon fill="black" stroke="black" stroke-width="0.5" points="954.14,-1227.35 964.16,-1223.9 954.18,-1220.35 954.14,-1227.35"/>
</a>
</g>
</g>
<!-- PD__IBS__DENMARK__SOV&#45;&gt;EL__IBS__DENMARK__SOV -->
<g id="edge137" class="edge">
<title>PD__IBS__DENMARK__SOV&#45;&gt;EL__IBS__DENMARK__SOV</title>
<g id="a_edge137"><a xlink:href="bogus" xlink:title="NA">
<path fill="none" stroke="black" stroke-width="0.5" d="M755.64,-1224.3C783.63,-1227.49 811.88,-1236.6 830.95,-1257.5 912.01,-1346.34 787.06,-1707.61 866.95,-1797.5 912.44,-1848.68 989.54,-1861.12 1052.79,-1861.32"/>
<polygon fill="black" stroke="black" stroke-width="0.5" points="1052.48,-1864.82 1062.46,-1861.25 1052.43,-1857.82 1052.48,-1864.82"/>
</a>
</g>
</g>
<!-- PD__NORDEA__DENMARK__NFC&#45;&gt;PD__NORDEA__DENMARK__NFC(&#45;1) -->
<g id="edge134" class="edge">
<title>PD__NORDEA__DENMARK__NFC&#45;&gt;PD__NORDEA__DENMARK__NFC(&#45;1)</title>
<g id="a_edge134"><a xlink:href="bogus" xlink:title="NA">
<path fill="none" stroke="black" stroke-width="0.5" d="M547.96,-2964.5C522.26,-2964.9 493.97,-2965.14 465.16,-2965.22"/>
<polygon fill="black" stroke="black" stroke-width="0.5" points="465.28,-2961.72 455.29,-2965.24 465.29,-2968.72 465.28,-2961.72"/>
</a>
</g>
</g>
<!-- PD__NORDEA__DENMARK__NFC&#45;&gt;EL__NORDEA__DENMARK__NFC -->
<g id="edge34" class="edge">
<title>PD__NORDEA__DENMARK__NFC&#45;&gt;EL__NORDEA__DENMARK__NFC</title>
<g id="a_edge34"><a xlink:href="bogus" xlink:title="NA">
<path fill="none" stroke="black" stroke-width="0.5" d="M773.28,-2964.59C851.09,-2968.84 954.82,-2974.49 1034.78,-2978.85"/>
<polygon fill="black" stroke="black" stroke-width="0.5" points="1034.47,-2982.34 1044.65,-2979.39 1034.85,-2975.35 1034.47,-2982.34"/>
</a>
</g>
</g>
<!-- PD__IBS__SWEDEN__NFC(&#45;1)&#45;&gt;PD__IBS__SWEDEN__NFC -->
<g id="edge64" class="edge">
<title>PD__IBS__SWEDEN__NFC(&#45;1)&#45;&gt;PD__IBS__SWEDEN__NFC</title>
<g id="a_edge64"><a xlink:href="bogus" xlink:title="NA">
<path fill="none" stroke="black" stroke-width="0.5" d="M977.57,-1453.02C904.22,-1453.53 822.18,-1453.2 760.06,-1452.02"/>
<polygon fill="black" stroke="black" stroke-width="0.5" points="760.32,-1448.52 750.25,-1451.82 760.17,-1455.52 760.32,-1448.52"/>
</a>
</g>
</g>
<!-- PD__DANSKE__SWEDEN__RE&#45;&gt;PD__DANSKE__SWEDEN__RE(&#45;1) -->
<g id="edge150" class="edge">
<title>PD__DANSKE__SWEDEN__RE&#45;&gt;PD__DANSKE__SWEDEN__RE(&#45;1)</title>
<g id="a_edge150"><a xlink:href="bogus" xlink:title="NA">
<path fill="none" stroke="black" stroke-width="0.5" d="M762.04,-144.95C814.06,-143.98 879.67,-143.6 942.38,-143.8"/>
<polygon fill="black" stroke="black" stroke-width="0.5" points="942.06,-147.3 952.07,-143.84 942.09,-140.3 942.06,-147.3"/>
</a>
</g>
</g>
<!-- PD__DANSKE__SWEDEN__RE&#45;&gt;EL__DANSKE__SWEDEN__RE -->
<g id="edge43" class="edge">
<title>PD__DANSKE__SWEDEN__RE&#45;&gt;EL__DANSKE__SWEDEN__RE</title>
<g id="a_edge43"><a xlink:href="bogus" xlink:title="NA">
<path fill="none" stroke="black" stroke-width="0.5" d="M761.78,-145.15C787.7,-148.94 813.25,-158.17 830.95,-177.5 908.13,-261.78 792.73,-603.6 866.95,-690.5 910.38,-741.36 984.04,-757.9 1046.22,-761.84"/>
<polygon fill="black" stroke="black" stroke-width="0.5" points="1045.96,-765.33 1056.13,-762.36 1046.33,-758.34 1045.96,-765.33"/>
</a>
</g>
</g>
<!-- EL__IBS__SWEDEN__SOV&#45;&gt;EXPECTED_LOSS_IBS -->
<g id="edge32" class="edge">
<title>EL__IBS__SWEDEN__SOV&#45;&gt;EXPECTED_LOSS_IBS</title>
<g id="a_edge32"><a xlink:href="bogus" xlink:title="NA">
<path fill="none" stroke="black" stroke-width="0.5" d="M1246.44,-1684.39C1309.39,-1685.38 1392.65,-1696.86 1448.55,-1743.5 1545.37,-1824.27 1569.41,-1986.46 1575.26,-2052.03"/>
<polygon fill="black" stroke="black" stroke-width="0.5" points="1571.75,-2051.96 1576.05,-2061.65 1578.72,-2051.4 1571.75,-2051.96"/>
</a>
</g>
</g>
<!-- PD__NORDEA__SWEDEN__NFC&#45;&gt;EL__NORDEA__SWEDEN__NFC -->
<g id="edge105" class="edge">
<title>PD__NORDEA__SWEDEN__NFC&#45;&gt;EL__NORDEA__SWEDEN__NFC</title>
<g id="a_edge105"><a xlink:href="bogus" xlink:title="NA">
<path fill="none" stroke="black" stroke-width="0.5" d="M767.21,-2684.36C791.13,-2688.64 814.33,-2697.8 830.95,-2715.5 888.7,-2777.02 811.36,-3030.02 866.95,-3093.5 909.72,-3142.34 980.38,-3159.37 1041.22,-3164.05"/>
<polygon fill="black" stroke="black" stroke-width="0.5" points="1040.71,-3167.53 1050.92,-3164.69 1041.17,-3160.54 1040.71,-3167.53"/>
</a>
</g>
</g>
<!-- PD__NORDEA__SWEDEN__NFC(&#45;1) -->
<g id="node112" class="node">
<title>PD__NORDEA__SWEDEN__NFC(&#45;1)</title>
<g id="a_node112"><a xlink:title="PD__NORDEA__SWEDEN__NFC&#10;FRML &lt;&gt; PD__NORDEA__SWEDEN__NFC = 0.02+0.8*PD__NORDEA__SWEDEN__NFC(&#45;1)+0.1*GDP_GROWTH__SWEDEN $">
<polygon fill="springgreen" stroke="black" points="1372.8,-2706.5 942.7,-2706.5 942.7,-2670.5 1372.8,-2670.5 1372.8,-2706.5"/>
<text text-anchor="start" x="948.5" y="-2683.45" font-family="Times New Roman,serif" font-size="14.00" fill="blue">PD__NORDEA__SWEDEN__NFC(&#45;1):PD__NORDEA__SWEDEN__NFC</text>
</a>
</g>
</g>
<!-- PD__NORDEA__SWEDEN__NFC&#45;&gt;PD__NORDEA__SWEDEN__NFC(&#45;1) -->
<g id="edge146" class="edge">
<title>PD__NORDEA__SWEDEN__NFC&#45;&gt;PD__NORDEA__SWEDEN__NFC(&#45;1)</title>
<g id="a_edge146"><a xlink:href="bogus" xlink:title="NA">
<path fill="none" stroke="black" stroke-width="0.5" d="M767.16,-2682.85C815.29,-2682.01 874.24,-2681.65 931.57,-2681.77"/>
<polygon fill="black" stroke="black" stroke-width="0.5" points="931.49,-2685.27 941.5,-2681.8 931.51,-2678.27 931.49,-2685.27"/>
</a>
</g>
</g>
<!-- EXPOSURE__DANSKE__DENMARK__NFC -->
<g id="node99" class="node">
<title>EXPOSURE__DANSKE__DENMARK__NFC</title>
<g id="a_node99"><a xlink:title="EXPOSURE__DANSKE__DENMARK__NFC&#10;Exogen">
<polygon fill="yellow" stroke="black" points="798.32,-1140.5 522.72,-1140.5 522.72,-1104.5 798.32,-1104.5 798.32,-1140.5"/>
<text text-anchor="start" x="528.52" y="-1117.45" font-family="Times New Roman,serif" font-size="14.00" fill="blue">EXPOSURE__DANSKE__DENMARK__NFC:</text>
</a>
</g>
</g>
<!-- EXPOSURE__DANSKE__DENMARK__NFC&#45;&gt;EL__DANSKE__DENMARK__NFC -->
<g id="edge12" class="edge">
<title>EXPOSURE__DANSKE__DENMARK__NFC&#45;&gt;EL__DANSKE__DENMARK__NFC</title>
<g id="a_edge12"><a xlink:href="bogus" xlink:title="NA">
<path fill="none" stroke="black" stroke-width="0.5" d="M798.82,-1122.5C873.16,-1122.5 964.19,-1122.5 1035.84,-1122.5"/>
<polygon fill="black" stroke="black" stroke-width="0.5" points="1035.51,-1126 1045.51,-1122.5 1035.51,-1119 1035.51,-1126"/>
</a>
</g>
</g>
<!-- EXPOSURE__DANSKE__SWEDEN__NFC -->
<g id="node100" class="node">
<title>EXPOSURE__DANSKE__SWEDEN__NFC</title>
<g id="a_node100"><a xlink:title="EXPOSURE__DANSKE__SWEDEN__NFC&#10;Exogen">
<polygon fill="yellow" stroke="black" points="792.32,-1032.5 528.72,-1032.5 528.72,-996.5 792.32,-996.5 792.32,-1032.5"/>
<text text-anchor="start" x="534.52" y="-1009.45" font-family="Times New Roman,serif" font-size="14.00" fill="blue">EXPOSURE__DANSKE__SWEDEN__NFC:</text>
</a>
</g>
</g>
<!-- EXPOSURE__DANSKE__SWEDEN__NFC&#45;&gt;EL__DANSKE__SWEDEN__NFC -->
<g id="edge108" class="edge">
<title>EXPOSURE__DANSKE__SWEDEN__NFC&#45;&gt;EL__DANSKE__SWEDEN__NFC</title>
<g id="a_edge108"><a xlink:href="bogus" xlink:title="NA">
<path fill="none" stroke="black" stroke-width="0.5" d="M792.61,-996.5C870.2,-985.85 967.56,-972.48 1042.09,-962.24"/>
<polygon fill="black" stroke="black" stroke-width="0.5" points="1042.27,-965.75 1051.7,-960.92 1041.31,-958.82 1042.27,-965.75"/>
</a>
</g>
</g>
<!-- EXPOSURE__DANSKE__SWEDEN__HOUSEHOLDS -->
<g id="node101" class="node">
<title>EXPOSURE__DANSKE__SWEDEN__HOUSEHOLDS</title>
<g id="a_node101"><a xlink:title="EXPOSURE__DANSKE__SWEDEN__HOUSEHOLDS&#10;Exogen">
<polygon fill="yellow" stroke="black" points="824.2,-708.5 496.85,-708.5 496.85,-672.5 824.2,-672.5 824.2,-708.5"/>
<text text-anchor="start" x="502.65" y="-685.45" font-family="Times New Roman,serif" font-size="14.00" fill="blue">EXPOSURE__DANSKE__SWEDEN__HOUSEHOLDS:</text>
</a>
</g>
</g>
<!-- EXPOSURE__DANSKE__SWEDEN__HOUSEHOLDS&#45;&gt;EL__DANSKE__SWEDEN__HOUSEHOLDS -->
<g id="edge111" class="edge">
<title>EXPOSURE__DANSKE__SWEDEN__HOUSEHOLDS&#45;&gt;EL__DANSKE__SWEDEN__HOUSEHOLDS</title>
<g id="a_edge111"><a xlink:href="bogus" xlink:title="NA">
<path fill="none" stroke="black" stroke-width="0.5" d="M824.37,-681.62C884.2,-678.36 951.55,-674.69 1009.9,-671.51"/>
<polygon fill="black" stroke="black" stroke-width="0.5" points="1009.76,-675.02 1019.55,-670.98 1009.38,-668.03 1009.76,-675.02"/>
</a>
</g>
</g>
<!-- PD__IBS__SWEDEN__SOV(&#45;1)&#45;&gt;PD__IBS__SWEDEN__SOV -->
<g id="edge117" class="edge">
<title>PD__IBS__SWEDEN__SOV(&#45;1)&#45;&gt;PD__IBS__SWEDEN__SOV</title>
<g id="a_edge117"><a xlink:href="bogus" xlink:title="NA">
<path fill="none" stroke="black" stroke-width="0.5" d="M976.8,-1075.02C903.63,-1075.53 821.93,-1075.19 760.03,-1074.02"/>
<polygon fill="black" stroke="black" stroke-width="0.5" points="760.32,-1070.52 750.25,-1073.82 760.17,-1077.52 760.32,-1070.52"/>
</a>
</g>
</g>
<!-- LGD__IBS__SWEDEN__SOV -->
<g id="node103" class="node">
<title>LGD__IBS__SWEDEN__SOV</title>
<g id="a_node103"><a xlink:title="LGD__IBS__SWEDEN__SOV&#10;Exogen">
<polygon fill="yellow" stroke="black" points="754.45,-1680.5 566.6,-1680.5 566.6,-1644.5 754.45,-1644.5 754.45,-1680.5"/>
<text text-anchor="start" x="572.4" y="-1657.45" font-family="Times New Roman,serif" font-size="14.00" fill="blue">LGD__IBS__SWEDEN__SOV:</text>
</a>
</g>
</g>
<!-- LGD__IBS__SWEDEN__SOV&#45;&gt;EL__IBS__SWEDEN__SOV -->
<g id="edge18" class="edge">
<title>LGD__IBS__SWEDEN__SOV&#45;&gt;EL__IBS__SWEDEN__SOV</title>
<g id="a_edge18"><a xlink:href="bogus" xlink:title="NA">
<path fill="none" stroke="black" stroke-width="0.5" d="M754.67,-1667.58C841.37,-1672.31 970.13,-1679.33 1058.44,-1684.14"/>
<polygon fill="black" stroke="black" stroke-width="0.5" points="1058.08,-1687.63 1068.25,-1684.67 1058.46,-1680.64 1058.08,-1687.63"/>
</a>
</g>
</g>
<!-- EL__NORDEA__SWEDEN__NFC&#45;&gt;EXPECTED_LOSS_NORDEA -->
<g id="edge156" class="edge">
<title>EL__NORDEA__SWEDEN__NFC&#45;&gt;EXPECTED_LOSS_NORDEA</title>
<g id="a_edge156"><a xlink:href="bogus" xlink:title="NA">
<path fill="none" stroke="black" stroke-width="0.5" d="M1263.99,-3167.85C1320.66,-3174.79 1390.62,-3188.28 1448.55,-3214.5 1488.97,-3232.8 1527.96,-3266.41 1552.2,-3289.81"/>
<polygon fill="black" stroke="black" stroke-width="0.5" points="1549.71,-3292.27 1559.29,-3296.79 1554.61,-3287.28 1549.71,-3292.27"/>
</a>
</g>
</g>
<!-- EL__NORDEA__DENMARK__NFC&#45;&gt;EXPECTED_LOSS_NORDEA -->
<g id="edge5" class="edge">
<title>EL__NORDEA__DENMARK__NFC&#45;&gt;EXPECTED_LOSS_NORDEA</title>
<g id="a_edge5"><a xlink:href="bogus" xlink:title="NA">
<path fill="none" stroke="black" stroke-width="0.5" d="M1270.09,-2982.72C1328.56,-2986.67 1398.3,-3000.53 1448.55,-3039.5 1530.01,-3102.66 1561.96,-3229.74 1572.56,-3286.71"/>
<polygon fill="black" stroke="black" stroke-width="0.5" points="1569.08,-3287.15 1574.27,-3296.39 1575.97,-3285.93 1569.08,-3287.15"/>
</a>
</g>
</g>
<!-- LGD__DANSKE__SWEDEN__NFC -->
<g id="node106" class="node">
<title>LGD__DANSKE__SWEDEN__NFC</title>
<g id="a_node106"><a xlink:title="LGD__DANSKE__SWEDEN__NFC&#10;Exogen">
<polygon fill="yellow" stroke="black" points="771.32,-978.5 549.72,-978.5 549.72,-942.5 771.32,-942.5 771.32,-978.5"/>
<text text-anchor="start" x="555.52" y="-955.45" font-family="Times New Roman,serif" font-size="14.00" fill="blue">LGD__DANSKE__SWEDEN__NFC:</text>
</a>
</g>
</g>
<!-- LGD__DANSKE__SWEDEN__NFC&#45;&gt;EL__DANSKE__SWEDEN__NFC -->
<g id="edge115" class="edge">
<title>LGD__DANSKE__SWEDEN__NFC&#45;&gt;EL__DANSKE__SWEDEN__NFC</title>
<g id="a_edge115"><a xlink:href="bogus" xlink:title="NA">
<path fill="none" stroke="black" stroke-width="0.5" d="M771.74,-957.38C852.1,-955.11 960.7,-952.04 1042.08,-949.74"/>
<polygon fill="black" stroke="black" stroke-width="0.5" points="1041.71,-953.25 1051.61,-949.47 1041.51,-946.26 1041.71,-953.25"/>
</a>
</g>
</g>
<!-- EXPOSURE__NORDEA__DENMARK__NFC -->
<g id="node107" class="node">
<title>EXPOSURE__NORDEA__DENMARK__NFC</title>
<g id="a_node107"><a xlink:title="EXPOSURE__NORDEA__DENMARK__NFC&#10;Exogen">
<polygon fill="yellow" stroke="black" points="799.07,-2922.5 521.97,-2922.5 521.97,-2886.5 799.07,-2886.5 799.07,-2922.5"/>
<text text-anchor="start" x="527.77" y="-2899.45" font-family="Times New Roman,serif" font-size="14.00" fill="blue">EXPOSURE__NORDEA__DENMARK__NFC:</text>
</a>
</g>
</g>
<!-- EXPOSURE__NORDEA__DENMARK__NFC&#45;&gt;EL__NORDEA__DENMARK__NFC -->
<g id="edge148" class="edge">
<title>EXPOSURE__NORDEA__DENMARK__NFC&#45;&gt;EL__NORDEA__DENMARK__NFC</title>
<g id="a_edge148"><a xlink:href="bogus" xlink:title="NA">
<path fill="none" stroke="black" stroke-width="0.5" d="M778.2,-2923C795.88,-2925.83 813.9,-2928.73 830.95,-2931.5 898.76,-2942.52 974.46,-2955.06 1035.82,-2965.27"/>
<polygon fill="black" stroke="black" stroke-width="0.5" points="1035.13,-2968.71 1045.57,-2966.9 1036.28,-2961.8 1035.13,-2968.71"/>
</a>
</g>
</g>
<!-- PD__NORDEA__SWEDEN__HOUSEHOLDS(&#45;1)&#45;&gt;PD__NORDEA__SWEDEN__HOUSEHOLDS -->
<g id="edge8" class="edge">
<title>PD__NORDEA__SWEDEN__HOUSEHOLDS(&#45;1)&#45;&gt;PD__NORDEA__SWEDEN__HOUSEHOLDS</title>
<g id="a_edge8"><a xlink:href="bogus" xlink:title="NA">
<path fill="none" stroke="black" stroke-width="0.5" d="M878.55,-2857.2C854.98,-2857.13 831.77,-2856.98 809.82,-2856.74"/>
<polygon fill="black" stroke="black" stroke-width="0.5" points="809.94,-2853.24 799.9,-2856.63 809.86,-2860.24 809.94,-2853.24"/>
</a>
</g>
</g>
<!-- EXPOSURE__IBS__DENMARK__HOUSEHOLDS -->
<g id="node109" class="node">
<title>EXPOSURE__IBS__DENMARK__HOUSEHOLDS</title>
<g id="a_node109"><a xlink:title="EXPOSURE__IBS__DENMARK__HOUSEHOLDS&#10;Exogen">
<polygon fill="yellow" stroke="black" points="813.32,-1572.5 507.72,-1572.5 507.72,-1536.5 813.32,-1536.5 813.32,-1572.5"/>
<text text-anchor="start" x="513.52" y="-1549.45" font-family="Times New Roman,serif" font-size="14.00" fill="blue">EXPOSURE__IBS__DENMARK__HOUSEHOLDS:</text>
</a>
</g>
</g>
<!-- EXPOSURE__IBS__DENMARK__HOUSEHOLDS&#45;&gt;EL__IBS__DENMARK__HOUSEHOLDS -->
<g id="edge36" class="edge">
<title>EXPOSURE__IBS__DENMARK__HOUSEHOLDS&#45;&gt;EL__IBS__DENMARK__HOUSEHOLDS</title>
<g id="a_edge36"><a xlink:href="bogus" xlink:title="NA">
<path fill="none" stroke="black" stroke-width="0.5" d="M813.81,-1562.8C879.92,-1566.41 956.72,-1570.59 1020.87,-1574.09"/>
<polygon fill="black" stroke="black" stroke-width="0.5" points="1020.53,-1577.58 1030.7,-1574.63 1020.91,-1570.59 1020.53,-1577.58"/>
</a>
</g>
</g>
<!-- PD__IBS__SWEDEN__RE&#45;&gt;EL__IBS__SWEDEN__RE -->
<g id="edge38" class="edge">
<title>PD__IBS__SWEDEN__RE&#45;&gt;EL__IBS__SWEDEN__RE</title>
<g id="a_edge38"><a xlink:href="bogus" xlink:title="NA">
<path fill="none" stroke="black" stroke-width="0.5" d="M744.79,-1926.53C775.65,-1928.8 808.55,-1937.25 830.95,-1959.5 900.01,-2028.07 798.79,-2106.03 866.95,-2175.5 917.11,-2226.63 999.05,-2237.99 1063.02,-2237.79"/>
<polygon fill="black" stroke="black" stroke-width="0.5" points="1062.82,-2241.29 1072.77,-2237.66 1062.73,-2234.29 1062.82,-2241.29"/>
</a>
</g>
</g>
<!-- PD__IBS__SWEDEN__RE&#45;&gt;PD__IBS__SWEDEN__RE(&#45;1) -->
<g id="edge82" class="edge">
<title>PD__IBS__SWEDEN__RE&#45;&gt;PD__IBS__SWEDEN__RE(&#45;1)</title>
<g id="a_edge82"><a xlink:href="bogus" xlink:title="NA">
<path fill="none" stroke="black" stroke-width="0.5" d="M744.97,-1927.3C808.02,-1925.87 896.92,-1925.43 975.99,-1925.97"/>
<polygon fill="black" stroke="black" stroke-width="0.5" points="975.79,-1929.47 985.82,-1926.05 975.84,-1922.47 975.79,-1929.47"/>
</a>
</g>
</g>
<!-- LGD__IBS__DENMARK__RE -->
<g id="node111" class="node">
<title>LGD__IBS__DENMARK__RE</title>
<g id="a_node111"><a xlink:title="LGD__IBS__DENMARK__RE&#10;Exogen">
<polygon fill="yellow" stroke="black" points="755.95,-2166.5 565.1,-2166.5 565.1,-2130.5 755.95,-2130.5 755.95,-2166.5"/>
<text text-anchor="start" x="570.9" y="-2143.45" font-family="Times New Roman,serif" font-size="14.00" fill="blue">LGD__IBS__DENMARK__RE:</text>
</a>
</g>
</g>
<!-- LGD__IBS__DENMARK__RE&#45;&gt;EL__IBS__DENMARK__RE -->
<g id="edge77" class="edge">
<title>LGD__IBS__DENMARK__RE&#45;&gt;EL__IBS__DENMARK__RE</title>
<g id="a_edge77"><a xlink:href="bogus" xlink:title="NA">
<path fill="none" stroke="black" stroke-width="0.5" d="M756.42,-2148.5C842.65,-2148.5 969.41,-2148.5 1057.09,-2148.5"/>
<polygon fill="black" stroke="black" stroke-width="0.5" points="1056.83,-2152 1066.83,-2148.5 1056.83,-2145 1056.83,-2152"/>
</a>
</g>
</g>
<!-- PD__NORDEA__SWEDEN__NFC(&#45;1)&#45;&gt;PD__NORDEA__SWEDEN__NFC -->
<g id="edge96" class="edge">
<title>PD__NORDEA__SWEDEN__NFC(&#45;1)&#45;&gt;PD__NORDEA__SWEDEN__NFC</title>
<g id="a_edge96"><a xlink:href="bogus" xlink:title="NA">
<path fill="none" stroke="black" stroke-width="0.5" d="M942.25,-2695.2C885.76,-2695.38 826.93,-2695.09 777.81,-2694.32"/>
<polygon fill="black" stroke="black" stroke-width="0.5" points="777.97,-2690.83 767.91,-2694.16 777.85,-2697.82 777.97,-2690.83"/>
</a>
</g>
</g>
<!-- EL__IBS__DENMARK__HOUSEHOLDS&#45;&gt;EXPECTED_LOSS_IBS -->
<g id="edge120" class="edge">
<title>EL__IBS__DENMARK__HOUSEHOLDS&#45;&gt;EXPECTED_LOSS_IBS</title>
<g id="a_edge120"><a xlink:href="bogus" xlink:title="NA">
<path fill="none" stroke="black" stroke-width="0.5" d="M1284.3,-1589.6C1341.03,-1599.43 1404.96,-1620.02 1448.55,-1662.5 1560.78,-1771.87 1575.6,-1976.61 1577.13,-2051.83"/>
<polygon fill="black" stroke="black" stroke-width="0.5" points="1573.63,-2051.65 1577.26,-2061.6 1580.63,-2051.56 1573.63,-2051.65"/>
</a>
</g>
</g>
<!-- EXPOSURE__NORDEA__DENMARK__SOV -->
<g id="node114" class="node">
<title>EXPOSURE__NORDEA__DENMARK__SOV</title>
<g id="a_node114"><a xlink:title="EXPOSURE__NORDEA__DENMARK__SOV&#10;Exogen">
<polygon fill="yellow" stroke="black" points="799.07,-3678.5 521.97,-3678.5 521.97,-3642.5 799.07,-3642.5 799.07,-3678.5"/>
<text text-anchor="start" x="527.77" y="-3655.45" font-family="Times New Roman,serif" font-size="14.00" fill="blue">EXPOSURE__NORDEA__DENMARK__SOV:</text>
</a>
</g>
</g>
<!-- EXPOSURE__NORDEA__DENMARK__SOV&#45;&gt;EL__NORDEA__DENMARK__SOV -->
<g id="edge144" class="edge">
<title>EXPOSURE__NORDEA__DENMARK__SOV&#45;&gt;EL__NORDEA__DENMARK__SOV</title>
<g id="a_edge144"><a xlink:href="bogus" xlink:title="NA">
<path fill="none" stroke="black" stroke-width="0.5" d="M799.47,-3652.98C873.4,-3648.95 963.66,-3644.03 1034.97,-3640.14"/>
<polygon fill="black" stroke="black" stroke-width="0.5" points="1034.8,-3643.65 1044.59,-3639.61 1034.42,-3636.66 1034.8,-3643.65"/>
</a>
</g>
</g>
<!-- PD__NORDEA__SWEDEN__SOV(&#45;1)&#45;&gt;PD__NORDEA__SWEDEN__SOV -->
<g id="edge122" class="edge">
<title>PD__NORDEA__SWEDEN__SOV(&#45;1)&#45;&gt;PD__NORDEA__SWEDEN__SOV</title>
<g id="a_edge122"><a xlink:href="bogus" xlink:title="NA">
<path fill="none" stroke="black" stroke-width="0.5" d="M941.5,-3073.2C885.22,-3073.38 826.68,-3073.09 777.76,-3072.32"/>
<polygon fill="black" stroke="black" stroke-width="0.5" points="777.97,-3068.83 767.91,-3072.16 777.85,-3075.82 777.97,-3068.83"/>
</a>
</g>
</g>
<!-- EXPOSURE__DANSKE__DENMARK__SOV -->
<g id="node116" class="node">
<title>EXPOSURE__DANSKE__DENMARK__SOV</title>
<g id="a_node116"><a xlink:title="EXPOSURE__DANSKE__DENMARK__SOV&#10;Exogen">
<polygon fill="yellow" stroke="black" points="798.32,-870.5 522.72,-870.5 522.72,-834.5 798.32,-834.5 798.32,-870.5"/>
<text text-anchor="start" x="528.52" y="-847.45" font-family="Times New Roman,serif" font-size="14.00" fill="blue">EXPOSURE__DANSKE__DENMARK__SOV:</text>
</a>
</g>
</g>
<!-- EXPOSURE__DANSKE__DENMARK__SOV&#45;&gt;EL__DANSKE__DENMARK__SOV -->
<g id="edge15" class="edge">
<title>EXPOSURE__DANSKE__DENMARK__SOV&#45;&gt;EL__DANSKE__DENMARK__SOV</title>
<g id="a_edge15"><a xlink:href="bogus" xlink:title="NA">
<path fill="none" stroke="black" stroke-width="0.5" d="M798.82,-848.62C873.16,-846.52 964.19,-843.94 1035.84,-841.92"/>
<polygon fill="black" stroke="black" stroke-width="0.5" points="1035.61,-845.43 1045.51,-841.64 1035.41,-838.43 1035.61,-845.43"/>
</a>
</g>
</g>
<!-- EXPOSURE__IBS__SWEDEN__RE -->
<g id="node117" class="node">
<title>EXPOSURE__IBS__SWEDEN__RE</title>
<g id="a_node117"><a xlink:title="EXPOSURE__IBS__SWEDEN__RE&#10;Exogen">
<polygon fill="yellow" stroke="black" points="770.95,-2274.5 550.1,-2274.5 550.1,-2238.5 770.95,-2238.5 770.95,-2274.5"/>
<text text-anchor="start" x="555.9" y="-2251.45" font-family="Times New Roman,serif" font-size="14.00" fill="blue">EXPOSURE__IBS__SWEDEN__RE:</text>
</a>
</g>
</g>
<!-- EXPOSURE__IBS__SWEDEN__RE&#45;&gt;EL__IBS__SWEDEN__RE -->
<g id="edge20" class="edge">
<title>EXPOSURE__IBS__SWEDEN__RE&#45;&gt;EL__IBS__SWEDEN__RE</title>
<g id="a_edge20"><a xlink:href="bogus" xlink:title="NA">
<path fill="none" stroke="black" stroke-width="0.5" d="M771.43,-2250.51C858.92,-2245.74 980.05,-2239.13 1063.01,-2234.61"/>
<polygon fill="black" stroke="black" stroke-width="0.5" points="1063.14,-2238.11 1072.93,-2234.07 1062.76,-2231.12 1063.14,-2238.11"/>
</a>
</g>
</g>
<!-- EL__NORDEA__DENMARK__HOUSEHOLDS&#45;&gt;EXPECTED_LOSS_NORDEA -->
<g id="edge88" class="edge">
<title>EL__NORDEA__DENMARK__HOUSEHOLDS&#45;&gt;EXPECTED_LOSS_NORDEA</title>
<g id="a_edge88"><a xlink:href="bogus" xlink:title="NA">
<path fill="none" stroke="black" stroke-width="0.5" d="M1301.98,-2765.56C1353.93,-2771.37 1409.41,-2787.06 1448.55,-2823.5 1518.01,-2888.18 1561.47,-3191.27 1573.61,-3286.67"/>
<polygon fill="black" stroke="black" stroke-width="0.5" points="1570.13,-3287.01 1574.84,-3296.5 1577.07,-3286.14 1570.13,-3287.01"/>
</a>
</g>
</g>
<!-- PD__NORDEA__DENMARK__HOUSEHOLDS(&#45;1)&#45;&gt;PD__NORDEA__DENMARK__HOUSEHOLDS -->
<g id="edge107" class="edge">
<title>PD__NORDEA__DENMARK__HOUSEHOLDS(&#45;1)&#45;&gt;PD__NORDEA__DENMARK__HOUSEHOLDS</title>
<g id="a_edge107"><a xlink:href="bogus" xlink:title="NA">
<path fill="none" stroke="black" stroke-width="0.5" d="M866.8,-2479.16C849.4,-2479.09 832.29,-2478.97 815.82,-2478.8"/>
<polygon fill="black" stroke="black" stroke-width="0.5" points="815.89,-2475.31 805.85,-2478.7 815.82,-2482.3 815.89,-2475.31"/>
</a>
</g>
</g>
<!-- PD__DANSKE__DENMARK__NFC&#45;&gt;EL__DANSKE__DENMARK__NFC -->
<g id="edge140" class="edge">
<title>PD__DANSKE__DENMARK__NFC&#45;&gt;EL__DANSKE__DENMARK__NFC</title>
<g id="a_edge140"><a xlink:href="bogus" xlink:title="NA">
<path fill="none" stroke="black" stroke-width="0.5" d="M772.19,-308.67C794.51,-313.28 815.75,-322.52 830.95,-339.5 887.04,-402.16 808.85,-1034.7 866.95,-1095.5 915.98,-1146.8 998.42,-1149.94 1062.87,-1142.33"/>
<polygon fill="black" stroke="black" stroke-width="0.5" points="1063.23,-1145.81 1072.7,-1141.06 1062.34,-1138.86 1063.23,-1145.81"/>
</a>
</g>
</g>
<!-- PD__DANSKE__DENMARK__NFC&#45;&gt;PD__DANSKE__DENMARK__NFC(&#45;1) -->
<g id="edge69" class="edge">
<title>PD__DANSKE__DENMARK__NFC&#45;&gt;PD__DANSKE__DENMARK__NFC(&#45;1)</title>
<g id="a_edge69"><a xlink:href="bogus" xlink:title="NA">
<path fill="none" stroke="black" stroke-width="0.5" d="M772.35,-306.76C816.5,-306.03 869.1,-305.7 921,-305.76"/>
<polygon fill="black" stroke="black" stroke-width="0.5" points="920.95,-309.26 930.96,-305.77 920.97,-302.26 920.95,-309.26"/>
</a>
</g>
</g>
<!-- PD__NORDEA__DENMARK__SOV&#45;&gt;EL__NORDEA__DENMARK__SOV -->
<g id="edge63" class="edge">
<title>PD__NORDEA__DENMARK__SOV&#45;&gt;EL__NORDEA__DENMARK__SOV</title>
<g id="a_edge63"><a xlink:href="bogus" xlink:title="NA">
<path fill="none" stroke="black" stroke-width="0.5" d="M772.97,-3502.91C793.37,-3507.33 813.65,-3514.4 830.95,-3525.5 855.23,-3541.08 842.88,-3563.61 866.95,-3579.5 916.2,-3612.02 979.89,-3626.2 1035.01,-3631.96"/>
<polygon fill="black" stroke="black" stroke-width="0.5" points="1034.51,-3635.43 1044.8,-3632.9 1035.18,-3628.46 1034.51,-3635.43"/>
</a>
</g>
</g>
<!-- PD__NORDEA__DENMARK__SOV&#45;&gt;PD__NORDEA__DENMARK__SOV(&#45;1) -->
<g id="edge68" class="edge">
<title>PD__NORDEA__DENMARK__SOV&#45;&gt;PD__NORDEA__DENMARK__SOV(&#45;1)</title>
<g id="a_edge68"><a xlink:href="bogus" xlink:title="NA">
<path fill="none" stroke="black" stroke-width="0.5" d="M773.28,-3492.75C816.72,-3492.04 868.23,-3491.7 919.18,-3491.75"/>
<polygon fill="black" stroke="black" stroke-width="0.5" points="918.94,-3495.25 928.94,-3491.77 918.95,-3488.25 918.94,-3495.25"/>
</a>
</g>
</g>
<!-- PD__NORDEA__DENMARK__RE(&#45;1)&#45;&gt;PD__NORDEA__DENMARK__RE -->
<g id="edge119" class="edge">
<title>PD__NORDEA__DENMARK__RE(&#45;1)&#45;&gt;PD__NORDEA__DENMARK__RE</title>
<g id="a_edge119"><a xlink:href="bogus" xlink:title="NA">
<path fill="none" stroke="black" stroke-width="0.5" d="M939.39,-3343.21C884.39,-3343.37 827.37,-3343.08 779.4,-3342.35"/>
<polygon fill="black" stroke="black" stroke-width="0.5" points="779.49,-3338.85 769.43,-3342.19 779.37,-3345.85 779.49,-3338.85"/>
</a>
</g>
</g>
<!-- PD__DANSKE__SWEDEN__SOV(&#45;1)&#45;&gt;PD__DANSKE__SWEDEN__SOV -->
<g id="edge84" class="edge">
<title>PD__DANSKE__SWEDEN__SOV(&#45;1)&#45;&gt;PD__DANSKE__SWEDEN__SOV</title>
<g id="a_edge84"><a xlink:href="bogus" xlink:title="NA">
<path fill="none" stroke="black" stroke-width="0.5" d="M943.05,-49.19C886.11,-49.38 826.74,-49.09 777.27,-48.31"/>
<polygon fill="black" stroke="black" stroke-width="0.5" points="777.36,-44.82 767.31,-48.15 777.25,-51.81 777.36,-44.82"/>
</a>
</g>
</g>
<!-- EXPOSURE__DANSKE__SWEDEN__RE -->
<g id="node124" class="node">
<title>EXPOSURE__DANSKE__SWEDEN__RE</title>
<g id="a_node124"><a xlink:title="EXPOSURE__DANSKE__SWEDEN__RE&#10;Exogen">
<polygon fill="yellow" stroke="black" points="787.82,-762.5 533.22,-762.5 533.22,-726.5 787.82,-726.5 787.82,-762.5"/>
<text text-anchor="start" x="539.02" y="-739.45" font-family="Times New Roman,serif" font-size="14.00" fill="blue">EXPOSURE__DANSKE__SWEDEN__RE:</text>
</a>
</g>
</g>
<!-- EXPOSURE__DANSKE__SWEDEN__RE&#45;&gt;EL__DANSKE__SWEDEN__RE -->
<g id="edge51" class="edge">
<title>EXPOSURE__DANSKE__SWEDEN__RE&#45;&gt;EL__DANSKE__SWEDEN__RE</title>
<g id="a_edge51"><a xlink:href="bogus" xlink:title="NA">
<path fill="none" stroke="black" stroke-width="0.5" d="M788.09,-747.82C867.74,-749.91 969.55,-752.59 1045.99,-754.59"/>
<polygon fill="black" stroke="black" stroke-width="0.5" points="1045.75,-758.09 1055.84,-754.85 1045.94,-751.09 1045.75,-758.09"/>
</a>
</g>
</g>
<!-- LGD__DANSKE__SWEDEN__HOUSEHOLDS -->
<g id="node125" class="node">
<title>LGD__DANSKE__SWEDEN__HOUSEHOLDS</title>
<g id="a_node125"><a xlink:title="LGD__DANSKE__SWEDEN__HOUSEHOLDS&#10;Exogen">
<polygon fill="yellow" stroke="black" points="803.2,-654.5 517.85,-654.5 517.85,-618.5 803.2,-618.5 803.2,-654.5"/>
<text text-anchor="start" x="523.65" y="-631.45" font-family="Times New Roman,serif" font-size="14.00" fill="blue">LGD__DANSKE__SWEDEN__HOUSEHOLDS:</text>
</a>
</g>
</g>
<!-- LGD__DANSKE__SWEDEN__HOUSEHOLDS&#45;&gt;EL__DANSKE__SWEDEN__HOUSEHOLDS -->
<g id="edge49" class="edge">
<title>LGD__DANSKE__SWEDEN__HOUSEHOLDS&#45;&gt;EL__DANSKE__SWEDEN__HOUSEHOLDS</title>
<g id="a_edge49"><a xlink:href="bogus" xlink:title="NA">
<path fill="none" stroke="black" stroke-width="0.5" d="M803.44,-644.24C868.14,-647.76 944.7,-651.94 1009.98,-655.5"/>
<polygon fill="black" stroke="black" stroke-width="0.5" points="1009.43,-658.97 1019.61,-656.02 1009.81,-651.98 1009.43,-658.97"/>
</a>
</g>
</g>
</g>
</svg>
</div></div>
</details>
</div>
</section>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./content\specification"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

                </article>
              

              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="../introduction.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">Foreword</p>
      </div>
    </a>
    <a class="right-next"
       href="../cohorte/population_with_sexes.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title"><span class="section-number">2. </span>A Population Model</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <dialog id="pst-secondary-sidebar-modal"></dialog>
                <div id="pst-secondary-sidebar" class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#specification-of-a-model">1.1. Specification of a model</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#example-models">1.2. Example Models</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#gdp-and-consumption-model">1.2.1. 1. GDP and Consumption Model</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#debt-dynamics-model">1.2.2. 2. Debt Dynamics Model</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#a-model">1.3. A Model</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#why-separate-specification-and-implementation">1.4. Why Separate Specification and Implementation?</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#a-simple-specification-language">1.5. A Simple Specification Language</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#mexplode-expanding-the-stripped-down-dsl">1.6. Mexplode ‚Äì Expanding the Stripped-Down DSL</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#mexplode-properties">1.6.1. Mexplode Properties</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#lists">1.6.2. Lists</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#syntax">1.6.2.1. Syntax</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#do-enddo-loops">1.6.3. Do ‚Ä¶ Enddo Loops</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#id1">1.6.3.1. Syntax</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#example">1.6.3.2. Example</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#conditional-loops">1.6.4. Conditional Loops</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#doable-equations">1.6.5. Doable Equations</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#sum-of-variables">1.7. Sum of variables</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#nested-sums">1.7.1. Nested sums</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#conditional-sum">1.7.2. Conditional sum</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#combining-doable-and-sum">1.8. Combining doable and sum</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#draw-displaying-the-models-causal-structure">1.8.1. <code class="docutils literal notranslate"><span class="pre">.draw</span></code> ‚Äî Displaying the Model‚Äôs Causal Structure</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#tags-and-formula-decoration">1.9. Tags and Formula Decoration</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#enable-fixing-the-value-of-a-a-variable">1.9.1. Enable fixing the value of a a variable</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#include-add-factors">1.9.2. Include add factors</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#reverse-calculation-of-add-factors">1.9.3. Reverse Calculation of Add Factors</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#naming-of-add-factors">1.9.4. Naming of Add Factors</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#including-calculated-fitted-values">1.9.5. Including Calculated Fitted Values</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#using-replacements-or-str-replace-to-simplify-multi-dimensional-formulas">1.10. Using <code class="docutils literal notranslate"><span class="pre">replacements=</span></code> or <code class="docutils literal notranslate"><span class="pre">str.replace()</span></code> to simplify multi-dimensional formulas</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#why-this-helps">1.10.1. üí° Why this helps</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id2">1.10.2. üßÆ Example</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#using-list-defs-to-define-lists-in-mexplode">1.11. Using <code class="docutils literal notranslate"><span class="pre">list_defs=</span></code> to define lists in <code class="docutils literal notranslate"><span class="pre">Mexplode</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#when-to-use-list-defs">1.11.1. üí° When to use <code class="docutils literal notranslate"><span class="pre">list_defs=</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#how-it-works">1.11.2. ‚öôÔ∏è How it works</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#using-functools-partial-to-create-simplified-mexplode-constructors">1.12. Using <code class="docutils literal notranslate"><span class="pre">functools.partial</span></code> to create simplified <code class="docutils literal notranslate"><span class="pre">Mexplode</span></code> constructors</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id3">1.12.1. üí° Why this helps</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#building-modular-models-by-combining-smaller-formula-groups">1.13. Building modular models by combining smaller formula groups</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#why-this-approach-is-beneficial">1.13.1. üí° Why this approach is beneficial</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id4">1.13.2. ‚öôÔ∏è How it works</a></li>
</ul>
</li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By Ib Hansen
</p>

  </div>
  
  <div class="footer-item">
    

  <p class="copyright">
    
      ¬© Copyright World Bank. 2025.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script defer src="../../_static/scripts/bootstrap.js?digest=8878045cc6db502f8baf"></script>
<script defer src="../../_static/scripts/pydata-sphinx-theme.js?digest=8878045cc6db502f8baf"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>