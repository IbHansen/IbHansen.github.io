
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>12. Onboard all models defined in .wf1 files &#8212; ModelFlow</title>
    
  <link href="../../../../_static/css/theme.css" rel="stylesheet">
  <link href="../../../../_static/css/index.ff1ffe594081f20da1ef19478df9384b.css" rel="stylesheet">

    
  <link rel="stylesheet"
    href="../../../../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../../../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../../../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    
      

    
    <link rel="stylesheet" type="text/css" href="../../../../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../../../../_static/sphinx-book-theme.css?digest=c3fdc42140077d1ad13ad2f1588a4309" />
    <link rel="stylesheet" type="text/css" href="../../../../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../../../../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../../../../_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="../../../../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../../../../_static/panels-main.c949a650a448cc0ae9fd3441c0e17fb0.css" />
    <link rel="stylesheet" type="text/css" href="../../../../_static/panels-variables.06eb56fa6e07937060861dad626602ad.css" />
    
  <link rel="preload" as="script" href="../../../../_static/js/index.be7d3bbb2ef33a8344ce.js">

    <script data-url_root="../../../../" id="documentation_options" src="../../../../_static/documentation_options.js"></script>
    <script src="../../../../_static/jquery.js"></script>
    <script src="../../../../_static/underscore.js"></script>
    <script src="../../../../_static/doctools.js"></script>
    <script src="../../../../_static/clipboard.min.js"></script>
    <script src="../../../../_static/copybutton.js"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../../../../_static/togglebutton.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="../../../../_static/sphinx-book-theme.d59cb220de22ca1c485ebbdc042f0030.js"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"
const thebe_selector = ".thebe,.cell"
const thebe_selector_input = "pre"
const thebe_selector_output = ".output, .cell_output"
</script>
    <script async="async" src="../../../../_static/sphinx-thebe.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script src="https://unpkg.com/@jupyter-widgets/html-manager@^0.20.1/dist/embed-amd.js"></script>
    <link rel="index" title="Index" href="../../../../genindex.html" />
    <link rel="search" title="Search" href="../../../../search.html" />
    <link rel="next" title="13. Normalizing when onboarding eviews models" href="Normalizing%20when%20onboarding%20eviews.html" />
    <link rel="prev" title="11. Onboard a model defined in a .wf1 file" href="onboard%20one%20model%20from%20%20wf1.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="None">
    

    <!-- Google Analytics -->
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    
    <div class="container-fluid" id="banner"></div>

    

    <div class="container-xl">
      <div class="row">
          
<div class="col-12 col-md-3 bd-sidebar site-navigation show" id="site-navigation">
    
        <div class="navbar-brand-box">
    <a class="navbar-brand text-wrap" href="../../../../index.html">
      
        <!-- `logo` is deprecated in Sphinx 4.0, so remove this when we stop supporting 3 -->
        
      
      
      <img src="../../../../_static/logo.png" class="logo" alt="logo">
      
      
      <h1 class="site-logo" id="site-title">ModelFlow</h1>
      
    </a>
</div><form class="bd-search d-flex align-items-center" action="../../../../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item active">
        <ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../../../introduction.html">
   Introduction
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Model, solutions and Modelflow
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../../../notebooks/intro/model%20and%20solution.html">
   1. What is a Model in ModelFlow
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../../notebooks/intro/Example%20Solow.html">
   3. Example Solow model
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Python and pandas stuff
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../../../Python/Intro_Jupyter_notebook.html">
   4. Introduction to the Jupyter Notebook
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../../notebooks/pandas/dataframes.html">
   5. Introduction to Pandas dataframes
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Updating variables
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../../update/model%20update.html">
   6. Update, modifying series in a dataframe using modelflow
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../update/extending_dataframes.html">
   7. Extend Pandas dataframes with ModelFLow capabilities.
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Make experiments
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../../experiments/create_experiment.html">
   8. Create an experiment, simulate it and access results
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../experiments/create_save_scenarios.html">
   9. Create many scenarios, simulate them  and access results
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../../experiments/Standard%20experiment%20simple.html">
   10. A experiment using Taxes on Goods and Services
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Onboarding MFMod models from .wf1
 </span>
</p>
<ul class="current nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="onboard%20one%20model%20from%20%20wf1.html">
   11. Onboard a model defined in a .wf1 file
  </a>
 </li>
 <li class="toctree-l1 current active">
  <a class="current reference internal" href="#">
   12. Onboard all models  defined in .wf1 files
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="Normalizing%20when%20onboarding%20eviews.html">
   13. Normalizing when onboarding  eviews models
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Features
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../../../Python/modelflow_features.html">
   14. Useful model instance properties and methods
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Structure
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../../structure/Logical_structure.html">
   15. Logical structure and dependencies.
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Attribution
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../../attribution/Attribution%20background.html">
   16. Attribution
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Specification
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../../../notebooks/intro/model%20specification.html">
   17. Specification of models (introduction)
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Optimization
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../../optimization/Optimize_simpel.html">
   18. Mean variance optimization
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  More
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../../../litterature.html">
   20. Litterature
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Jupyter book test
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../../../booktest.html">
   21. Test of Jupyter book features.
  </a>
 </li>
</ul>

    </div>
</nav> <!-- To handle the deprecated key -->

<div class="navbar_extra_footer">
  Powered by <a href="https://jupyterbook.org">Jupyter Book</a>
</div>

</div>


          


          
<main class="col py-md-3 pl-md-4 bd-content overflow-auto" role="main">
    
    <div class="topbar container-xl fixed-top">
    <div class="topbar-contents row">
        <div class="col-12 col-md-3 bd-topbar-whitespace site-navigation show"></div>
        <div class="col pl-md-4 topbar-main">
            
            <button id="navbar-toggler" class="navbar-toggler ml-0" type="button" data-toggle="collapse"
                data-toggle="tooltip" data-placement="bottom" data-target=".site-navigation" aria-controls="navbar-menu"
                aria-expanded="true" aria-label="Toggle navigation" aria-controls="site-navigation"
                title="Toggle navigation" data-toggle="tooltip" data-placement="left">
                <i class="fas fa-bars"></i>
                <i class="fas fa-arrow-left"></i>
                <i class="fas fa-arrow-up"></i>
            </button>
            
            
<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn" aria-label="Download this page"><i
            class="fas fa-download"></i></button>

    <div class="dropdown-buttons">
        <!-- ipynb file if we had a myst markdown file -->
        
        <!-- Download raw file -->
        <a class="dropdown-buttons" href="../../../../_sources/content/howto/onboard/eviews/onboard many models from wf1.ipynb"><button type="button"
                class="btn btn-secondary topbarbtn" title="Download source file" data-toggle="tooltip"
                data-placement="left">.ipynb</button></a>
        <!-- Download PDF via print -->
        <button type="button" id="download-print" class="btn btn-secondary topbarbtn" title="Print to PDF"
                onclick="printPdf(this)" data-toggle="tooltip" data-placement="left">.pdf</button>
    </div>
</div>

            <!-- Source interaction buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Connect with source repository"><i class="fab fa-github"></i></button>
    <div class="dropdown-buttons sourcebuttons">
        <a class="repository-button"
            href="https://github.com/executablebooks/jupyter-book"><button type="button" class="btn btn-secondary topbarbtn"
                data-toggle="tooltip" data-placement="left" title="Source repository"><i
                    class="fab fa-github"></i>repository</button></a>
        <a class="issues-button"
            href="https://github.com/executablebooks/jupyter-book/issues/new?title=Issue%20on%20page%20%2Fcontent/howto/onboard/eviews/onboard many models from wf1.html&body=Your%20issue%20content%20here."><button
                type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip" data-placement="left"
                title="Open an issue"><i class="fas fa-lightbulb"></i>open issue</button></a>
        
    </div>
</div>

            <!-- Full screen (wrap in <a> to have style consistency -->

<a class="full-screen-button"><button type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip"
        data-placement="bottom" onclick="toggleFullScreen()" aria-label="Fullscreen mode"
        title="Fullscreen mode"><i
            class="fas fa-expand"></i></button></a>

            <!-- Launch buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Launch interactive content"><i class="fas fa-rocket"></i></button>
    <div class="dropdown-buttons">
        
        <a class="binder-button" href="https://mybinder.org/v2/gh/executablebooks/jupyter-book/master?urlpath=tree/docs/content/howto/onboard/eviews/onboard many models from wf1.ipynb"><button type="button"
                class="btn btn-secondary topbarbtn" title="Launch Binder" data-toggle="tooltip"
                data-placement="left"><img class="binder-button-logo"
                    src="../../../../_static/images/logo_binder.svg"
                    alt="Interact on binder">Binder</button></a>
        
        
        
        
    </div>
</div>

        </div>

        <!-- Table of contents -->
        <div class="d-none d-md-block col-md-2 bd-toc show noprint">
            
            <div class="tocsection onthispage pt-5 pb-3">
                <i class="fas fa-list"></i> Contents
            </div>
            <nav id="bd-toc-nav" aria-label="Page">
                <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#list-potential-files">
   12.1. List potential files
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#model-specific-transformations">
   12.2. Model specific transformations
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#transform-all-wf1-files-in-the-folder">
   12.3. Transform all wf1 files in the folder
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#check-all-the-models">
   12.4. Check all the models
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#run-the-models">
   12.5. Run the models
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#make-some-names-in-the-namespace">
   12.6. Make some names in the namespace
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#lets-create-a-list-of-all-variable-names">
   12.7. Lets create a list of all variable names
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#government-consumption">
     12.7.1. Government consumption
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#government-investment">
     12.7.2. Government investment
    </a>
   </li>
  </ul>
 </li>
</ul>

            </nav>
        </div>
    </div>
</div>
    <div id="main-content" class="row">
        <div class="col-12 col-md-9 pl-md-3 pr-md-0">
            <!-- Table of contents that is only displayed when printing the page -->
            <div id="jb-print-docs-body" class="onlyprint">
                <h1>Onboard all models  defined in .wf1 files</h1>
                <!-- Table of contents -->
                <div id="print-main-content">
                    <div id="jb-print-toc">
                        
                        <div>
                            <h2> Contents </h2>
                        </div>
                        <nav aria-label="Page">
                            <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#list-potential-files">
   12.1. List potential files
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#model-specific-transformations">
   12.2. Model specific transformations
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#transform-all-wf1-files-in-the-folder">
   12.3. Transform all wf1 files in the folder
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#check-all-the-models">
   12.4. Check all the models
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#run-the-models">
   12.5. Run the models
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#make-some-names-in-the-namespace">
   12.6. Make some names in the namespace
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#lets-create-a-list-of-all-variable-names">
   12.7. Lets create a list of all variable names
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#government-consumption">
     12.7.1. Government consumption
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#government-investment">
     12.7.2. Government investment
    </a>
   </li>
  </ul>
 </li>
</ul>

                        </nav>
                    </div>
                </div>
            </div>
            
              <div>
                
  <div class="tex2jax_ignore mathjax_ignore section" id="onboard-all-models-defined-in-wf1-files">
<h1><span class="section-number">12. </span>Onboard all models  defined in .wf1 files<a class="headerlink" href="#onboard-all-models-defined-in-wf1-files" title="Permalink to this headline">¶</a></h1>
<p>This notebook takes all .wf1 workfile from the folder wfs\ and transform the models  it to a modelflow model.<br></p>
<p>The overall process is performed in a Dataclass named:<strong>GrapWfModel</strong><br>
Close study of this class can be rewarding, but is outside the need of most users.<br>
The overall structure is:</p>
<ol class="simple">
<li><p>Eviews is started and the wf1 file is loaded</p></li>
<li><ol class="simple">
<li><p>Some transformations are performed on data.</p></li>
</ol>
</li>
<li><ol class="simple">
<li><p>The model is unlinked</p></li>
</ol>
</li>
<li><ol class="simple">
<li><p>The workspace is saved as a wf2 file. Same name with <code class="docutils literal notranslate"><span class="pre">_modelflow</span> <span class="pre">appended</span></code></p></li>
</ol>
</li>
<li><p>Eviews is closed</p></li>
<li><p>The wf2 file is read as a json file.</p></li>
<li><p>Relevant objects are extracted.</p></li>
<li><p>The MFMSA variable is  extracted, to be saved in the dumpfile.</p></li>
<li><p>The equations are transformed and normalized to modelflow format and classified into identities and stochastic</p></li>
<li><p>Stochastic equations are enriched by add_factor and fixing terms (dummy + fixing value)</p></li>
<li><p>For Stochastic equations new fitted variables are generated - without add add_factors and dummies.</p></li>
<li><p>A model to generate fitted variables is created</p></li>
<li><p>A model to generate add_factors is created.</p></li>
<li><p>A model encompassing the original equations, the model for fitted variables and for add_factors is created.</p></li>
<li><p>The data series and scalars are shoveled into a Pandas dataframe</p></li>
<li><ol class="simple">
<li><p>Some special series are generated as the expression can not be incorporated into modelflow model specifications</p></li>
</ol>
</li>
<li><ol class="simple">
<li><p>The model for fitted values is simulated in the specified timespan</p></li>
</ol>
</li>
<li><ol class="simple">
<li><p>The model for add_factors is simulated in the timespan set in MFMSA</p></li>
</ol>
</li>
<li><p>The data descriptions are extracted into a dictionary.</p></li>
<li><ol class="simple">
<li><p>Data descriptions for dummies, fixed values, fitted values and add_factors are derived.</p></li>
</ol>
</li>
<li><p>Now we have a model and a dataframe with all variables which are needed.
b
The GrapWfModel instance in general keeps most of the steps so the developer can inspect the the different steps.</p></li>
</ol>
<ul class="simple">
<li><p>Eviews has to be installed</p></li>
<li><p>pyevies has to be installed</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">pathlib</span> <span class="kn">import</span> <span class="n">Path</span>

<span class="kn">from</span> <span class="nn">modelclass</span> <span class="kn">import</span> <span class="n">model</span> 
<span class="kn">from</span> <span class="nn">modelgrabwf2</span> <span class="kn">import</span> <span class="n">GrabWfModel</span>
<span class="n">model</span><span class="o">.</span><span class="n">widescreen</span><span class="p">()</span>
<span class="n">model</span><span class="o">.</span><span class="n">scroll_off</span><span class="p">()</span>
<span class="n">latex</span><span class="o">=</span><span class="mi">1</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html">
<style>
    div#notebook-container    { width: 95%; }
    div#menubar-container     { width: 65%; }
    div#maintoolbar-container { width: 99%; }
</style>
</div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span> <span class="o">%</span><span class="k">load_ext</span> autoreload
 <span class="o">%</span><span class="k">autoreload</span> 2
</pre></div>
</div>
</div>
</div>
<div class="section" id="list-potential-files">
<h2><span class="section-number">12.1. </span>List potential files<a class="headerlink" href="#list-potential-files" title="Permalink to this headline">¶</a></h2>
<p>The workfiles are located in the <code class="docutils literal notranslate"><span class="pre">wfs</span></code> folder. <br>
The <a class="reference external" href="https://docs.python.org/3/library/pathlib.html">pathlib.Path</a> class is used to find all wf1 files</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">filedict</span> <span class="o">=</span> <span class="p">{</span><span class="n">f</span><span class="o">.</span><span class="n">stem</span><span class="p">[:</span><span class="mi">3</span><span class="p">]</span><span class="o">.</span><span class="n">lower</span><span class="p">():</span><span class="n">f</span> <span class="k">for</span> <span class="n">f</span> <span class="ow">in</span> <span class="n">Path</span><span class="p">(</span><span class="s1">&#39;wfs&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">glob</span><span class="p">(</span><span class="s1">&#39;*.wf1&#39;</span><span class="p">)}</span>
<span class="k">for</span> <span class="n">modelname</span><span class="p">,</span><span class="n">filename</span> <span class="ow">in</span> <span class="n">filedict</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;The model and date for </span><span class="si">{</span><span class="n">modelname</span><span class="si">}</span><span class="s1"> is located in this workfile:</span><span class="si">{</span><span class="n">filename</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>The model and date for ago is located in this workfile:wfs\agosoln.wf1
The model and date for mda is located in this workfile:wfs\MDAsoln.wf1
The model and date for pak is located in this workfile:wfs\PAKSoln.wf1
The model and date for per is located in this workfile:wfs\PERMOD_damage_asFactor20220322.wf1
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="model-specific-transformations">
<h2><span class="section-number">12.2. </span>Model specific transformations<a class="headerlink" href="#model-specific-transformations" title="Permalink to this headline">¶</a></h2>
<p>Not all Eviews equations has a direct counterpart in modelflow.<br>
To handle that two types of transformations can be provided for a specific model.</p>
<ul class="simple">
<li><p><strong>eviews_run_lines</strong> which specifies a list of Eviews command lines to be run. Typical to make some transformation of data.</p></li>
<li><p><strong>country_trans</strong> which specifies a list of replacements to be done to the Eviews formulas before they are processed.</p></li>
</ul>
<p>As a convention the variables like this &lt;modelname&gt;_eviews_run_lines and <modelname>_trans</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">pak_trans</span> <span class="o">=</span> <span class="k">lambda</span> <span class="nb">input</span> <span class="p">:</span> <span class="nb">input</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;- 01*D(&#39;</span><span class="p">,</span><span class="s1">&#39;-1*D(&#39;</span><span class="p">)</span>   

<span class="n">ago_trans</span> <span class="o">=</span> <span class="k">lambda</span>  <span class="nb">input</span> <span class="p">:</span> <span class="nb">input</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;@MEAN(AGOBNCABFUNDCD/AGONYGDPMKTPCD,&quot;2000 2020&quot;)&#39;</span><span class="p">,</span><span class="s1">&#39;MEAN_AGOBNCABFUNDCD_DIV_AGONYGDPMKTPCD&#39;</span><span class="p">)</span> 
<span class="n">ago_eviews_run_lines</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;smpl @ALL&#39;</span><span class="p">,</span><span class="s1">&#39;series MEAN_AGOBNCABFUNDCD_DIV_AGONYGDPMKTPCD = @MEAN(AGOBNCABFUNDCD/AGONYGDPMKTPCD,&quot;2000 2020&quot;)&#39;</span><span class="p">]</span>

<span class="n">mda_trans</span> <span class="o">=</span> <span class="k">lambda</span> <span class="nb">input</span><span class="p">:</span> <span class="nb">input</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;_MDAsbbrev.@coef(2)&#39;</span><span class="p">,</span><span class="s1">&#39;_MDASBBREV_at_COEF_2&#39;</span><span class="p">)</span>         
<span class="n">mda_eviews_run_lines</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;Scalar _MDASBBREV_at_COEF_2 = _MDASBBREV.@COEF(+2)&#39;</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="transform-all-wf1-files-in-the-folder">
<h2><span class="section-number">12.3. </span>Transform all wf1 files in the folder<a class="headerlink" href="#transform-all-wf1-files-in-the-folder" title="Permalink to this headline">¶</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">allmodels</span> <span class="o">=</span> <span class="p">{</span><span class="n">modelname</span><span class="p">:</span> 
     <span class="n">GrabWfModel</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span> 
                        <span class="n">eviews_run_lines</span><span class="o">=</span> <span class="nb">globals</span><span class="p">()</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">modelname</span><span class="si">}</span><span class="s1">_eviews_run_lines&#39;</span><span class="p">,[]),</span>
                        <span class="n">country_trans</span>    <span class="o">=</span>   <span class="nb">globals</span><span class="p">()</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">modelname</span><span class="si">}</span><span class="s1">_trans&#39;</span>   <span class="p">,</span><span class="k">lambda</span> <span class="n">x</span> <span class="p">:</span> <span class="n">x</span><span class="p">[:]),</span>
                        <span class="n">make_fitted</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>        <span class="c1"># make equatios for fitted values of stocastic equations </span>
                        <span class="n">do_add_factor_calc</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>   <span class="c1"># Calculate the add factors which makes the stocastic equations match    </span>
                        <span class="n">fit_start</span> <span class="o">=</span> <span class="mi">2000</span><span class="p">,</span>          <span class="c1"># Start of calculation of fittet model in baseline (to have some historic values) </span>
                        <span class="n">fit_end</span>   <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>           <span class="c1"># end of calc for fittted model, if None taken from mdmfsa options  </span>
                        <span class="n">disable_progress</span> <span class="o">=</span><span class="kc">True</span>
                        <span class="p">)</span> 
                  <span class="k">for</span> <span class="n">modelname</span><span class="p">,</span><span class="n">filename</span> <span class="ow">in</span> <span class="n">filedict</span><span class="o">.</span><span class="n">items</span><span class="p">()}</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Reading c:\wb new\Modelflow\working_paper\thebook\content\howto\onboard\eviews\wfs\agosoln.wf1
Assummed model name: AGO
Eviewsline to run :smpl @ALL
Eviewsline to run :series MEAN_AGOBNCABFUNDCD_DIV_AGONYGDPMKTPCD = @MEAN(AGOBNCABFUNDCD/AGONYGDPMKTPCD,&quot;2000 2020&quot;)
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>The model: AGO is unlinked 
Writing C:\wb new\Modelflow\working_paper\thebook\content\howto\onboard\eviews\wfs\agosoln_modelflow.wf2
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Model name: AGO

Processing the model:AGO
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>testmodel calculated  
Calculation of add factors for AGO calculated  
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Reading c:\wb new\Modelflow\working_paper\thebook\content\howto\onboard\eviews\wfs\MDAsoln.wf1
Assummed model name: MDA
Eviewsline to run :Scalar _MDASBBREV_at_COEF_2 = _MDASBBREV.@COEF(+2)
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>The model: MDA is unlinked 
Writing C:\wb new\Modelflow\working_paper\thebook\content\howto\onboard\eviews\wfs\MDAsoln_modelflow.wf2
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Model name: MDA

Processing the model:MDA
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>testmodel calculated  
Calculation of add factors for MDA calculated  
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Reading c:\wb new\Modelflow\working_paper\thebook\content\howto\onboard\eviews\wfs\PAKSoln.wf1
Assummed model name: PAK
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>The model: PAK is unlinked 
Writing C:\wb new\Modelflow\working_paper\thebook\content\howto\onboard\eviews\wfs\PAKSoln_modelflow.wf2
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Model name: PAK
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Processing the model:PAK
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>testmodel calculated  
Calculation of add factors for PAK calculated  
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Reading c:\wb new\Modelflow\working_paper\thebook\content\howto\onboard\eviews\wfs\PERMOD_damage_asFactor20220322.wf1
Assummed model name: PER
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>The model: PER is unlinked 
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Writing C:\wb new\Modelflow\working_paper\thebook\content\howto\onboard\eviews\wfs\PERMOD_damage_asFactor20220322_modelflow.wf2
Model name: PER
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Processing the model:PER
</pre></div>
</div>
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">KeyboardInterrupt</span><span class="g g-Whitespace">                         </span>Traceback (most recent call last)
<span class="nn">Input In [5],</span> in <span class="ni">&lt;cell line: 1&gt;</span><span class="nt">()</span>
<span class="ne">----&gt; </span><span class="mi">1</span> <span class="n">allmodels</span> <span class="o">=</span> <span class="p">{</span><span class="n">modelname</span><span class="p">:</span> 
<span class="g g-Whitespace">      </span><span class="mi">2</span>      <span class="n">GrabWfModel</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span> 
<span class="g g-Whitespace">      </span><span class="mi">3</span>                         <span class="n">eviews_run_lines</span><span class="o">=</span> <span class="nb">globals</span><span class="p">()</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">modelname</span><span class="si">}</span><span class="s1">_eviews_run_lines&#39;</span><span class="p">,[]),</span>
<span class="g g-Whitespace">      </span><span class="mi">4</span>                         <span class="n">country_trans</span>    <span class="o">=</span>   <span class="nb">globals</span><span class="p">()</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">modelname</span><span class="si">}</span><span class="s1">_trans&#39;</span>   <span class="p">,</span><span class="k">lambda</span> <span class="n">x</span> <span class="p">:</span> <span class="n">x</span><span class="p">[:]),</span>
<span class="g g-Whitespace">      </span><span class="mi">5</span>                         <span class="n">make_fitted</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>        <span class="c1"># make equatios for fitted values of stocastic equations </span>
<span class="g g-Whitespace">      </span><span class="mi">6</span>                         <span class="n">do_add_factor_calc</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>   <span class="c1"># Calculate the add factors which makes the stocastic equations match    </span>
<span class="g g-Whitespace">      </span><span class="mi">7</span>                         <span class="n">fit_start</span> <span class="o">=</span> <span class="mi">2000</span><span class="p">,</span>          <span class="c1"># Start of calculation of fittet model in baseline (to have some historic values) </span>
<span class="g g-Whitespace">      </span><span class="mi">8</span>                         <span class="n">fit_end</span>   <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>           <span class="c1"># end of calc for fittted model, if None taken from mdmfsa options  </span>
<span class="g g-Whitespace">      </span><span class="mi">9</span>                         <span class="n">disable_progress</span> <span class="o">=</span><span class="kc">True</span>
<span class="g g-Whitespace">     </span><span class="mi">10</span>                         <span class="p">)</span> 
<span class="g g-Whitespace">     </span><span class="mi">11</span>                   <span class="k">for</span> <span class="n">modelname</span><span class="p">,</span><span class="n">filename</span> <span class="ow">in</span> <span class="n">filedict</span><span class="o">.</span><span class="n">items</span><span class="p">()}</span>

<span class="nn">Input In [5],</span> in <span class="ni">&lt;dictcomp&gt;</span><span class="nt">(.0)</span>
<span class="g g-Whitespace">      </span><span class="mi">1</span> <span class="n">allmodels</span> <span class="o">=</span> <span class="p">{</span><span class="n">modelname</span><span class="p">:</span> 
<span class="ne">----&gt; </span><span class="mi">2</span>      <span class="n">GrabWfModel</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span> 
<span class="g g-Whitespace">      </span><span class="mi">3</span>                         <span class="n">eviews_run_lines</span><span class="o">=</span> <span class="nb">globals</span><span class="p">()</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">modelname</span><span class="si">}</span><span class="s1">_eviews_run_lines&#39;</span><span class="p">,[]),</span>
<span class="g g-Whitespace">      </span><span class="mi">4</span>                         <span class="n">country_trans</span>    <span class="o">=</span>   <span class="nb">globals</span><span class="p">()</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">modelname</span><span class="si">}</span><span class="s1">_trans&#39;</span>   <span class="p">,</span><span class="k">lambda</span> <span class="n">x</span> <span class="p">:</span> <span class="n">x</span><span class="p">[:]),</span>
<span class="g g-Whitespace">      </span><span class="mi">5</span>                         <span class="n">make_fitted</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>        <span class="c1"># make equatios for fitted values of stocastic equations </span>
<span class="g g-Whitespace">      </span><span class="mi">6</span>                         <span class="n">do_add_factor_calc</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>   <span class="c1"># Calculate the add factors which makes the stocastic equations match    </span>
<span class="g g-Whitespace">      </span><span class="mi">7</span>                         <span class="n">fit_start</span> <span class="o">=</span> <span class="mi">2000</span><span class="p">,</span>          <span class="c1"># Start of calculation of fittet model in baseline (to have some historic values) </span>
<span class="g g-Whitespace">      </span><span class="mi">8</span>                         <span class="n">fit_end</span>   <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>           <span class="c1"># end of calc for fittted model, if None taken from mdmfsa options  </span>
<span class="g g-Whitespace">      </span><span class="mi">9</span>                         <span class="n">disable_progress</span> <span class="o">=</span><span class="kc">True</span>
<span class="g g-Whitespace">     </span><span class="mi">10</span>                         <span class="p">)</span> 
<span class="g g-Whitespace">     </span><span class="mi">11</span>                   <span class="k">for</span> <span class="n">modelname</span><span class="p">,</span><span class="n">filename</span> <span class="ow">in</span> <span class="n">filedict</span><span class="o">.</span><span class="n">items</span><span class="p">()}</span>

<span class="nn">File &lt;string&gt;:17,</span> in <span class="ni">__init__</span><span class="nt">(self, filename, modelname, eviews_run_lines, model_all_about, start, end, country_trans, country_df_trans, make_fitted, fit_start, fit_end, do_add_factor_calc, test_frml, disable_progress)</span>

<span class="nn">File C:\modelflow2\modelflow\modelgrabwf2.py:207,</span> in <span class="ni">GrabWfModel.__post_init__</span><span class="nt">(self)</span>
<span class="g g-Whitespace">    </span><span class="mi">204</span>         <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;New modelflow line:</span><span class="si">{</span><span class="n">l</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">205</span>     <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s1">&#39;@ in lines &#39;</span><span class="p">)</span>
<span class="ne">--&gt; </span><span class="mi">207</span> <span class="bp">self</span><span class="o">.</span><span class="n">all_frml</span> <span class="o">=</span> <span class="p">[</span><span class="n">nz</span><span class="o">.</span><span class="n">normal</span><span class="p">(</span><span class="n">l</span><span class="p">,</span><span class="n">add_add_factor</span><span class="o">=</span><span class="p">(</span><span class="n">typ</span><span class="o">==</span><span class="s1">&#39;stoc&#39;</span><span class="p">),</span><span class="n">make_fitted</span><span class="o">=</span><span class="p">(</span><span class="n">typ</span><span class="o">==</span><span class="s1">&#39;stoc&#39;</span><span class="p">),</span><span class="n">make_fixable</span> <span class="o">=</span><span class="p">(</span><span class="n">typ</span><span class="o">==</span><span class="s1">&#39;stoc&#39;</span><span class="p">),</span><span class="n">eviews</span><span class="o">=</span><span class="n">e</span><span class="p">)</span> 
<span class="g g-Whitespace">    </span><span class="mi">208</span>                  <span class="k">for</span> <span class="n">l</span><span class="p">,</span><span class="n">typ</span><span class="p">,</span><span class="n">e</span> <span class="ow">in</span> <span class="n">tqdm</span><span class="p">(</span><span class="nb">zip</span><span class="p">(</span><span class="n">line</span><span class="p">,</span><span class="n">line_type</span><span class="p">,</span><span class="n">eviewsline</span><span class="p">),</span>
<span class="g g-Whitespace">    </span><span class="mi">209</span>             <span class="n">desc</span><span class="o">=</span><span class="s1">&#39;Normalizing model&#39;</span><span class="p">,</span><span class="n">total</span><span class="o">=</span><span class="nb">len</span><span class="p">(</span><span class="n">line</span><span class="p">),</span><span class="n">bar_format</span><span class="o">=</span><span class="n">bars</span><span class="p">,</span><span class="n">disable</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">disable_progress</span><span class="p">)]</span>
<span class="g g-Whitespace">    </span><span class="mi">213</span> <span class="bp">self</span><span class="o">.</span><span class="n">all_frml_dict</span> <span class="o">=</span> <span class="p">{</span><span class="n">f</span><span class="o">.</span><span class="n">endo_var</span><span class="p">:</span> <span class="n">f</span> <span class="k">for</span> <span class="n">f</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">all_frml</span><span class="p">}</span>
<span class="g g-Whitespace">    </span><span class="mi">214</span> <span class="n">lfname</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;&lt;Z,EXO&gt; &quot;</span> <span class="k">if</span> <span class="n">typ</span> <span class="o">==</span> <span class="s1">&#39;stoc&#39;</span> <span class="k">else</span> <span class="s1">&#39;&#39;</span> <span class="k">for</span> <span class="n">typ</span> <span class="ow">in</span> <span class="n">line_type</span> <span class="p">]</span>

<span class="nn">File C:\modelflow2\modelflow\modelgrabwf2.py:207,</span> in <span class="ni">&lt;listcomp&gt;</span><span class="nt">(.0)</span>
<span class="g g-Whitespace">    </span><span class="mi">204</span>         <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;New modelflow line:</span><span class="si">{</span><span class="n">l</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">205</span>     <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s1">&#39;@ in lines &#39;</span><span class="p">)</span>
<span class="ne">--&gt; </span><span class="mi">207</span> <span class="bp">self</span><span class="o">.</span><span class="n">all_frml</span> <span class="o">=</span> <span class="p">[</span><span class="n">nz</span><span class="o">.</span><span class="n">normal</span><span class="p">(</span><span class="n">l</span><span class="p">,</span><span class="n">add_add_factor</span><span class="o">=</span><span class="p">(</span><span class="n">typ</span><span class="o">==</span><span class="s1">&#39;stoc&#39;</span><span class="p">),</span><span class="n">make_fitted</span><span class="o">=</span><span class="p">(</span><span class="n">typ</span><span class="o">==</span><span class="s1">&#39;stoc&#39;</span><span class="p">),</span><span class="n">make_fixable</span> <span class="o">=</span><span class="p">(</span><span class="n">typ</span><span class="o">==</span><span class="s1">&#39;stoc&#39;</span><span class="p">),</span><span class="n">eviews</span><span class="o">=</span><span class="n">e</span><span class="p">)</span> 
<span class="g g-Whitespace">    </span><span class="mi">208</span>                  <span class="k">for</span> <span class="n">l</span><span class="p">,</span><span class="n">typ</span><span class="p">,</span><span class="n">e</span> <span class="ow">in</span> <span class="n">tqdm</span><span class="p">(</span><span class="nb">zip</span><span class="p">(</span><span class="n">line</span><span class="p">,</span><span class="n">line_type</span><span class="p">,</span><span class="n">eviewsline</span><span class="p">),</span>
<span class="g g-Whitespace">    </span><span class="mi">209</span>             <span class="n">desc</span><span class="o">=</span><span class="s1">&#39;Normalizing model&#39;</span><span class="p">,</span><span class="n">total</span><span class="o">=</span><span class="nb">len</span><span class="p">(</span><span class="n">line</span><span class="p">),</span><span class="n">bar_format</span><span class="o">=</span><span class="n">bars</span><span class="p">,</span><span class="n">disable</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">disable_progress</span><span class="p">)]</span>
<span class="g g-Whitespace">    </span><span class="mi">213</span> <span class="bp">self</span><span class="o">.</span><span class="n">all_frml_dict</span> <span class="o">=</span> <span class="p">{</span><span class="n">f</span><span class="o">.</span><span class="n">endo_var</span><span class="p">:</span> <span class="n">f</span> <span class="k">for</span> <span class="n">f</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">all_frml</span><span class="p">}</span>
<span class="g g-Whitespace">    </span><span class="mi">214</span> <span class="n">lfname</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;&lt;Z,EXO&gt; &quot;</span> <span class="k">if</span> <span class="n">typ</span> <span class="o">==</span> <span class="s1">&#39;stoc&#39;</span> <span class="k">else</span> <span class="s1">&#39;&#39;</span> <span class="k">for</span> <span class="n">typ</span> <span class="ow">in</span> <span class="n">line_type</span> <span class="p">]</span>

<span class="nn">File C:\modelflow2\modelflow\modelnormalize.py:241,</span> in <span class="ni">normal</span><span class="nt">(ind_o, the_endo, add_add_factor, do_preprocess, add_suffix, endo_lhs, make_fixable, make_fitted, eviews)</span>
<span class="g g-Whitespace">    </span><span class="mi">238</span>     <span class="n">kat_fit</span><span class="o">=</span><span class="n">sympify</span><span class="p">(</span><span class="n">transeq_fit</span><span class="p">,</span><span class="n">clash</span><span class="p">)</span>  
<span class="g g-Whitespace">    </span><span class="mi">239</span>     <span class="c1"># breakpoint()</span>
<span class="ne">--&gt; </span><span class="mi">241</span>     <span class="n">endo_frml_fit</span>  <span class="o">=</span> <span class="n">solve</span><span class="p">(</span><span class="n">kat_fit</span><span class="p">,</span><span class="n">endo</span>  <span class="p">,</span><span class="n">simplify</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span><span class="n">rational</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span><span class="n">warn</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">242</span>     <span class="n">res_rhs_fit</span>    <span class="o">=</span><span class="n">stripstring</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">endo_frml_fit</span><span class="p">[</span><span class="mi">0</span><span class="p">]),</span><span class="n">post</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;__RHS__&#39;</span><span class="p">,</span><span class="sa">f</span><span class="s1">&#39; (</span><span class="si">{</span><span class="n">rhs</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span><span class="si">}</span><span class="s1">) &#39;</span><span class="p">)</span> <span class="k">if</span> <span class="n">endo_lhs</span> <span class="k">else</span> \
<span class="g g-Whitespace">    </span><span class="mi">243</span>             <span class="n">stripstring</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">endo_frml_fit</span><span class="p">[</span><span class="mi">0</span><span class="p">]),</span><span class="n">post</span><span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">245</span> <span class="k">if</span> <span class="n">make_fixable</span> <span class="p">:</span>

<span class="nn">File ~\Anaconda3\envs\mf\lib\site-packages\sympy\solvers\solvers.py:1106,</span> in <span class="ni">solve</span><span class="nt">(f, *symbols, **flags)</span>
<span class="g g-Whitespace">   </span><span class="mi">1102</span> <span class="c1">#</span>
<span class="g g-Whitespace">   </span><span class="mi">1103</span> <span class="c1"># try to get a solution</span>
<span class="g g-Whitespace">   </span><span class="mi">1104</span> <span class="c1">###########################################################################</span>
<span class="g g-Whitespace">   </span><span class="mi">1105</span> <span class="k">if</span> <span class="n">bare_f</span><span class="p">:</span>
<span class="ne">-&gt; </span><span class="mi">1106</span>     <span class="n">solution</span> <span class="o">=</span> <span class="n">_solve</span><span class="p">(</span><span class="n">f</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="o">*</span><span class="n">symbols</span><span class="p">,</span> <span class="o">**</span><span class="n">flags</span><span class="p">)</span>
<span class="g g-Whitespace">   </span><span class="mi">1107</span> <span class="k">else</span><span class="p">:</span>
<span class="g g-Whitespace">   </span><span class="mi">1108</span>     <span class="n">solution</span> <span class="o">=</span> <span class="n">_solve_system</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="n">symbols</span><span class="p">,</span> <span class="o">**</span><span class="n">flags</span><span class="p">)</span>

<span class="nn">File ~\Anaconda3\envs\mf\lib\site-packages\sympy\solvers\solvers.py:1661,</span> in <span class="ni">_solve</span><span class="nt">(f, *symbols, **flags)</span>
<span class="g g-Whitespace">   </span><span class="mi">1659</span> <span class="k">try</span><span class="p">:</span>
<span class="g g-Whitespace">   </span><span class="mi">1660</span>     <span class="n">t</span> <span class="o">=</span> <span class="n">Dummy</span><span class="p">(</span><span class="s1">&#39;t&#39;</span><span class="p">)</span>
<span class="ne">-&gt; </span><span class="mi">1661</span>     <span class="n">iv</span> <span class="o">=</span> <span class="n">_solve</span><span class="p">(</span><span class="n">u</span> <span class="o">-</span> <span class="n">t</span><span class="p">,</span> <span class="n">symbol</span><span class="p">,</span> <span class="o">**</span><span class="n">flags</span><span class="p">)</span>
<span class="g g-Whitespace">   </span><span class="mi">1662</span>     <span class="n">soln</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">ordered</span><span class="p">({</span><span class="n">i</span><span class="o">.</span><span class="n">subs</span><span class="p">(</span><span class="n">t</span><span class="p">,</span> <span class="n">s</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">iv</span> <span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="n">soln</span><span class="p">}))</span>
<span class="g g-Whitespace">   </span><span class="mi">1663</span> <span class="k">except</span> <span class="ne">NotImplementedError</span><span class="p">:</span>
<span class="g g-Whitespace">   </span><span class="mi">1664</span>     <span class="c1"># perhaps _tsolve can handle f_num</span>

<span class="nn">File ~\Anaconda3\envs\mf\lib\site-packages\sympy\solvers\solvers.py:1486,</span> in <span class="ni">_solve</span><span class="nt">(f, *symbols, **flags)</span>
<span class="g g-Whitespace">   </span><span class="mi">1484</span> <span class="k">try</span><span class="p">:</span>
<span class="g g-Whitespace">   </span><span class="mi">1485</span>     <span class="k">if</span> <span class="n">poly</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
<span class="ne">-&gt; </span><span class="mi">1486</span>         <span class="n">poly</span> <span class="o">=</span> <span class="n">Poly</span><span class="p">(</span><span class="n">f_num</span><span class="p">)</span>
<span class="g g-Whitespace">   </span><span class="mi">1487</span>     <span class="k">if</span> <span class="n">poly</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
<span class="g g-Whitespace">   </span><span class="mi">1488</span>         <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s1">&#39;could not convert </span><span class="si">%s</span><span class="s1"> to Poly&#39;</span> <span class="o">%</span> <span class="n">f_num</span><span class="p">)</span>

<span class="nn">File ~\Anaconda3\envs\mf\lib\site-packages\sympy\polys\polytools.py:181,</span> in <span class="ni">Poly.__new__</span><span class="nt">(cls, rep, *gens, **args)</span>
<span class="g g-Whitespace">    </span><span class="mi">179</span>     <span class="k">return</span> <span class="bp">cls</span><span class="o">.</span><span class="n">_from_poly</span><span class="p">(</span><span class="n">rep</span><span class="p">,</span> <span class="n">opt</span><span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">180</span> <span class="k">else</span><span class="p">:</span>
<span class="ne">--&gt; </span><span class="mi">181</span>     <span class="k">return</span> <span class="bp">cls</span><span class="o">.</span><span class="n">_from_expr</span><span class="p">(</span><span class="n">rep</span><span class="p">,</span> <span class="n">opt</span><span class="p">)</span>

<span class="nn">File ~\Anaconda3\envs\mf\lib\site-packages\sympy\polys\polytools.py:310,</span> in <span class="ni">Poly._from_expr</span><span class="nt">(cls, rep, opt)</span>
<span class="g g-Whitespace">    </span><span class="mi">307</span> <span class="nd">@classmethod</span>
<span class="g g-Whitespace">    </span><span class="mi">308</span> <span class="k">def</span> <span class="nf">_from_expr</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">rep</span><span class="p">,</span> <span class="n">opt</span><span class="p">):</span>
<span class="g g-Whitespace">    </span><span class="mi">309</span>     <span class="sd">&quot;&quot;&quot;Construct a polynomial from an expression. &quot;&quot;&quot;</span>
<span class="ne">--&gt; </span><span class="mi">310</span>     <span class="n">rep</span><span class="p">,</span> <span class="n">opt</span> <span class="o">=</span> <span class="n">_dict_from_expr</span><span class="p">(</span><span class="n">rep</span><span class="p">,</span> <span class="n">opt</span><span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">311</span>     <span class="k">return</span> <span class="bp">cls</span><span class="o">.</span><span class="n">_from_dict</span><span class="p">(</span><span class="n">rep</span><span class="p">,</span> <span class="n">opt</span><span class="p">)</span>

<span class="nn">File ~\Anaconda3\envs\mf\lib\site-packages\sympy\polys\polyutils.py:370,</span> in <span class="ni">_dict_from_expr</span><span class="nt">(expr, opt)</span>
<span class="g g-Whitespace">    </span><span class="mi">368</span>     <span class="n">rep</span><span class="p">,</span> <span class="n">gens</span> <span class="o">=</span> <span class="n">_dict_from_expr_if_gens</span><span class="p">(</span><span class="n">expr</span><span class="p">,</span> <span class="n">opt</span><span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">369</span> <span class="k">else</span><span class="p">:</span>
<span class="ne">--&gt; </span><span class="mi">370</span>     <span class="n">rep</span><span class="p">,</span> <span class="n">gens</span> <span class="o">=</span> <span class="n">_dict_from_expr_no_gens</span><span class="p">(</span><span class="n">expr</span><span class="p">,</span> <span class="n">opt</span><span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">372</span> <span class="k">return</span> <span class="n">rep</span><span class="p">,</span> <span class="n">opt</span><span class="o">.</span><span class="n">clone</span><span class="p">({</span><span class="s1">&#39;gens&#39;</span><span class="p">:</span> <span class="n">gens</span><span class="p">})</span>

<span class="nn">File ~\Anaconda3\envs\mf\lib\site-packages\sympy\polys\polyutils.py:313,</span> in <span class="ni">_dict_from_expr_no_gens</span><span class="nt">(expr, opt)</span>
<span class="g g-Whitespace">    </span><span class="mi">311</span> <span class="k">def</span> <span class="nf">_dict_from_expr_no_gens</span><span class="p">(</span><span class="n">expr</span><span class="p">,</span> <span class="n">opt</span><span class="p">):</span>
<span class="g g-Whitespace">    </span><span class="mi">312</span>     <span class="sd">&quot;&quot;&quot;Transform an expression into a multinomial form and figure out generators. &quot;&quot;&quot;</span>
<span class="ne">--&gt; </span><span class="mi">313</span>     <span class="p">(</span><span class="n">poly</span><span class="p">,),</span> <span class="n">gens</span> <span class="o">=</span> <span class="n">_parallel_dict_from_expr_no_gens</span><span class="p">((</span><span class="n">expr</span><span class="p">,),</span> <span class="n">opt</span><span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">314</span>     <span class="k">return</span> <span class="n">poly</span><span class="p">,</span> <span class="n">gens</span>

<span class="nn">File ~\Anaconda3\envs\mf\lib\site-packages\sympy\polys\polyutils.py:276,</span> in <span class="ni">_parallel_dict_from_expr_no_gens</span><span class="nt">(exprs, opt)</span>
<span class="g g-Whitespace">    </span><span class="mi">272</span>         <span class="n">terms</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">coeff</span><span class="p">,</span> <span class="n">elements</span><span class="p">))</span>
<span class="g g-Whitespace">    </span><span class="mi">274</span>     <span class="n">reprs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">terms</span><span class="p">)</span>
<span class="ne">--&gt; </span><span class="mi">276</span> <span class="n">gens</span> <span class="o">=</span> <span class="n">_sort_gens</span><span class="p">(</span><span class="n">gens</span><span class="p">,</span> <span class="n">opt</span><span class="o">=</span><span class="n">opt</span><span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">277</span> <span class="n">k</span><span class="p">,</span> <span class="n">indices</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">gens</span><span class="p">),</span> <span class="p">{}</span>
<span class="g g-Whitespace">    </span><span class="mi">279</span> <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">g</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">gens</span><span class="p">):</span>

<span class="nn">File ~\Anaconda3\envs\mf\lib\site-packages\sympy\polys\polyutils.py:102,</span> in <span class="ni">_sort_gens</span><span class="nt">(gens, **args)</span>
<span class="g g-Whitespace">     </span><span class="mi">99</span>     <span class="k">return</span> <span class="p">(</span><span class="n">_max_order</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">index</span><span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">101</span> <span class="k">try</span><span class="p">:</span>
<span class="ne">--&gt; </span><span class="mi">102</span>     <span class="n">gens</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">gens</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="n">order_key</span><span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">103</span> <span class="k">except</span> <span class="ne">TypeError</span><span class="p">:</span>  <span class="c1"># pragma: no cover</span>
<span class="g g-Whitespace">    </span><span class="mi">104</span>     <span class="k">pass</span>

<span class="nn">File ~\Anaconda3\envs\mf\lib\site-packages\sympy\polys\polyutils.py:74,</span> in <span class="ni">_sort_gens.&lt;locals&gt;.order_key</span><span class="nt">(gen)</span>
<span class="g g-Whitespace">     </span><span class="mi">73</span> <span class="k">def</span> <span class="nf">order_key</span><span class="p">(</span><span class="n">gen</span><span class="p">):</span>
<span class="ne">---&gt; </span><span class="mi">74</span>     <span class="n">gen</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">gen</span><span class="p">)</span>
<span class="g g-Whitespace">     </span><span class="mi">76</span>     <span class="k">if</span> <span class="n">wrt</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
<span class="g g-Whitespace">     </span><span class="mi">77</span>         <span class="k">try</span><span class="p">:</span>

<span class="nn">File ~\Anaconda3\envs\mf\lib\site-packages\sympy\core\_print_helpers.py:29,</span> in <span class="ni">Printable.__str__</span><span class="nt">(self)</span>
<span class="g g-Whitespace">     </span><span class="mi">27</span> <span class="k">def</span> <span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="g g-Whitespace">     </span><span class="mi">28</span>     <span class="kn">from</span> <span class="nn">sympy.printing.str</span> <span class="kn">import</span> <span class="n">sstr</span>
<span class="ne">---&gt; </span><span class="mi">29</span>     <span class="k">return</span> <span class="n">sstr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">order</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>

<span class="nn">File ~\Anaconda3\envs\mf\lib\site-packages\sympy\printing\printer.py:372,</span> in <span class="ni">_PrintFunction.__call__</span><span class="nt">(self, *args, **kwargs)</span>
<span class="g g-Whitespace">    </span><span class="mi">371</span> <span class="k">def</span> <span class="fm">__call__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="ne">--&gt; </span><span class="mi">372</span>     <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__wrapped__</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

<span class="nn">File ~\Anaconda3\envs\mf\lib\site-packages\sympy\printing\str.py:1000,</span> in <span class="ni">sstr</span><span class="nt">(expr, **settings)</span>
<span class="g g-Whitespace">    </span><span class="mi">983</span> <span class="nd">@print_function</span><span class="p">(</span><span class="n">StrPrinter</span><span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">984</span> <span class="k">def</span> <span class="nf">sstr</span><span class="p">(</span><span class="n">expr</span><span class="p">,</span> <span class="o">**</span><span class="n">settings</span><span class="p">):</span>
<span class="g g-Whitespace">    </span><span class="mi">985</span>     <span class="sd">&quot;&quot;&quot;Returns the expression as a string.</span>
<span class="g g-Whitespace">    </span><span class="mi">986</span><span class="sd"> </span>
<span class="g g-Whitespace">    </span><span class="mi">987</span><span class="sd">     For large expressions where speed is a concern, use the setting</span>
<span class="sd">   (...)</span>
<span class="g g-Whitespace">    </span><span class="mi">997</span><span class="sd">     &#39;Eq(a + b, 0)&#39;</span>
<span class="g g-Whitespace">    </span><span class="mi">998</span><span class="sd">     &quot;&quot;&quot;</span>
<span class="ne">-&gt; </span><span class="mi">1000</span>     <span class="n">p</span> <span class="o">=</span> <span class="n">StrPrinter</span><span class="p">(</span><span class="n">settings</span><span class="p">)</span>
<span class="g g-Whitespace">   </span><span class="mi">1001</span>     <span class="n">s</span> <span class="o">=</span> <span class="n">p</span><span class="o">.</span><span class="n">doprint</span><span class="p">(</span><span class="n">expr</span><span class="p">)</span>
<span class="g g-Whitespace">   </span><span class="mi">1003</span>     <span class="k">return</span> <span class="n">s</span>

<span class="nn">File ~\Anaconda3\envs\mf\lib\site-packages\sympy\printing\printer.py:259,</span> in <span class="ni">Printer.__init__</span><span class="nt">(self, settings)</span>
<span class="g g-Whitespace">    </span><span class="mi">258</span> <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">settings</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
<span class="ne">--&gt; </span><span class="mi">259</span>     <span class="bp">self</span><span class="o">.</span><span class="n">_str</span> <span class="o">=</span> <span class="nb">str</span>
<span class="g g-Whitespace">    </span><span class="mi">261</span>     <span class="bp">self</span><span class="o">.</span><span class="n">_settings</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_initial_settings</span><span class="p">()</span>
<span class="g g-Whitespace">    </span><span class="mi">262</span>     <span class="bp">self</span><span class="o">.</span><span class="n">_context</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">()</span>  <span class="c1"># mutable during printing</span>

<span class="ne">KeyboardInterrupt</span>: 
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="check-all-the-models">
<h2><span class="section-number">12.4. </span>Check all the models<a class="headerlink" href="#check-all-the-models" title="Permalink to this headline">¶</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">modelname</span><span class="p">,</span><span class="n">cmodel</span> <span class="ow">in</span> <span class="n">allmodels</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
    <span class="n">cmodel</span><span class="o">.</span><span class="n">test_model</span><span class="p">(</span><span class="n">cmodel</span><span class="o">.</span><span class="n">start</span><span class="p">,</span><span class="n">cmodel</span><span class="o">.</span><span class="n">end</span><span class="p">,</span><span class="n">maxerr</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span><span class="n">tol</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span><span class="n">showall</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>   <span class="c1"># tol determins the max acceptable absolute difference </span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>AGO calculated  

Chekking residuals for AGO 2016 to 2060

Variable with residuals above threshold
AGONECONPRVTCN                        , Max difference:  2861.03139496 Max Pct    0.0000106457% It is number    45 in the solveorder and error number 1
AGONEGDIFGOVCN                        , Max difference:    21.01837921 Max Pct    0.0000013130% It is number    56 in the solveorder and error number 2
AGONEGDIFTOTCN                        , Max difference:   177.46922302 Max Pct    0.0000007316% It is number    59 in the solveorder and error number 3
AGONEEXPNOILCN                        , Max difference:    34.74809837 Max Pct    0.0000022911% It is number    65 in the solveorder and error number 4
AGONEEXPGOILCN                        , Max difference:   544.94689941 Max Pct    0.0000026926% It is number    68 in the solveorder and error number 5
AGONEEXPGNFSCN                        , Max difference:   504.25928497 Max Pct    0.0000023486% It is number    69 in the solveorder and error number 6
AGONEIMPGNFSCN                        , Max difference:  1101.58077240 Max Pct    0.0000111348% It is number    73 in the solveorder and error number 7
AGONYYWBTOTLCN                        , Max difference:   286.10862160 Max Pct    0.0000091250% It is number    82 in the solveorder and error number 8
AGOGGREVTOTLCN                        , Max difference:   136.30834198 Max Pct    0.0000014056% It is number    83 in the solveorder and error number 9
AGOGGEXPINTPCN                        , Max difference:    99.77352953 Max Pct    0.0000082146% It is number    88 in the solveorder and error number 10
AGONVGDPFCSTCN                        , Max difference:   455.67959595 Max Pct    0.0000009309% It is number   113 in the solveorder and error number 11
AGONYTAXNINDKN                        , Max difference:     1.37211440 Max Pct    0.0014202837% It is number   115 in the solveorder and error number 12
AGONVAGRTOTLCN                        , Max difference:     5.06173030 Max Pct    0.0000057479% It is number   116 in the solveorder and error number 13
AGONVINDMINGCN                        , Max difference:    89.14881706 Max Pct    0.0000037522% It is number   117 in the solveorder and error number 14
AGONVSRVPUBLCN                        , Max difference:   597.87203789 Max Pct    0.0000183998% It is number   118 in the solveorder and error number 15
AGONVGDPOTHRCN                        , Max difference:   355.96192932 Max Pct    0.0000005341% It is number   119 in the solveorder and error number 16
AGONYGDPMKTPCN                        , Max difference:   296.17025757 Max Pct    0.0000012217% It is number   167 in the solveorder and error number 17
MDA calculated  

Chekking residuals for MDA 2014 to 2025
PAK calculated  

Chekking residuals for PAK 2015 to 2100

Variable with residuals above threshold
PAKNYYWBTOTLCN              , Max difference:    76.62465858 Max Pct    0.0000042560% It is number    62 in the solveorder and error number 1
PAKNECONPRVTCN              , Max difference:    35.41133165 Max Pct    0.0000017794% It is number    73 in the solveorder and error number 2
PER calculated  

Chekking residuals for PER 2016 to 2300
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="run-the-models">
<h2><span class="section-number">12.5. </span>Run the models<a class="headerlink" href="#run-the-models" title="Permalink to this headline">¶</a></h2>
<p>Some models need a different alfa (dampening factor in Gauss iterations) in order to solve.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">alfadict</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;ago&#39;</span><span class="p">:</span><span class="mf">0.7</span><span class="p">}</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">modelname</span><span class="p">,</span><span class="n">cmodel</span> <span class="ow">in</span> <span class="n">allmodels</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
    <span class="n">_</span> <span class="o">=</span> <span class="n">cmodel</span><span class="o">.</span><span class="n">mmodel</span><span class="p">(</span><span class="n">cmodel</span><span class="o">.</span><span class="n">base_input</span><span class="p">,</span><span class="n">alfa</span><span class="o">=</span><span class="n">alfadict</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">modelname</span><span class="p">,</span><span class="mf">1.0</span><span class="p">))</span>
    <span class="n">cmodel</span><span class="o">.</span><span class="n">mmodel</span><span class="o">.</span><span class="n">modeldump</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;modelflowdumps/</span><span class="si">{</span><span class="n">modelname</span><span class="si">}</span><span class="s1">.pcim&#39;</span><span class="p">)</span>  
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">modelname</span><span class="si">}</span><span class="s1"> run and saved&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>ago run and saved
mda run and saved
pak run and saved
per run and saved
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>!dir modelflowdumps\
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span> Volume in drive C has no label.
 Volume Serial Number is C2DB-095E

 Directory of c:\wb new\Modelflow\working_paper\thebook\content\howto\onboard\eviews\modelflowdumps

10-06-2022  16:23    &lt;DIR&gt;          .
10-06-2022  16:23    &lt;DIR&gt;          ..
09-06-2022  11:41         1.434.250 ago
10-06-2022  16:23         1.434.250 ago.pcim
09-06-2022  11:41         1.029.618 mda
10-06-2022  16:23         1.029.618 mda.pcim
09-06-2022  11:41         3.386.584 pak
10-06-2022  16:23         3.386.584 pak.pcim
09-06-2022  11:41        11.979.848 per
10-06-2022  16:23        11.979.848 per.pcim
               8 File(s)     35.660.600 bytes
               2 Dir(s)  790.141.247.488 bytes free
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="make-some-names-in-the-namespace">
<h2><span class="section-number">12.6. </span>Make some names in the namespace<a class="headerlink" href="#make-some-names-in-the-namespace" title="Permalink to this headline">¶</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">modelname</span><span class="p">,</span><span class="n">cmodel</span> <span class="ow">in</span> <span class="n">allmodels</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
    <span class="n">thismodel</span> <span class="o">=</span> <span class="sa">f</span><span class="s1">&#39;m</span><span class="si">{</span><span class="n">modelname</span><span class="si">}</span><span class="s1">&#39;</span>
    <span class="n">thisbaseline</span> <span class="o">=</span> <span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">modelname</span><span class="si">}</span><span class="s1">_baseline&#39;</span>
    <span class="n">thiscmodel</span> <span class="o">=</span> <span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">modelname</span><span class="si">}</span><span class="s1">_cmodel&#39;</span>
    <span class="nb">globals</span><span class="p">()[</span><span class="n">thismodel</span><span class="p">]</span> <span class="o">=</span> <span class="n">cmodel</span><span class="o">.</span><span class="n">mmodel</span>
    <span class="nb">globals</span><span class="p">()[</span><span class="n">thisbaseline</span><span class="p">]</span><span class="o">=</span> <span class="n">cmodel</span><span class="o">.</span><span class="n">base_input</span> 
    <span class="nb">globals</span><span class="p">()[</span><span class="n">thiscmodel</span><span class="p">]</span><span class="o">=</span> <span class="n">cmodel</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">thismodel</span><span class="si">}</span><span class="s1">, </span><span class="si">{</span><span class="n">thisbaseline</span><span class="si">}</span><span class="s1"> and </span><span class="si">{</span><span class="n">thiscmodel</span><span class="si">}</span><span class="s1"> has been created&#39;</span><span class="p">)</span>    
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>mago, ago_baseline and ago_cmodel has been created
mmda, mda_baseline and mda_cmodel has been created
mpak, pak_baseline and pak_cmodel has been created
mper, per_baseline and per_cmodel has been created
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">thissilent</span> <span class="o">=</span> <span class="mi">1</span>
<span class="n">_</span> <span class="o">=</span> <span class="n">mago</span><span class="p">(</span><span class="n">ago_baseline</span><span class="p">,</span><span class="n">silent</span><span class="o">=</span><span class="n">thissilent</span><span class="p">,</span><span class="n">alfa</span><span class="o">=</span><span class="mf">0.7</span><span class="p">)</span>
<span class="n">_</span> <span class="o">=</span> <span class="n">mmda</span><span class="p">(</span><span class="n">mda_baseline</span><span class="p">,</span><span class="n">silent</span><span class="o">=</span><span class="n">thissilent</span><span class="p">)</span>
<span class="n">_</span> <span class="o">=</span> <span class="n">mpak</span><span class="p">(</span><span class="n">pak_baseline</span><span class="p">,</span><span class="n">silent</span><span class="o">=</span><span class="n">thissilent</span><span class="p">)</span>
<span class="n">_</span> <span class="o">=</span> <span class="n">mper</span><span class="p">(</span><span class="n">per_baseline</span><span class="p">,</span><span class="n">silent</span><span class="o">=</span><span class="n">thissilent</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="lets-create-a-list-of-all-variable-names">
<h2><span class="section-number">12.7. </span>Lets create a list of all variable names<a class="headerlink" href="#lets-create-a-list-of-all-variable-names" title="Permalink to this headline">¶</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">allvar</span> <span class="o">=</span> <span class="p">[</span><span class="n">varname</span> <span class="k">for</span> <span class="n">cmodel</span>  <span class="ow">in</span> <span class="n">allmodels</span><span class="o">.</span><span class="n">values</span><span class="p">()</span> <span class="k">for</span> <span class="n">varname</span> <span class="ow">in</span> <span class="n">cmodel</span><span class="o">.</span><span class="n">mmodel</span><span class="o">.</span><span class="n">allvar</span><span class="o">.</span><span class="n">keys</span><span class="p">()]</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">allvar</span> <span class="o">=</span> <span class="p">[</span><span class="n">varname</span> <span class="k">for</span> <span class="n">thismodel</span> <span class="ow">in</span> <span class="p">[</span><span class="n">mago</span><span class="p">,</span><span class="n">mmda</span><span class="p">,</span><span class="n">mpak</span><span class="p">,</span><span class="n">mper</span><span class="p">]</span> <span class="k">for</span> <span class="n">varname</span> <span class="ow">in</span> <span class="n">thismodel</span><span class="o">.</span><span class="n">allvar</span><span class="o">.</span><span class="n">keys</span><span class="p">()]</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">allvar_dict</span>  <span class="o">=</span> <span class="p">{</span><span class="n">varname</span><span class="p">:</span><span class="n">cmodel</span><span class="o">.</span><span class="n">mmodel</span><span class="o">.</span><span class="n">var_description</span><span class="p">[</span><span class="n">varname</span><span class="p">]</span> <span class="k">for</span> <span class="n">cmodel</span>  <span class="ow">in</span> <span class="n">allmodels</span><span class="o">.</span><span class="n">values</span><span class="p">()</span> <span class="k">for</span> <span class="n">varname</span> <span class="ow">in</span> <span class="n">cmodel</span><span class="o">.</span><span class="n">mmodel</span><span class="o">.</span><span class="n">allvar</span><span class="o">.</span><span class="n">keys</span><span class="p">()}</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">len</span><span class="p">(</span><span class="n">allvar</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2872
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">fnmatch</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">fnmatch</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="n">allvar</span><span class="p">,</span> <span class="s1">&#39;*NECONGOVTCN&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[&#39;AGONECONGOVTCN&#39;, &#39;MDANECONGOVTCN&#39;, &#39;PAKNECONGOVTCN&#39;, &#39;PERNECONGOVTCN&#39;]
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">len</span><span class="p">(</span><span class="nb">set</span><span class="p">(</span><span class="n">allvar</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2763
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">getnames</span><span class="p">(</span><span class="n">pat</span><span class="p">,</span><span class="n">allvar</span><span class="o">=</span><span class="n">allvar</span><span class="p">,</span><span class="n">allvar_dict</span><span class="o">=</span><span class="n">allvar_dict</span><span class="p">):</span>
    <span class="n">selected</span> <span class="o">=</span> <span class="p">[(</span><span class="n">varname</span><span class="p">,</span><span class="n">allvar_dict</span><span class="p">[</span><span class="n">varname</span><span class="p">])</span> <span class="k">for</span> <span class="n">varname</span> <span class="ow">in</span> <span class="n">fnmatch</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="n">allvar_dict</span><span class="o">.</span><span class="n">keys</span><span class="p">(),</span> <span class="n">pat</span><span class="p">)]</span>
    <span class="nb">print</span><span class="p">(</span><span class="o">*</span><span class="n">selected</span><span class="p">,</span><span class="n">sep</span><span class="o">=</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="government-consumption">
<h3><span class="section-number">12.7.1. </span>Government consumption<a class="headerlink" href="#government-consumption" title="Permalink to this headline">¶</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">getnames</span><span class="p">(</span><span class="s1">&#39;*NECONGOVTCN&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>(&#39;AGONECONGOVTCN&#39;, &#39;Nominal Govt Cons&#39;)
(&#39;MDANECONGOVTCN&#39;, &#39;GDP: Final Consumption: Public Administration LCU thousands&#39;)
(&#39;PAKNECONGOVTCN&#39;, &#39;Govt. Cons., LCU mn&#39;)
(&#39;PERNECONGOVTCN&#39;, &#39;PERNECONGOVTCN&#39;)
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="government-investment">
<h3><span class="section-number">12.7.2. </span>Government investment<a class="headerlink" href="#government-investment" title="Permalink to this headline">¶</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">getnames</span><span class="p">(</span><span class="s1">&#39;*NEGDIFGOVCN&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>(&#39;AGONEGDIFGOVCN&#39;, &#39;AGONEGDIFGOVCN&#39;)
(&#39;MDANEGDIFGOVCN&#39;, &#39;MDANEGDIFGOVCN&#39;)
(&#39;PAKNEGDIFGOVCN&#39;, &#39;Public Fixed Domestic Inv., LCU mn&#39;)
(&#39;PERNEGDIFGOVCN&#39;, &#39;PERNEGDIFGOVCN&#39;)
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">getnames</span><span class="p">(</span><span class="s1">&#39;*LMEMPTOTLCN*&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>(&#39;PAKLMEMPTOTLCN_X&#39;, &#39;Fix value:Employment&#39;)
(&#39;PAKLMEMPTOTLCN_D&#39;, &#39;Fix dummy:Employment&#39;)
(&#39;PAKLMEMPTOTLCN&#39;, &#39;Employment&#39;)
(&#39;PAKLMEMPTOTLCN_FITTED&#39;, &#39;Fitted  value:Employment&#39;)
(&#39;PAKLMEMPTOTLCN_A&#39;, &#39;Add factor:Employment&#39;)
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">getnames</span><span class="p">(</span><span class="s1">&#39;*GGEXPWAGECN*&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>(&#39;AGOGGEXPWAGECN_A&#39;, &#39;Add factor:Wages and Salaries&#39;)
(&#39;AGOGGEXPWAGECN_D&#39;, &#39;Fix dummy:Wages and Salaries&#39;)
(&#39;AGOGGEXPWAGECN&#39;, &#39;Wages and Salaries&#39;)
(&#39;AGOGGEXPWAGECN_FITTED&#39;, &#39;Fitted  value:Wages and Salaries&#39;)
(&#39;AGOGGEXPWAGECN_VALUE_2019&#39;, &#39;AGOGGEXPWAGECN_VALUE_2019&#39;)
(&#39;AGOGGEXPWAGECN_X&#39;, &#39;Fix value:Wages and Salaries&#39;)
(&#39;MDAGGEXPWAGECN_X&#39;, &#39;Fix value:Expenditure: Wages and Salaries LCU millions&#39;)
(&#39;MDAGGEXPWAGECN_A&#39;, &#39;Add factor:Expenditure: Wages and Salaries LCU millions&#39;)
(&#39;MDAGGEXPWAGECN_D&#39;, &#39;Fix dummy:Expenditure: Wages and Salaries LCU millions&#39;)
(&#39;MDAGGEXPWAGECN_FITTED&#39;, &#39;Fitted  value:Expenditure: Wages and Salaries LCU millions&#39;)
(&#39;MDAGGEXPWAGECN&#39;, &#39;Expenditure: Wages and Salaries LCU millions&#39;)
(&#39;PERGGEXPWAGECN_A&#39;, &#39;Add factor:PERGGEXPWAGECN&#39;)
(&#39;PERGGEXPWAGECN_FITTED&#39;, &#39;Fitted  value:PERGGEXPWAGECN&#39;)
(&#39;PERGGEXPWAGECN_X&#39;, &#39;Fix value:PERGGEXPWAGECN&#39;)
(&#39;PERGGEXPWAGECN&#39;, &#39;PERGGEXPWAGECN&#39;)
(&#39;PERGGEXPWAGECN_D&#39;, &#39;Fix dummy:PERGGEXPWAGECN&#39;)
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">mpak</span><span class="o">.</span><span class="n">PAKBXFSTREMTCD</span><span class="o">.</span><span class="n">frml</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Endogeneous: PAKBXFSTREMTCD: Exp., Remittances (BOP), US$ mn
Formular: FRML &lt;Z,EXO&gt; PAKBXFSTREMTCD = (PAKBXFSTREMTCD_A*PAKNYGDPMKTPCD+PAKNYGDPMKTPCD* (0.053028373687723) ) * (1-PAKBXFSTREMTCD_D)+ PAKBXFSTREMTCD_X*PAKBXFSTREMTCD_D  $

PAKBXFSTREMTCD  : Exp., Remittances (BOP), US$ mn
PAKBXFSTREMTCD_A: Add factor:Exp., Remittances (BOP), US$ mn
PAKBXFSTREMTCD_D: Fix dummy:Exp., Remittances (BOP), US$ mn
PAKBXFSTREMTCD_X: Fix value:Exp., Remittances (BOP), US$ mn
PAKNYGDPMKTPCD  : 
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">mpak</span><span class="o">.</span><span class="n">PAKGGEXPGNFSCN</span><span class="o">.</span><span class="n">frml</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Endogeneous: PAKGGEXPGNFSCN: General government expenditure on goods and services (millions lcu)
Formular: FRML &lt;Z,EXO&gt; PAKGGEXPGNFSCN = (0.3*PAKGGEXPGNFSCN(-1)+(1-0.3)*(0.80*(PAKGGREVTOTLCN-PAKGGEXPINTPCN(-0)))+505277.259999999*DURING_2012 + PAKGGEXPGNFSCN_A)* (1-PAKGGEXPGNFSCN_D)+ PAKGGEXPGNFSCN_X*PAKGGEXPGNFSCN_D  $

PAKGGEXPGNFSCN  : General government expenditure on goods and services (millions lcu)
DURING_2012     : 
PAKGGEXPGNFSCN_A: Add factor:General government expenditure on goods and services (millions lcu)
PAKGGEXPGNFSCN_D: Fix dummy:General government expenditure on goods and services (millions lcu)
PAKGGEXPGNFSCN_X: Fix value:General government expenditure on goods and services (millions lcu)
PAKGGEXPINTPCN  : General government interest payments on public debt (millions lcu)
PAKGGREVTOTLCN  : General government revenues, total (millions lcu)
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">mpak</span><span class="o">.</span><span class="n">modeldash</span><span class="p">(</span><span class="s1">&#39;PAKNECONGOVTCN&#39;</span><span class="p">,</span><span class="n">jupyter</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>apprun
Dash app running on http://127.0.0.1:5001/
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>C:\Users\ibhan\Anaconda3\lib\site-packages\jupyter_dash\jupyter_app.py:139: UserWarning: The &#39;environ[&#39;werkzeug.server.shutdown&#39;]&#39; function is deprecated and will be removed in Werkzeug 2.1.
  func()
</pre></div>
</div>
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Dash_graph(mmodel=&lt;
Model name                              :                  PAK 
Model structure                         :         Simultaneous 
Number of variables                     :                  841 
Number of exogeneous  variables         :                  463 
Number of endogeneous variables         :                  378 
&gt;, pre_var=&#39;PAKNECONGOVTCN&#39;, filter=0, up=1, down=0, time_att=False, attshow=False, all=False, dashport=5001, debug=False, jupyter=1, show_trigger=False, inline=False, lag=False, threshold=0.5, growthshow=False)
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">allmodels</span><span class="p">[</span><span class="s1">&#39;pak&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">all_frml_dict</span><span class="p">[</span><span class="s1">&#39;PAKGGEXPGNFSCN&#39;</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Endo_var        : PAKGGEXPGNFSCN
Original        : PAKGGEXPGNFSCN=0.3*PAKGGEXPGNFSCN(-1)+(1-0.3)*(0.80*(PAKGGREVTOTLCN-PAKGGEXPINTPCN(-0)))+505277.259999999*DURING_2012
Preprocessed    : PAKGGEXPGNFSCN=0.3*PAKGGEXPGNFSCN(-1)+(1-0.3)*(0.80*(PAKGGREVTOTLCN-PAKGGEXPINTPCN(-0)))+505277.259999999*DURING_2012
Normalized      : PAKGGEXPGNFSCN = (0.3*PAKGGEXPGNFSCN(-1)+(1-0.3)*(0.80*(PAKGGREVTOTLCN-PAKGGEXPINTPCN(-0)))+505277.259999999*DURING_2012 + PAKGGEXPGNFSCN_A)* (1-PAKGGEXPGNFSCN_D)+ PAKGGEXPGNFSCN_X*PAKGGEXPGNFSCN_D 
Calc_add_factor : PAKGGEXPGNFSCN_A = (PAKGGEXPGNFSCN) - (0.3*PAKGGEXPGNFSCN(-1)+(1-0.3)*(0.80*(PAKGGREVTOTLCN-PAKGGEXPINTPCN(-0)))+505277.259999999*DURING_2012)
Fitted          : PAKGGEXPGNFSCN_FITTED = 0.3*PAKGGEXPGNFSCN(-1)+(1-0.3)*(0.80*(PAKGGREVTOTLCN-PAKGGEXPINTPCN(-0)))+505277.259999999*DURING_2012
Eviews          : PAKGGEXPGNFSCN = 0.3*PAKGGEXPGNFSCN( - 1) + (1 - 0.3)*(0.80*(PAKGGREVTOTLCN - PAKGGEXPINTPCN( - 0))) + 505277.259999999*@DURING(&quot;2012&quot;)
</pre></div>
</div>
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">allmodels</span><span class="p">[</span><span class="s1">&#39;ago&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">all_frml_dict</span><span class="p">[</span><span class="s1">&#39;AGONECONGOVTCN&#39;</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Endo_var        : AGONECONGOVTCN
Original        : DIFF(AGONECONGOVTCN)=DIFF(AGOGGEXPGNFSCN+AGOGGEXPWAGECN)*AGONECONGOVTCOV_/100+14591.8357729705*DUMH
Preprocessed    : ((AGONECONGOVTCN)-(AGONECONGOVTCN(-1)))=((AGOGGEXPGNFSCN+AGOGGEXPWAGECN)-(AGOGGEXPGNFSCN(-1)+AGOGGEXPWAGECN(-1)))*AGONECONGOVTCOV_/100+14591.8357729705*DUMH
Normalized      : AGONECONGOVTCN = (AGONECONGOVTCN_A+ (((AGOGGEXPGNFSCN+AGOGGEXPWAGECN)-(AGOGGEXPGNFSCN(-1)+AGOGGEXPWAGECN(-1)))*AGONECONGOVTCOV_/100+14591.8357729705*DUMH) +AGONECONGOVTCN(-1)) * (1-AGONECONGOVTCN_D)+ AGONECONGOVTCN_X*AGONECONGOVTCN_D 
Calc_add_factor : AGONECONGOVTCN_A = AGONECONGOVTCN- ((((AGOGGEXPGNFSCN+AGOGGEXPWAGECN)-(AGOGGEXPGNFSCN(-1)+AGOGGEXPWAGECN(-1)))*AGONECONGOVTCOV_/100+14591.8357729705*DUMH)) -AGONECONGOVTCN(-1)
Fitted          : AGONECONGOVTCN_FITTED =  (((AGOGGEXPGNFSCN+AGOGGEXPWAGECN)-(AGOGGEXPGNFSCN(-1)+AGOGGEXPWAGECN(-1)))*AGONECONGOVTCOV_/100+14591.8357729705*DUMH) +AGONECONGOVTCN(-1)
Eviews          : D(AGONECONGOVTCN) = D(AGOGGEXPGNFSCN + AGOGGEXPWAGECN)*AGONECONGOVTCOV_/100 + 14591.8357729705*DUMH
</pre></div>
</div>
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">allmodels</span><span class="p">[</span><span class="s1">&#39;pak&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">mmodel</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;
Model name                              :                  PAK 
Model structure                         :         Simultaneous 
Number of variables                     :                  841 
Number of exogeneous  variables         :                  463 
Number of endogeneous variables         :                  378 
&gt;
</pre></div>
</div>
</div>
</div>
</div>
</div>
</div>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            kernelName: "python3",
            path: "./content\howto\onboard\eviews"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

              </div>
              
            
                <!-- Previous / next buttons -->
<div class='prev-next-area'> 
    <a class='left-prev' id="prev-link" href="onboard%20one%20model%20from%20%20wf1.html" title="previous page">
        <i class="fas fa-angle-left"></i>
        <div class="prev-next-info">
            <p class="prev-next-subtitle">previous</p>
            <p class="prev-next-title"><span class="section-number">11. </span>Onboard a model defined in a .wf1 file</p>
        </div>
    </a>
    <a class='right-next' id="next-link" href="Normalizing%20when%20onboarding%20eviews.html" title="next page">
    <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title"><span class="section-number">13. </span>Normalizing when onboarding  eviews models</p>
    </div>
    <i class="fas fa-angle-right"></i>
    </a>
</div>
            
        </div>
    </div>
    <footer class="footer">
  <p>
    
      By Ib Hansen<br/>
    
        &copy; Copyright 2021.<br/>
  </p>
</footer>
</main>


      </div>
    </div>
  
  <script src="../../../../_static/js/index.be7d3bbb2ef33a8344ce.js"></script>

  </body>
</html>